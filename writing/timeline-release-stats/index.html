<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>
      Timeline release statistics | Rickard Lindberg
    </title>

    <!-- Bootstrap -->
    <link href="../../static/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <meta name="keywords" content="programming, writing" />
    <meta name="description" content="Rickard Lindberg">
    <link rel="stylesheet" href="../../static/layout.css" type="text/css">
    <link rel="stylesheet" href="../../static/syntax.css" type="text/css">
    <link rel="alternate" href="../../atom.xml" type="application/atom+xml" title="Atom feed">
    <link rel="alternate" href="../../rss.xml" type="application/rss+xml" title="RSS feed">
    <link rel="me" href="https://hachyderm.io/@rickardlindberg">
  </head>
  <body>

    <nav class="navbar navbar-default navbar-static-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../../">rickardlindberg.me</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse navbar-right">
          <ul class="nav navbar-nav">
            <li><a href="../../">Home</a></li>
            <li><a href="../../writing/">Writing</a></li>
            <li><a href="../../writing/newsletter/">Newsletter</a></li>
            <li><a href="../../projects/">Projects</a></li>
            <li><a href="../../contact/">Contact</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">
      <h1>Timeline release statistics</h1>

<p><em>Published on 2015-07-01.</em></p>

<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">subprocess</span>
<span class="kn">import</span> <span class="nn">dateutil.parser</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="o">%</span><span class="k">matplotlib</span> inline

<span class="n">PATH_TO_REPO</span> <span class="o">=</span> <span class="s">&quot;main-sf&quot;</span>
<span class="n">PATH_TO_CHANGELOG</span> <span class="o">=</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">/doc/changelog.rst&quot;</span> <span class="o">%</span> <span class="n">PATH_TO_REPO</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In this notebook I will explore data from Timeline to try to learn something.</p>
<p>In particular, I'm interested in knowing what makes a Timeline release successful. What did we do right that we can continue to do more of so that future releases of Timeline will be successful.</p>
<p>That is a quite vague direction, but I hope I can ask some more specific questions as I go along.</p>
<h2 id="When-did-releases-happen?">When did releases happen?<a class="anchor-link" href="#When-did-releases-happen?">¶</a></h2><p>Where do we start? Let's start somewhere.</p>
<p>Let's start by figuring out when the different releases happened. We can parse that information from the changelog:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">release_dates</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">release_versions</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">PATH_TO_CHANGELOG</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">line</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">r&quot;^Version (\d+\.\d+\.\d+)$&quot;</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
            <span class="n">version</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
            <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
            <span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">r&quot;^\*\*Released on (.*)\.\*\*$&quot;</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
                <span class="n">release_dates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dateutil</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">date</span><span class="p">())</span>
                <span class="n">release_versions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">version</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's load that into Pandas so that we can more easily work with it:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">releases</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s">&quot;date&quot;</span><span class="p">:</span> <span class="n">release_dates</span><span class="p">,</span>
    <span class="s">&quot;version&quot;</span><span class="p">:</span> <span class="n">release_versions</span><span class="p">,</span>
<span class="p">})</span>

<span class="n">releases</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[3]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<div style="max-height:1000px;max-width:1500px;overflow:auto;">
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td> 2015-04-30</td>
      <td> 1.6.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td> 2015-01-31</td>
      <td> 1.5.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td> 2014-11-12</td>
      <td> 1.4.1</td>
    </tr>
    <tr>
      <th>3</th>
      <td> 2014-11-09</td>
      <td> 1.4.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td> 2014-06-30</td>
      <td> 1.3.0</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 2 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="What-does-the-frequency-look-like?">What does the frequency look like?<a class="anchor-link" href="#What-does-the-frequency-look-like?">¶</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's plot when releases occured in time to get a feel for the distribution.</p>
<p>Let's first add a dummy column that we will use for plotting purposes.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">releases</span><span class="p">[</span><span class="s">&quot;dummy&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">release_dates</span><span class="p">))</span>
<span class="n">releases</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[4]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<div style="max-height:1000px;max-width:1500px;overflow:auto;">
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>version</th>
      <th>dummy</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td> 2015-04-30</td>
      <td> 1.6.0</td>
      <td> 0</td>
    </tr>
    <tr>
      <th>1</th>
      <td> 2015-01-31</td>
      <td> 1.5.0</td>
      <td> 0</td>
    </tr>
    <tr>
      <th>2</th>
      <td> 2014-11-12</td>
      <td> 1.4.1</td>
      <td> 0</td>
    </tr>
    <tr>
      <th>3</th>
      <td> 2014-11-09</td>
      <td> 1.4.0</td>
      <td> 0</td>
    </tr>
    <tr>
      <th>4</th>
      <td> 2014-06-30</td>
      <td> 1.3.0</td>
      <td> 0</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 3 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's also filter out the major releases as we only want to show them on the x-axis:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">major_releases</span> <span class="o">=</span> <span class="n">releases</span><span class="p">[</span><span class="n">releases</span><span class="p">[</span><span class="s">&quot;version&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&quot;.0&quot;</span><span class="p">)]</span>
<span class="n">major_releases</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[5]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<div style="max-height:1000px;max-width:1500px;overflow:auto;">
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>version</th>
      <th>dummy</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td> 2015-04-30</td>
      <td> 1.6.0</td>
      <td> 0</td>
    </tr>
    <tr>
      <th>1</th>
      <td> 2015-01-31</td>
      <td> 1.5.0</td>
      <td> 0</td>
    </tr>
    <tr>
      <th>3</th>
      <td> 2014-11-09</td>
      <td> 1.4.0</td>
      <td> 0</td>
    </tr>
    <tr>
      <th>4</th>
      <td> 2014-06-30</td>
      <td> 1.3.0</td>
      <td> 0</td>
    </tr>
    <tr>
      <th>9</th>
      <td> 2014-04-05</td>
      <td> 1.2.0</td>
      <td> 0</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 3 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we are ready to plot:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">releases</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s">&quot;date&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">&quot;dummy&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s">&quot;o&quot;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">major_releases</span><span class="p">[</span><span class="s">&quot;date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">major_releases</span><span class="p">[</span><span class="s">&quot;version&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">([])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="image1.png">
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We see that there are some blue circles to the right of the vertical lines. Those are the minor releases. For example, the circle to the right of 0.12.0 is probably release 0.12.1.</p>
<p>Now we've got an intuitive feel for the distribution. Let's see if we can plot it more precicely:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">sorted_major_releases</span> <span class="o">=</span> <span class="n">major_releases</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="s">&quot;date&quot;</span><span class="p">)</span>
<span class="n">sorted_major_releases</span><span class="p">[</span><span class="s">&quot;time_in_development&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sorted_major_releases</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span>
<span class="n">sorted_major_releases</span><span class="p">[</span><span class="s">&quot;days_in_development&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sorted_major_releases</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">time_in_development</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">item</span><span class="p">()</span> <span class="o">/</span> <span class="mf">1000000000.0</span> <span class="o">/</span> <span class="mf">60.0</span> <span class="o">/</span> <span class="mf">60.0</span> <span class="o">/</span> <span class="mf">24.0</span><span class="p">)</span>
<span class="n">sorted_major_releases</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[7]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<div style="max-height:1000px;max-width:1500px;overflow:auto;">
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>version</th>
      <th>dummy</th>
      <th>time_in_development</th>
      <th>days_in_development</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>38</th>
      <td> 2009-04-11</td>
      <td> 0.1.0</td>
      <td> 0</td>
      <td>    NaT</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>37</th>
      <td> 2009-07-05</td>
      <td> 0.2.0</td>
      <td> 0</td>
      <td>85 days</td>
      <td> 85</td>
    </tr>
    <tr>
      <th>36</th>
      <td> 2009-08-01</td>
      <td> 0.3.0</td>
      <td> 0</td>
      <td>27 days</td>
      <td> 27</td>
    </tr>
    <tr>
      <th>35</th>
      <td> 2009-09-01</td>
      <td> 0.4.0</td>
      <td> 0</td>
      <td>31 days</td>
      <td> 31</td>
    </tr>
    <tr>
      <th>34</th>
      <td> 2009-10-01</td>
      <td> 0.5.0</td>
      <td> 0</td>
      <td>30 days</td>
      <td> 30</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 5 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>And now we are ready to plot:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">sorted_major_releases</span><span class="o">.</span><span class="n">days_in_development</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s">&quot;bar&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span>
    <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">sorted_major_releases</span><span class="o">.</span><span class="n">days_in_development</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="c"># Not sure why +1 is needed</span>
    <span class="n">sorted_major_releases</span><span class="o">.</span><span class="n">version</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
    <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">&quot;Days in development for Timeline releases&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="image2.png">
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>That was fun!</p>
<p>Looks like we released often in the beginning and then changed release period at version 0.10.0. I know that we decided some time to have a new release roughly every 3rd month. Was it around 0.10.0? Then why are releases 0.11.0, 0.17.0, and 1.4.0 significantly longer?</p>
<p>From the changelog, it looks like version 0.11.0 contained very few changes. So maybe it was "delayed" because we had nothing useful to release.</p>
<p>The same goes for version 0.17.0.</p>
<p>Version 1.4.0 contained the undo feature that I remember that we wanted to test a bit more before making the release. So that is probably the cause of 1.4.0 being a little late.</p>
<h2 id="What-about-commit-frequency?">What about commit frequency?<a class="anchor-link" href="#What-about-commit-frequency?">¶</a></h2><p>Now, let's extract some data about commits to see if the data there supports our guesses above.</p>
<p>Let's start by extracting the dates of all commits:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">output</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">check_output</span><span class="p">([</span>
    <span class="s">&quot;hg&quot;</span><span class="p">,</span> <span class="s">&quot;log&quot;</span><span class="p">,</span>
    <span class="s">&quot;--template&quot;</span><span class="p">,</span> <span class="s">&quot;{date|isodate}</span><span class="se">\n</span><span class="s">&quot;</span>
<span class="p">],</span> <span class="n">cwd</span><span class="o">=</span><span class="n">PATH_TO_REPO</span><span class="p">)</span>

<span class="n">commits</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s">&quot;date&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">dateutil</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">date</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">output</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)]</span>
<span class="p">})</span>
<span class="n">commits</span> <span class="o">=</span> <span class="n">commits</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="s">&quot;date&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">commits</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[10]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<div style="max-height:1000px;max-width:1500px;overflow:auto;">
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3147</th>
      <td> 2008-10-28</td>
    </tr>
    <tr>
      <th>3146</th>
      <td> 2008-10-29</td>
    </tr>
    <tr>
      <th>3145</th>
      <td> 2008-11-01</td>
    </tr>
    <tr>
      <th>3144</th>
      <td> 2008-11-02</td>
    </tr>
    <tr>
      <th>3143</th>
      <td> 2008-11-03</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 1 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">commits</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[11]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<div style="max-height:1000px;max-width:1500px;overflow:auto;">
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td> 2015-06-19</td>
    </tr>
    <tr>
      <th>1</th>
      <td> 2015-06-19</td>
    </tr>
    <tr>
      <th>2</th>
      <td> 2015-06-19</td>
    </tr>
    <tr>
      <th>3</th>
      <td> 2015-06-19</td>
    </tr>
    <tr>
      <th>4</th>
      <td> 2015-06-19</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 1 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">commits</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[12]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<div style="max-height:1000px;max-width:1500px;overflow:auto;">
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>       3148</td>
    </tr>
    <tr>
      <th>unique</th>
      <td>        718</td>
    </tr>
    <tr>
      <th>top</th>
      <td> 2014-09-09</td>
    </tr>
    <tr>
      <th>freq</th>
      <td>         32</td>
    </tr>
  </tbody>
</table>
<p>4 rows × 1 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>From that we can create a series that has the number of commits per day:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">commit_frequency</span> <span class="o">=</span> <span class="n">commits</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s">&quot;date&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">()</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s">&quot;date&quot;</span><span class="p">:</span> <span class="s">&quot;number_of_commits&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">asfreq</span><span class="p">(</span><span class="s">&quot;D&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">commit_frequency</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[13]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<div style="max-height:1000px;max-width:1500px;overflow:auto;">
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>number_of_commits</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2008-10-28</th>
      <td> 1</td>
    </tr>
    <tr>
      <th>2008-10-29</th>
      <td> 1</td>
    </tr>
    <tr>
      <th>2008-10-30</th>
      <td> 0</td>
    </tr>
    <tr>
      <th>2008-10-31</th>
      <td> 0</td>
    </tr>
    <tr>
      <th>2008-11-01</th>
      <td> 1</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 1 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's plot it to see what it looks like:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">commit_frequency</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">&quot;Number of commits over time&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span>
    <span class="n">sorted_major_releases</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
    <span class="n">sorted_major_releases</span><span class="o">.</span><span class="n">version</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
    <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="image3.png">
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now let's see if we can look at a particular release. Let's look at the three we found took longer: 0.11.0, 0.17.0, and 1.4.0:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="k">def</span> <span class="nf">plot_commit_stat</span><span class="p">(</span><span class="n">start_release</span><span class="p">,</span> <span class="n">end_release</span><span class="p">):</span>
    <span class="n">span</span> <span class="o">=</span> <span class="n">major_releases</span><span class="p">[(</span><span class="n">major_releases</span><span class="o">.</span><span class="n">version</span> <span class="o">==</span> <span class="n">start_release</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">major_releases</span><span class="o">.</span><span class="n">version</span> <span class="o">==</span> <span class="n">end_release</span><span class="p">)]</span>
    <span class="n">start_date</span> <span class="o">=</span> <span class="n">span</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
    <span class="n">end_date</span> <span class="o">=</span> <span class="n">span</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
    <span class="n">commit_frequency</span><span class="p">[</span><span class="n">start_date</span><span class="p">:</span><span class="n">end_date</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="n">labels</span> <span class="o">=</span> <span class="n">major_releases</span><span class="p">[(</span><span class="n">major_releases</span><span class="o">.</span><span class="n">date</span> <span class="o">&gt;=</span> <span class="n">start_date</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">major_releases</span><span class="o">.</span><span class="n">date</span> <span class="o">&lt;=</span> <span class="n">end_date</span><span class="p">)]</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">&quot;Number of commits between </span><span class="si">%s</span><span class="s"> - </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">start_release</span><span class="p">,</span> <span class="n">end_release</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span>
        <span class="n">labels</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
        <span class="n">labels</span><span class="o">.</span><span class="n">version</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
        <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span>
    <span class="p">)</span>

<span class="n">plot_commit_stat</span><span class="p">(</span><span class="s">&quot;0.10.0&quot;</span><span class="p">,</span> <span class="s">&quot;0.11.0&quot;</span><span class="p">)</span>
<span class="n">plot_commit_stat</span><span class="p">(</span><span class="s">&quot;0.16.0&quot;</span><span class="p">,</span> <span class="s">&quot;0.17.0&quot;</span><span class="p">)</span>
<span class="n">plot_commit_stat</span><span class="p">(</span><span class="s">&quot;1.3.0&quot;</span><span class="p">,</span> <span class="s">&quot;1.4.0&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="image4.png">
</div>

</div>

<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="image5.png">
</div>

</div>

<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="image6.png">
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The two earlier releases seem to contain fewer commits per day. The same that we saw from the changelog. Version 1.4.0 seems to have quite steady commits from the middle of the period. Looking at the overall commit frequency graph we also see that 1.4.0 contains the peak commits per day at around 32. So it's possible that it took longer because we wanted to add some more tests.</p>
<p>I'm not sure if I can draw any conclusions from this, but looking at data graphically is quite fun, and I've learned how to use the <a href="http://pandas.pydata.org/">Pandas library</a>.</p>

</div>
</div>
</div>


      <div class="jumbotron">
<div class="row">
<div class="col-md-12">

<p>What is Rickard working on and thinking about <strong>right
now</strong>?</p>

<p>Every month I write a <em>newsletter</em> about just that. You will get
updates about my <em>current projects</em> and <em>thoughts about
programming</em>, and also get a chance to hit reply and <em>interact</em> with
me. Subscribe to it below.</p>

</div>
</div>
<div class="row">
<div class="col-md-12">
<iframe scrolling="no" style="width:100%!important;height:220px;border:1px #ccc solid !important" src="https://buttondown.email/rickardlindberg?as_embed=true"></iframe>
</div>
</div>
</div>

    </div><!-- /.container -->

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="../../static/bootstrap/js/bootstrap.min.js"></script>
  </body>
</html>
