<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title>Rickard's personal homepage: latest posts</title>
    <link href="http://rickardlindberg.me/atom.xml" rel="self" />
    <link href="http://rickardlindberg.me" />
    <id>http://rickardlindberg.me/atom.xml</id>
    <author>
        <name>Rickard Lindberg</name>
        <email>rickard@rickardlindberg.me</email>
    </author>
    <updated>2020-05-04T00:00:00Z</updated>
    <entry>
    <title>Newsletter April 2020</title>
    <link href="http://rickardlindberg.me/writing/newsletter/april-2020/" />
    <id>http://rickardlindberg.me/writing/newsletter/april-2020/</id>
    <published>2020-05-04T00:00:00Z</published>
    <updated>2020-05-04T00:00:00Z</updated>
    <summary type="html"><![CDATA[<h1>Newsletter April 2020</h1>

<p><em>Published on  4 May 2020.</em></p>

<p>This is what I’ve been up to in April 2020:</p>
<ul>
<li><p>I finished the blog post about <a href="/writing/wx-layout-update/index.html">Layout/Update problem in wxPython</a>.</p></li>
<li><p>I read <a href="http://journal.stuffwithstuff.com/2020/04/05/crafting-crafting-interpreters/">Crafting “Crafting Interpreters”</a>. It was fun to read about his process of writing the book.</p></li>
<li><p>I watched <a href="https://www.youtube.com/watch?v=vtIzMaLkCaM&amp;t=1843s">LEADERSHIP LAB: The Craft of Writing Effectively</a>. Main takeaway was that the most important thing about writing is that it should be <strong>valuable</strong> to the reader. Everything else is secondary. A good structure to make it valuable is to first describe a problem (that the reader has) and then a solution.</p></li>
<li><p>I watched <a href="https://www.youtube.com/watch?v=CnbVCNIh1NA">(ninth RacketCon): Andrew Blinn – Fructure: A Structured Editing Engine in Racket</a>. It inspired me.</p></li>
</ul>
]]></summary>
</entry>
<entry>
    <title>Layout/Update problem in wxPython</title>
    <link href="http://rickardlindberg.me/writing/wx-layout-update/" />
    <id>http://rickardlindberg.me/writing/wx-layout-update/</id>
    <published>2020-04-03T00:00:00Z</published>
    <updated>2020-04-03T00:00:00Z</updated>
    <summary type="html"><![CDATA[<h1>Layout/Update problem in wxPython</h1>

<p><em>Published on 2020-04-03.</em></p>

<p>When working on <a href="/projects/rliterate/index.html">RLiterate</a> I wanted to speed up drawing to make characters appear faster on the screen after a key press. The <a href="https://docs.wxpython.org/wx.Window.html#wx.Window.Update">Update</a> method seemed to be what I wanted:</p>

<blockquote>Calling this method immediately repaints the invalidated area of the window and all of its children recursively (this normally only happens when the flow of control returns to the event loop).</blockquote>

<p>However, using it turned out to be problematic. In this post I present a test program that demonstrates the problem and then discuss a solution.</p>

<ul><li><a href="#d72b284e97a449ed9a66e227cd8c3a57">Overview</a>

</li>

<li><a href="#a4dfb24232ad4cbba0231c02ee01ac05">Test program</a>

</li>

<li><a href="#7bc0a753f4b74abca1ce3667a620d138">Results</a>

</li>

<li><a href="#82457fb8605149e6a5e1b079971cbf9e">Discussion</a>

</li>

<li><a href="#3e79fd9904854dc2bd273d633931b05d">Complete test program</a>

</li>

</ul><h2><a name="d72b284e97a449ed9a66e227cd8c3a57"></a>Overview</h2>

<p>The test program lays out a few widgets vertically. First a button that triggers a change in layout, then a text widget surrounded by two panels to more clearly indicate the size of the text widget. It looks like this:</p>

<div class="rliterate-image"><img src="data:image/png;base64,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"></img>

</div>

<div class="rliterate-image-text"><p>Tests program.</p>

</div>

<p>When the button is clicked, the size of the text widget is increased followed by a call to <code>Layout</code> and <code>Update</code> on the frame. I would expect the frame to redraw immediately at this point, but it doesn't. At least not correctly.</p>

<h2><a name="a4dfb24232ad4cbba0231c02ee01ac05"></a>Test program</h2>

<p>The structure of the test program looks like this:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>testlayout.py</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="kn">i</span><span class="kn">m</span><span class="kn">p</span><span class="kn">o</span><span class="kn">r</span><span class="kn">t</span><span class=""> </span><span class="nn">w</span><span class="nn">x</span><span class="">
</span><span class="kn">i</span><span class="kn">m</span><span class="kn">p</span><span class="kn">o</span><span class="kn">r</span><span class="kn">t</span><span class=""> </span><span class="nn">t</span><span class="nn">i</span><span class="nn">m</span><span class="nn">e</span><span class="">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">T</span><span class="nc">e</span><span class="nc">s</span><span class="nc">t</span><span class="nc">F</span><span class="nc">r</span><span class="nc">a</span><span class="nc">m</span><span class="nc">e</span><span class="p">(</span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">F</span><span class="n">r</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp">&lt;</span><span class="cp">&lt;</span><span class="cp">T</span><span class="cp">e</span><span class="cp">s</span><span class="cp">t</span><span class="cp">F</span><span class="cp">r</span><span class="cp">a</span><span class="cp">m</span><span class="cp">e</span><span class="cp">&gt;</span><span class="cp">&gt;</span><span class="cp">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">T</span><span class="nc">e</span><span class="nc">x</span><span class="nc">t</span><span class="p">(</span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">P</span><span class="n">a</span><span class="n">n</span><span class="n">e</span><span class="n">l</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp">&lt;</span><span class="cp">&lt;</span><span class="cp">T</span><span class="cp">e</span><span class="cp">x</span><span class="cp">t</span><span class="cp">&gt;</span><span class="cp">&gt;</span><span class="cp">
</span><span class="">
</span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="vm">_</span><span class="vm">_</span><span class="vm">n</span><span class="vm">a</span><span class="vm">m</span><span class="vm">e</span><span class="vm">_</span><span class="vm">_</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">_</span><span class="s2">_</span><span class="s2">m</span><span class="s2">a</span><span class="s2">i</span><span class="s2">n</span><span class="s2">_</span><span class="s2">_</span><span class="s2">"</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">a</span><span class="n">p</span><span class="n">p</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">A</span><span class="n">p</span><span class="n">p</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">f</span><span class="n">r</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">T</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">F</span><span class="n">r</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">f</span><span class="n">r</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="o">.</span><span class="n">S</span><span class="n">h</span><span class="n">o</span><span class="n">w</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">a</span><span class="n">p</span><span class="n">p</span><span class="o">.</span><span class="n">M</span><span class="n">a</span><span class="n">i</span><span class="n">n</span><span class="n">L</span><span class="n">o</span><span class="n">o</span><span class="n">p</span><span class="p">(</span><span class="p">)</span><span class="">
</span></pre></div>

</div>

<p>If you prefer the read the complete test program, go to <a href="#3e79fd9904854dc2bd273d633931b05d"><em>Complete test program</em></a>.</p>

<p>The <code>__init__</code> method of the test frame lays out the widgets using a vertical sizer and hooks up the click event.</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>testlayout.py</li><li><span class="cp">TestFrame</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">F</span><span class="n">r</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="o">.</span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="bp">N</span><span class="bp">o</span><span class="bp">n</span><span class="bp">e</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">b</span><span class="n">u</span><span class="n">t</span><span class="n">t</span><span class="n">o</span><span class="n">n</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">B</span><span class="n">u</span><span class="n">t</span><span class="n">t</span><span class="n">o</span><span class="n">n</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">b</span><span class="n">e</span><span class="n">l</span><span class="o">=</span><span class="s2">"</span><span class="s2">i</span><span class="s2">n</span><span class="s2">c</span><span class="s2">r</span><span class="s2">e</span><span class="s2">a</span><span class="s2">s</span><span class="s2">e</span><span class="s2"> </span><span class="s2">t</span><span class="s2">e</span><span class="s2">x</span><span class="s2">t</span><span class="s2"> </span><span class="s2">s</span><span class="s2">i</span><span class="s2">z</span><span class="s2">e</span><span class="s2">"</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">b</span><span class="n">u</span><span class="n">t</span><span class="n">t</span><span class="n">o</span><span class="n">n</span><span class="o">.</span><span class="n">B</span><span class="n">i</span><span class="n">n</span><span class="n">d</span><span class="p">(</span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">E</span><span class="n">V</span><span class="n">T</span><span class="n">_</span><span class="n">B</span><span class="n">U</span><span class="n">T</span><span class="n">T</span><span class="n">O</span><span class="n">N</span><span class="p">,</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">o</span><span class="n">n</span><span class="n">_</span><span class="n">i</span><span class="n">n</span><span class="n">c</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">s</span><span class="n">e</span><span class="n">_</span><span class="n">s</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="n">_</span><span class="n">c</span><span class="n">l</span><span class="n">i</span><span class="n">c</span><span class="n">k</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">t</span><span class="n">o</span><span class="n">p</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">P</span><span class="n">a</span><span class="n">n</span><span class="n">e</span><span class="n">l</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">s</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class=""> </span><span class="mi">2</span><span class="mi">0</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">t</span><span class="n">o</span><span class="n">p</span><span class="o">.</span><span class="n">S</span><span class="n">e</span><span class="n">t</span><span class="n">B</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">g</span><span class="n">r</span><span class="n">o</span><span class="n">u</span><span class="n">n</span><span class="n">d</span><span class="n">C</span><span class="n">o</span><span class="n">l</span><span class="n">o</span><span class="n">u</span><span class="n">r</span><span class="p">(</span><span class="s2">"</span><span class="s2">y</span><span class="s2">e</span><span class="s2">l</span><span class="s2">l</span><span class="s2">o</span><span class="s2">w</span><span class="s2">"</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">t</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">T</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">b</span><span class="n">o</span><span class="n">t</span><span class="n">t</span><span class="n">o</span><span class="n">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">P</span><span class="n">a</span><span class="n">n</span><span class="n">e</span><span class="n">l</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">s</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class=""> </span><span class="mi">2</span><span class="mi">0</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">b</span><span class="n">o</span><span class="n">t</span><span class="n">t</span><span class="n">o</span><span class="n">m</span><span class="o">.</span><span class="n">S</span><span class="n">e</span><span class="n">t</span><span class="n">B</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">g</span><span class="n">r</span><span class="n">o</span><span class="n">u</span><span class="n">n</span><span class="n">d</span><span class="n">C</span><span class="n">o</span><span class="n">l</span><span class="n">o</span><span class="n">u</span><span class="n">r</span><span class="p">(</span><span class="s2">"</span><span class="s2">p</span><span class="s2">i</span><span class="s2">n</span><span class="s2">k</span><span class="s2">"</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">S</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="n">r</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">B</span><span class="n">o</span><span class="n">x</span><span class="n">S</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="n">r</span><span class="p">(</span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">V</span><span class="n">E</span><span class="n">R</span><span class="n">T</span><span class="n">I</span><span class="n">C</span><span class="n">A</span><span class="n">L</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">S</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="n">r</span><span class="o">.</span><span class="n">A</span><span class="n">d</span><span class="n">d</span><span class="p">(</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">b</span><span class="n">u</span><span class="n">t</span><span class="n">t</span><span class="n">o</span><span class="n">n</span><span class="p">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">b</span><span class="n">o</span><span class="n">r</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class=""> </span><span class="n">p</span><span class="n">r</span><span class="n">o</span><span class="n">p</span><span class="n">o</span><span class="n">r</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class=""> </span><span class="n">f</span><span class="n">l</span><span class="n">a</span><span class="n">g</span><span class="o">=</span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">E</span><span class="n">X</span><span class="n">P</span><span class="n">A</span><span class="n">N</span><span class="n">D</span><span class="o">|</span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">A</span><span class="n">L</span><span class="n">L</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">S</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="n">r</span><span class="o">.</span><span class="n">A</span><span class="n">d</span><span class="n">d</span><span class="p">(</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">t</span><span class="n">o</span><span class="n">p</span><span class="p">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">b</span><span class="n">o</span><span class="n">r</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class=""> </span><span class="n">p</span><span class="n">r</span><span class="n">o</span><span class="n">p</span><span class="n">o</span><span class="n">r</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class=""> </span><span class="n">f</span><span class="n">l</span><span class="n">a</span><span class="n">g</span><span class="o">=</span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">E</span><span class="n">X</span><span class="n">P</span><span class="n">A</span><span class="n">N</span><span class="n">D</span><span class="o">|</span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">A</span><span class="n">L</span><span class="n">L</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">S</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="n">r</span><span class="o">.</span><span class="n">A</span><span class="n">d</span><span class="n">d</span><span class="p">(</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">t</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="p">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">b</span><span class="n">o</span><span class="n">r</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class=""> </span><span class="n">p</span><span class="n">r</span><span class="n">o</span><span class="n">p</span><span class="n">o</span><span class="n">r</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class=""> </span><span class="n">f</span><span class="n">l</span><span class="n">a</span><span class="n">g</span><span class="o">=</span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">E</span><span class="n">X</span><span class="n">P</span><span class="n">A</span><span class="n">N</span><span class="n">D</span><span class="o">|</span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">A</span><span class="n">L</span><span class="n">L</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">S</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="n">r</span><span class="o">.</span><span class="n">A</span><span class="n">d</span><span class="n">d</span><span class="p">(</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">b</span><span class="n">o</span><span class="n">t</span><span class="n">t</span><span class="n">o</span><span class="n">m</span><span class="p">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">b</span><span class="n">o</span><span class="n">r</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class=""> </span><span class="n">p</span><span class="n">r</span><span class="n">o</span><span class="n">p</span><span class="n">o</span><span class="n">r</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class=""> </span><span class="n">f</span><span class="n">l</span><span class="n">a</span><span class="n">g</span><span class="o">=</span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">E</span><span class="n">X</span><span class="n">P</span><span class="n">A</span><span class="n">N</span><span class="n">D</span><span class="o">|</span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">A</span><span class="n">L</span><span class="n">L</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="p">)</span><span class="">
</span></pre></div>

</div>

<p>The click event handler increases the size of the text widget and tries to do an immediate update. The sleep is there to see if the update is delayed or not.</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>testlayout.py</li><li><span class="cp">TestFrame</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">_</span><span class="nf">o</span><span class="nf">n</span><span class="nf">_</span><span class="nf">i</span><span class="nf">n</span><span class="nf">c</span><span class="nf">r</span><span class="nf">e</span><span class="nf">a</span><span class="nf">s</span><span class="nf">e</span><span class="nf">_</span><span class="nf">s</span><span class="nf">i</span><span class="nf">z</span><span class="nf">e</span><span class="nf">_</span><span class="nf">c</span><span class="nf">l</span><span class="nf">i</span><span class="nf">c</span><span class="nf">k</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">r</span><span class="k">i</span><span class="k">n</span><span class="k">t</span><span class="p">(</span><span class="s2">"</span><span class="s2">"</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">r</span><span class="k">i</span><span class="k">n</span><span class="k">t</span><span class="p">(</span><span class="s2">"</span><span class="s2">C</span><span class="s2">l</span><span class="s2">i</span><span class="s2">c</span><span class="s2">k</span><span class="s2">"</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">t</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="o">.</span><span class="n">i</span><span class="n">n</span><span class="n">c</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">s</span><span class="n">e</span><span class="n">_</span><span class="n">s</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">L</span><span class="n">a</span><span class="n">y</span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">r</span><span class="k">i</span><span class="k">n</span><span class="k">t</span><span class="p">(</span><span class="s2">"</span><span class="s2">U</span><span class="s2">p</span><span class="s2">d</span><span class="s2">a</span><span class="s2">t</span><span class="s2">e</span><span class="s2">"</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">U</span><span class="n">p</span><span class="n">d</span><span class="n">a</span><span class="n">t</span><span class="n">e</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">t</span><span class="n">i</span><span class="n">m</span><span class="n">e</span><span class="o">.</span><span class="n">s</span><span class="n">l</span><span class="n">e</span><span class="n">e</span><span class="n">p</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">r</span><span class="k">i</span><span class="k">n</span><span class="k">t</span><span class="p">(</span><span class="s2">"</span><span class="s2">U</span><span class="s2">p</span><span class="s2">d</span><span class="s2">a</span><span class="s2">t</span><span class="s2">e</span><span class="s2"> </span><span class="s2">d</span><span class="s2">o</span><span class="s2">n</span><span class="s2">e</span><span class="s2">"</span><span class="p">)</span><span class="">
</span></pre></div>

</div>

<p>The <code>__init__</code> method of the text widget sets an initial size and hooks up paint and size events.</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>testlayout.py</li><li><span class="cp">Text</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">p</span><span class="n">a</span><span class="n">r</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">P</span><span class="n">a</span><span class="n">n</span><span class="n">e</span><span class="n">l</span><span class="o">.</span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">p</span><span class="n">a</span><span class="n">r</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">m</span><span class="n">i</span><span class="n">n</span><span class="n">_</span><span class="n">h</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">i</span><span class="n">n</span><span class="n">c</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">s</span><span class="n">e</span><span class="n">_</span><span class="n">s</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">B</span><span class="n">i</span><span class="n">n</span><span class="n">d</span><span class="p">(</span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">E</span><span class="n">V</span><span class="n">T</span><span class="n">_</span><span class="n">P</span><span class="n">A</span><span class="n">I</span><span class="n">N</span><span class="n">T</span><span class="p">,</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">o</span><span class="n">n</span><span class="n">_</span><span class="n">p</span><span class="n">a</span><span class="n">i</span><span class="n">n</span><span class="n">t</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">B</span><span class="n">i</span><span class="n">n</span><span class="n">d</span><span class="p">(</span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">E</span><span class="n">V</span><span class="n">T</span><span class="n">_</span><span class="n">S</span><span class="n">I</span><span class="n">Z</span><span class="n">E</span><span class="p">,</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">o</span><span class="n">n</span><span class="n">_</span><span class="n">s</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="p">)</span><span class="">
</span></pre></div>

</div>

<p>The <code>increase_size</code> method increases the height and sets a new min size.</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>testlayout.py</li><li><span class="cp">Text</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">i</span><span class="nf">n</span><span class="nf">c</span><span class="nf">r</span><span class="nf">e</span><span class="nf">a</span><span class="nf">s</span><span class="nf">e</span><span class="nf">_</span><span class="nf">s</span><span class="nf">i</span><span class="nf">z</span><span class="nf">e</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">m</span><span class="n">i</span><span class="n">n</span><span class="n">_</span><span class="n">h</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="mi">0</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">S</span><span class="n">e</span><span class="n">t</span><span class="n">M</span><span class="n">i</span><span class="n">n</span><span class="n">S</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="p">(</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">m</span><span class="n">i</span><span class="n">n</span><span class="n">_</span><span class="n">h</span><span class="p">)</span><span class="p">)</span><span class="">
</span></pre></div>

</div>

<p>The paint event handler draws a bunch of lines of text and also prints the rectangles that were invalidated.</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>testlayout.py</li><li><span class="cp">Text</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">_</span><span class="nf">o</span><span class="nf">n</span><span class="nf">_</span><span class="nf">p</span><span class="nf">a</span><span class="nf">i</span><span class="nf">n</span><span class="nf">t</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">r</span><span class="k">i</span><span class="k">n</span><span class="k">t</span><span class="p">(</span><span class="s2">"</span><span class="s2">r</span><span class="s2">e</span><span class="s2">p</span><span class="s2">a</span><span class="s2">i</span><span class="s2">n</span><span class="s2">t</span><span class="s2"> </span><span class="s2">t</span><span class="s2">e</span><span class="s2">x</span><span class="s2">t</span><span class="s2">"</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">u</span><span class="n">p</span><span class="n">d</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">R</span><span class="n">e</span><span class="n">g</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="n">I</span><span class="n">t</span><span class="n">e</span><span class="n">r</span><span class="n">a</span><span class="n">t</span><span class="n">o</span><span class="n">r</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">G</span><span class="n">e</span><span class="n">t</span><span class="n">U</span><span class="n">p</span><span class="n">d</span><span class="n">a</span><span class="n">t</span><span class="n">e</span><span class="n">R</span><span class="n">e</span><span class="n">g</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">(</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">w</span><span class="k">h</span><span class="k">i</span><span class="k">l</span><span class="k">e</span><span class=""> </span><span class="n">u</span><span class="n">p</span><span class="n">d</span><span class="o">.</span><span class="n">H</span><span class="n">a</span><span class="n">v</span><span class="n">e</span><span class="n">R</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="n">s</span><span class="p">(</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">r</span><span class="k">i</span><span class="k">n</span><span class="k">t</span><span class="p">(</span><span class="s2">"</span><span class="s2"> </span><span class="s2"> </span><span class="s2">{</span><span class="s2">}</span><span class="s2">"</span><span class="o">.</span><span class="n">f</span><span class="n">o</span><span class="n">r</span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="p">(</span><span class="n">u</span><span class="n">p</span><span class="n">d</span><span class="o">.</span><span class="n">G</span><span class="n">e</span><span class="n">t</span><span class="n">R</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="p">(</span><span class="p">)</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">u</span><span class="n">p</span><span class="n">d</span><span class="o">.</span><span class="n">N</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">d</span><span class="n">c</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">P</span><span class="n">a</span><span class="n">i</span><span class="n">n</span><span class="n">t</span><span class="n">D</span><span class="n">C</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">f</span><span class="k">o</span><span class="k">r</span><span class=""> </span><span class="n">x</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="nb">r</span><span class="nb">a</span><span class="nb">n</span><span class="nb">g</span><span class="nb">e</span><span class="p">(</span><span class="mi">2</span><span class="mi">0</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">l</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">l</span><span class="s2">i</span><span class="s2">n</span><span class="s2">e</span><span class="s2"> </span><span class="s2">{</span><span class="s2">}</span><span class="s2">"</span><span class="o">.</span><span class="n">f</span><span class="n">o</span><span class="n">r</span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">d</span><span class="n">c</span><span class="o">.</span><span class="n">D</span><span class="n">r</span><span class="n">a</span><span class="n">w</span><span class="n">T</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="p">(</span><span class="n">l</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class="p">,</span><span class=""> </span><span class="mi">5</span><span class="p">,</span><span class=""> </span><span class="n">y</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">y</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="n">d</span><span class="n">c</span><span class="o">.</span><span class="n">G</span><span class="n">e</span><span class="n">t</span><span class="n">T</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">E</span><span class="n">x</span><span class="n">t</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="p">(</span><span class="n">l</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class="p">)</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="o">.</span><span class="n">S</span><span class="n">k</span><span class="n">i</span><span class="n">p</span><span class="p">(</span><span class="p">)</span><span class="">
</span></pre></div>

</div>

<p>The size event just prints the new size.</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>testlayout.py</li><li><span class="cp">Text</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">_</span><span class="nf">o</span><span class="nf">n</span><span class="nf">_</span><span class="nf">s</span><span class="nf">i</span><span class="nf">z</span><span class="nf">e</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">r</span><span class="k">i</span><span class="k">n</span><span class="k">t</span><span class="p">(</span><span class="s2">"</span><span class="s2">r</span><span class="s2">e</span><span class="s2">s</span><span class="s2">i</span><span class="s2">z</span><span class="s2">e</span><span class="s2"> </span><span class="s2">t</span><span class="s2">e</span><span class="s2">x</span><span class="s2">t</span><span class="s2"> </span><span class="s2">{</span><span class="s2">}</span><span class="s2">"</span><span class="o">.</span><span class="n">f</span><span class="n">o</span><span class="n">r</span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="p">(</span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="o">.</span><span class="n">G</span><span class="n">e</span><span class="n">t</span><span class="n">S</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="p">(</span><span class="p">)</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="o">.</span><span class="n">S</span><span class="n">k</span><span class="n">i</span><span class="n">p</span><span class="p">(</span><span class="p">)</span><span class="">
</span></pre></div>

</div>

<h2><a name="7bc0a753f4b74abca1ce3667a620d138"></a>Results</h2>

<p>Here is the output of a button click:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">C</span><span class="">l</span><span class="">i</span><span class="">c</span><span class="">k</span><span class="">
</span><span class="">r</span><span class="">e</span><span class="">s</span><span class="">i</span><span class="">z</span><span class="">e</span><span class=""> </span><span class="">t</span><span class="">e</span><span class="">x</span><span class="">t</span><span class=""> </span><span class="">(</span><span class="">3</span><span class="">9</span><span class="">6</span><span class="">,</span><span class=""> </span><span class="">2</span><span class="">0</span><span class="">)</span><span class="">
</span><span class="">U</span><span class="">p</span><span class="">d</span><span class="">a</span><span class="">t</span><span class="">e</span><span class="">
</span><span class="">r</span><span class="">e</span><span class="">p</span><span class="">a</span><span class="">i</span><span class="">n</span><span class="">t</span><span class=""> </span><span class="">t</span><span class="">e</span><span class="">x</span><span class="">t</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">(</span><span class="">0</span><span class="">,</span><span class=""> </span><span class="">0</span><span class="">,</span><span class=""> </span><span class="">3</span><span class="">9</span><span class="">6</span><span class="">,</span><span class=""> </span><span class="">1</span><span class="">0</span><span class="">)</span><span class="">
</span><span class="">U</span><span class="">p</span><span class="">d</span><span class="">a</span><span class="">t</span><span class="">e</span><span class=""> </span><span class="">d</span><span class="">o</span><span class="">n</span><span class="">e</span><span class="">
</span><span class="">r</span><span class="">e</span><span class="">p</span><span class="">a</span><span class="">i</span><span class="">n</span><span class="">t</span><span class=""> </span><span class="">t</span><span class="">e</span><span class="">x</span><span class="">t</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">(</span><span class="">0</span><span class="">,</span><span class=""> </span><span class="">0</span><span class="">,</span><span class=""> </span><span class="">3</span><span class="">9</span><span class="">6</span><span class="">,</span><span class=""> </span><span class="">2</span><span class="">0</span><span class="">)</span><span class="">
</span></pre></div>

</div>

<ul><li>First, the click event hander is entered.</li>

<li>The text widget properly gets a resize event. (My guess is as a result of the <code>Layout</code> call.)</li>

<li>Then <code>Update</code> is called.</li>

<li>A repaint of the text widget is then done, but the invalidated rectangle is only 10px high. The new height is 20.</li>

<li>After the <code>sleep</code> call, a repaint of the text widget is done again, now with the correct rectangle.</li>

</ul>

<p>So in practice, nothing is changed on the screen until after the sleep call.</p>

<p>It seems to me that the <code>Layout</code> call depends on something happening by following events. Adding a <code>Refresh</code> call immediately after <code>Layout</code> does not seem to have any effect.</p>

<p><strong>Why does the immediate repaint don't get the correct size?</strong></p>

<h2><a name="82457fb8605149e6a5e1b079971cbf9e"></a>Discussion</h2>

<p>I asked about this problem in the <a href="https://discuss.wxpython.org/t/problem-updating-widget-immediately-with-layout-and-update">wxPython discussion forum</a> and got the following response from Robin Dunn:</p>

<blockquote>Almost all of time using <code>Update</code> is not needed, and sometimes it can be a little detrimental. For example, on OSX there is a pipeline of operations to move display details from all of the running applications to the screen. This is highly optimized and works to keep the screen updated and appearing very smooth and crisp and keeping the applications efficient. When an application does something like drawing to a DC without a paint event, or forcing a paint event at the wrong moment, then that pipeline is interrupted to do that drawing and then has to be restarted again to redo processing what was interrupted before.</blockquote>

<blockquote>So, in other words, in almost all cases using <code>Refresh</code> or <code>RefreshRect</code> when needed, and letting the drawing happen in naturally occurring paint events is usually the best choice. The platforms are already highly optimized for this and have been fine tuned for decades to make it the best it can be.</blockquote>

<p>So it seems like <code>Update</code> is platform dependant and it's best to just don't use it.</p>

<p>My solution for a faster redraw instead became to only draw the part where the cursor is first, and draw everything else a few milliseconds later if there are no additional input events. For example, if a title is edited in the workspace, the table of contents might have to be redrawn as well. But it can wait, since the focus is not on it right now.</p>

<p>As a bonus, I found this wiki page that was quite useful: <a href="https://wiki.wxpython.org/WhenAndHowToCallLayout">WhenAndHowToCallLayout</a>.</p>

<h2><a name="3e79fd9904854dc2bd273d633931b05d"></a>Complete test program</h2>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="kn">i</span><span class="kn">m</span><span class="kn">p</span><span class="kn">o</span><span class="kn">r</span><span class="kn">t</span><span class=""> </span><span class="nn">w</span><span class="nn">x</span><span class="">
</span><span class="kn">i</span><span class="kn">m</span><span class="kn">p</span><span class="kn">o</span><span class="kn">r</span><span class="kn">t</span><span class=""> </span><span class="nn">t</span><span class="nn">i</span><span class="nn">m</span><span class="nn">e</span><span class="">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">T</span><span class="nc">e</span><span class="nc">s</span><span class="nc">t</span><span class="nc">F</span><span class="nc">r</span><span class="nc">a</span><span class="nc">m</span><span class="nc">e</span><span class="p">(</span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">F</span><span class="n">r</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">F</span><span class="n">r</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="o">.</span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="bp">N</span><span class="bp">o</span><span class="bp">n</span><span class="bp">e</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">b</span><span class="n">u</span><span class="n">t</span><span class="n">t</span><span class="n">o</span><span class="n">n</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">B</span><span class="n">u</span><span class="n">t</span><span class="n">t</span><span class="n">o</span><span class="n">n</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">b</span><span class="n">e</span><span class="n">l</span><span class="o">=</span><span class="s2">"</span><span class="s2">i</span><span class="s2">n</span><span class="s2">c</span><span class="s2">r</span><span class="s2">e</span><span class="s2">a</span><span class="s2">s</span><span class="s2">e</span><span class="s2"> </span><span class="s2">t</span><span class="s2">e</span><span class="s2">x</span><span class="s2">t</span><span class="s2"> </span><span class="s2">s</span><span class="s2">i</span><span class="s2">z</span><span class="s2">e</span><span class="s2">"</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">b</span><span class="n">u</span><span class="n">t</span><span class="n">t</span><span class="n">o</span><span class="n">n</span><span class="o">.</span><span class="n">B</span><span class="n">i</span><span class="n">n</span><span class="n">d</span><span class="p">(</span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">E</span><span class="n">V</span><span class="n">T</span><span class="n">_</span><span class="n">B</span><span class="n">U</span><span class="n">T</span><span class="n">T</span><span class="n">O</span><span class="n">N</span><span class="p">,</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">o</span><span class="n">n</span><span class="n">_</span><span class="n">i</span><span class="n">n</span><span class="n">c</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">s</span><span class="n">e</span><span class="n">_</span><span class="n">s</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="n">_</span><span class="n">c</span><span class="n">l</span><span class="n">i</span><span class="n">c</span><span class="n">k</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">t</span><span class="n">o</span><span class="n">p</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">P</span><span class="n">a</span><span class="n">n</span><span class="n">e</span><span class="n">l</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">s</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class=""> </span><span class="mi">2</span><span class="mi">0</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">t</span><span class="n">o</span><span class="n">p</span><span class="o">.</span><span class="n">S</span><span class="n">e</span><span class="n">t</span><span class="n">B</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">g</span><span class="n">r</span><span class="n">o</span><span class="n">u</span><span class="n">n</span><span class="n">d</span><span class="n">C</span><span class="n">o</span><span class="n">l</span><span class="n">o</span><span class="n">u</span><span class="n">r</span><span class="p">(</span><span class="s2">"</span><span class="s2">y</span><span class="s2">e</span><span class="s2">l</span><span class="s2">l</span><span class="s2">o</span><span class="s2">w</span><span class="s2">"</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">t</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">T</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">b</span><span class="n">o</span><span class="n">t</span><span class="n">t</span><span class="n">o</span><span class="n">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">P</span><span class="n">a</span><span class="n">n</span><span class="n">e</span><span class="n">l</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">s</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class=""> </span><span class="mi">2</span><span class="mi">0</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">b</span><span class="n">o</span><span class="n">t</span><span class="n">t</span><span class="n">o</span><span class="n">m</span><span class="o">.</span><span class="n">S</span><span class="n">e</span><span class="n">t</span><span class="n">B</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">g</span><span class="n">r</span><span class="n">o</span><span class="n">u</span><span class="n">n</span><span class="n">d</span><span class="n">C</span><span class="n">o</span><span class="n">l</span><span class="n">o</span><span class="n">u</span><span class="n">r</span><span class="p">(</span><span class="s2">"</span><span class="s2">p</span><span class="s2">i</span><span class="s2">n</span><span class="s2">k</span><span class="s2">"</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">S</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="n">r</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">B</span><span class="n">o</span><span class="n">x</span><span class="n">S</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="n">r</span><span class="p">(</span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">V</span><span class="n">E</span><span class="n">R</span><span class="n">T</span><span class="n">I</span><span class="n">C</span><span class="n">A</span><span class="n">L</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">S</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="n">r</span><span class="o">.</span><span class="n">A</span><span class="n">d</span><span class="n">d</span><span class="p">(</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">b</span><span class="n">u</span><span class="n">t</span><span class="n">t</span><span class="n">o</span><span class="n">n</span><span class="p">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">b</span><span class="n">o</span><span class="n">r</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class=""> </span><span class="n">p</span><span class="n">r</span><span class="n">o</span><span class="n">p</span><span class="n">o</span><span class="n">r</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class=""> </span><span class="n">f</span><span class="n">l</span><span class="n">a</span><span class="n">g</span><span class="o">=</span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">E</span><span class="n">X</span><span class="n">P</span><span class="n">A</span><span class="n">N</span><span class="n">D</span><span class="o">|</span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">A</span><span class="n">L</span><span class="n">L</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">S</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="n">r</span><span class="o">.</span><span class="n">A</span><span class="n">d</span><span class="n">d</span><span class="p">(</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">t</span><span class="n">o</span><span class="n">p</span><span class="p">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">b</span><span class="n">o</span><span class="n">r</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class=""> </span><span class="n">p</span><span class="n">r</span><span class="n">o</span><span class="n">p</span><span class="n">o</span><span class="n">r</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class=""> </span><span class="n">f</span><span class="n">l</span><span class="n">a</span><span class="n">g</span><span class="o">=</span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">E</span><span class="n">X</span><span class="n">P</span><span class="n">A</span><span class="n">N</span><span class="n">D</span><span class="o">|</span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">A</span><span class="n">L</span><span class="n">L</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">S</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="n">r</span><span class="o">.</span><span class="n">A</span><span class="n">d</span><span class="n">d</span><span class="p">(</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">t</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="p">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">b</span><span class="n">o</span><span class="n">r</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class=""> </span><span class="n">p</span><span class="n">r</span><span class="n">o</span><span class="n">p</span><span class="n">o</span><span class="n">r</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class=""> </span><span class="n">f</span><span class="n">l</span><span class="n">a</span><span class="n">g</span><span class="o">=</span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">E</span><span class="n">X</span><span class="n">P</span><span class="n">A</span><span class="n">N</span><span class="n">D</span><span class="o">|</span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">A</span><span class="n">L</span><span class="n">L</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">S</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="n">r</span><span class="o">.</span><span class="n">A</span><span class="n">d</span><span class="n">d</span><span class="p">(</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">b</span><span class="n">o</span><span class="n">t</span><span class="n">t</span><span class="n">o</span><span class="n">m</span><span class="p">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">b</span><span class="n">o</span><span class="n">r</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class=""> </span><span class="n">p</span><span class="n">r</span><span class="n">o</span><span class="n">p</span><span class="n">o</span><span class="n">r</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class=""> </span><span class="n">f</span><span class="n">l</span><span class="n">a</span><span class="n">g</span><span class="o">=</span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">E</span><span class="n">X</span><span class="n">P</span><span class="n">A</span><span class="n">N</span><span class="n">D</span><span class="o">|</span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">A</span><span class="n">L</span><span class="n">L</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="p">)</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">_</span><span class="nf">o</span><span class="nf">n</span><span class="nf">_</span><span class="nf">i</span><span class="nf">n</span><span class="nf">c</span><span class="nf">r</span><span class="nf">e</span><span class="nf">a</span><span class="nf">s</span><span class="nf">e</span><span class="nf">_</span><span class="nf">s</span><span class="nf">i</span><span class="nf">z</span><span class="nf">e</span><span class="nf">_</span><span class="nf">c</span><span class="nf">l</span><span class="nf">i</span><span class="nf">c</span><span class="nf">k</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">r</span><span class="k">i</span><span class="k">n</span><span class="k">t</span><span class="p">(</span><span class="s2">"</span><span class="s2">"</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">r</span><span class="k">i</span><span class="k">n</span><span class="k">t</span><span class="p">(</span><span class="s2">"</span><span class="s2">C</span><span class="s2">l</span><span class="s2">i</span><span class="s2">c</span><span class="s2">k</span><span class="s2">"</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">t</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="o">.</span><span class="n">i</span><span class="n">n</span><span class="n">c</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">s</span><span class="n">e</span><span class="n">_</span><span class="n">s</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">L</span><span class="n">a</span><span class="n">y</span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">r</span><span class="k">i</span><span class="k">n</span><span class="k">t</span><span class="p">(</span><span class="s2">"</span><span class="s2">U</span><span class="s2">p</span><span class="s2">d</span><span class="s2">a</span><span class="s2">t</span><span class="s2">e</span><span class="s2">"</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">U</span><span class="n">p</span><span class="n">d</span><span class="n">a</span><span class="n">t</span><span class="n">e</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">t</span><span class="n">i</span><span class="n">m</span><span class="n">e</span><span class="o">.</span><span class="n">s</span><span class="n">l</span><span class="n">e</span><span class="n">e</span><span class="n">p</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">r</span><span class="k">i</span><span class="k">n</span><span class="k">t</span><span class="p">(</span><span class="s2">"</span><span class="s2">U</span><span class="s2">p</span><span class="s2">d</span><span class="s2">a</span><span class="s2">t</span><span class="s2">e</span><span class="s2"> </span><span class="s2">d</span><span class="s2">o</span><span class="s2">n</span><span class="s2">e</span><span class="s2">"</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">T</span><span class="nc">e</span><span class="nc">x</span><span class="nc">t</span><span class="p">(</span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">P</span><span class="n">a</span><span class="n">n</span><span class="n">e</span><span class="n">l</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">p</span><span class="n">a</span><span class="n">r</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">P</span><span class="n">a</span><span class="n">n</span><span class="n">e</span><span class="n">l</span><span class="o">.</span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">p</span><span class="n">a</span><span class="n">r</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">m</span><span class="n">i</span><span class="n">n</span><span class="n">_</span><span class="n">h</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">i</span><span class="n">n</span><span class="n">c</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">s</span><span class="n">e</span><span class="n">_</span><span class="n">s</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">B</span><span class="n">i</span><span class="n">n</span><span class="n">d</span><span class="p">(</span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">E</span><span class="n">V</span><span class="n">T</span><span class="n">_</span><span class="n">P</span><span class="n">A</span><span class="n">I</span><span class="n">N</span><span class="n">T</span><span class="p">,</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">o</span><span class="n">n</span><span class="n">_</span><span class="n">p</span><span class="n">a</span><span class="n">i</span><span class="n">n</span><span class="n">t</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">B</span><span class="n">i</span><span class="n">n</span><span class="n">d</span><span class="p">(</span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">E</span><span class="n">V</span><span class="n">T</span><span class="n">_</span><span class="n">S</span><span class="n">I</span><span class="n">Z</span><span class="n">E</span><span class="p">,</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">o</span><span class="n">n</span><span class="n">_</span><span class="n">s</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">i</span><span class="nf">n</span><span class="nf">c</span><span class="nf">r</span><span class="nf">e</span><span class="nf">a</span><span class="nf">s</span><span class="nf">e</span><span class="nf">_</span><span class="nf">s</span><span class="nf">i</span><span class="nf">z</span><span class="nf">e</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">m</span><span class="n">i</span><span class="n">n</span><span class="n">_</span><span class="n">h</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="mi">0</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">S</span><span class="n">e</span><span class="n">t</span><span class="n">M</span><span class="n">i</span><span class="n">n</span><span class="n">S</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="p">(</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">m</span><span class="n">i</span><span class="n">n</span><span class="n">_</span><span class="n">h</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">_</span><span class="nf">o</span><span class="nf">n</span><span class="nf">_</span><span class="nf">p</span><span class="nf">a</span><span class="nf">i</span><span class="nf">n</span><span class="nf">t</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">r</span><span class="k">i</span><span class="k">n</span><span class="k">t</span><span class="p">(</span><span class="s2">"</span><span class="s2">r</span><span class="s2">e</span><span class="s2">p</span><span class="s2">a</span><span class="s2">i</span><span class="s2">n</span><span class="s2">t</span><span class="s2"> </span><span class="s2">t</span><span class="s2">e</span><span class="s2">x</span><span class="s2">t</span><span class="s2">"</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">u</span><span class="n">p</span><span class="n">d</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">R</span><span class="n">e</span><span class="n">g</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="n">I</span><span class="n">t</span><span class="n">e</span><span class="n">r</span><span class="n">a</span><span class="n">t</span><span class="n">o</span><span class="n">r</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">G</span><span class="n">e</span><span class="n">t</span><span class="n">U</span><span class="n">p</span><span class="n">d</span><span class="n">a</span><span class="n">t</span><span class="n">e</span><span class="n">R</span><span class="n">e</span><span class="n">g</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">(</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">w</span><span class="k">h</span><span class="k">i</span><span class="k">l</span><span class="k">e</span><span class=""> </span><span class="n">u</span><span class="n">p</span><span class="n">d</span><span class="o">.</span><span class="n">H</span><span class="n">a</span><span class="n">v</span><span class="n">e</span><span class="n">R</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="n">s</span><span class="p">(</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">r</span><span class="k">i</span><span class="k">n</span><span class="k">t</span><span class="p">(</span><span class="s2">"</span><span class="s2"> </span><span class="s2"> </span><span class="s2">{</span><span class="s2">}</span><span class="s2">"</span><span class="o">.</span><span class="n">f</span><span class="n">o</span><span class="n">r</span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="p">(</span><span class="n">u</span><span class="n">p</span><span class="n">d</span><span class="o">.</span><span class="n">G</span><span class="n">e</span><span class="n">t</span><span class="n">R</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="p">(</span><span class="p">)</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">u</span><span class="n">p</span><span class="n">d</span><span class="o">.</span><span class="n">N</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">d</span><span class="n">c</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">P</span><span class="n">a</span><span class="n">i</span><span class="n">n</span><span class="n">t</span><span class="n">D</span><span class="n">C</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">f</span><span class="k">o</span><span class="k">r</span><span class=""> </span><span class="n">x</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="nb">r</span><span class="nb">a</span><span class="nb">n</span><span class="nb">g</span><span class="nb">e</span><span class="p">(</span><span class="mi">2</span><span class="mi">0</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">l</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">l</span><span class="s2">i</span><span class="s2">n</span><span class="s2">e</span><span class="s2"> </span><span class="s2">{</span><span class="s2">}</span><span class="s2">"</span><span class="o">.</span><span class="n">f</span><span class="n">o</span><span class="n">r</span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">d</span><span class="n">c</span><span class="o">.</span><span class="n">D</span><span class="n">r</span><span class="n">a</span><span class="n">w</span><span class="n">T</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="p">(</span><span class="n">l</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class="p">,</span><span class=""> </span><span class="mi">5</span><span class="p">,</span><span class=""> </span><span class="n">y</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">y</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="n">d</span><span class="n">c</span><span class="o">.</span><span class="n">G</span><span class="n">e</span><span class="n">t</span><span class="n">T</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">E</span><span class="n">x</span><span class="n">t</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="p">(</span><span class="n">l</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class="p">)</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="o">.</span><span class="n">S</span><span class="n">k</span><span class="n">i</span><span class="n">p</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">_</span><span class="nf">o</span><span class="nf">n</span><span class="nf">_</span><span class="nf">s</span><span class="nf">i</span><span class="nf">z</span><span class="nf">e</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">r</span><span class="k">i</span><span class="k">n</span><span class="k">t</span><span class="p">(</span><span class="s2">"</span><span class="s2">r</span><span class="s2">e</span><span class="s2">s</span><span class="s2">i</span><span class="s2">z</span><span class="s2">e</span><span class="s2"> </span><span class="s2">t</span><span class="s2">e</span><span class="s2">x</span><span class="s2">t</span><span class="s2"> </span><span class="s2">{</span><span class="s2">}</span><span class="s2">"</span><span class="o">.</span><span class="n">f</span><span class="n">o</span><span class="n">r</span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="p">(</span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="o">.</span><span class="n">G</span><span class="n">e</span><span class="n">t</span><span class="n">S</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="p">(</span><span class="p">)</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="o">.</span><span class="n">S</span><span class="n">k</span><span class="n">i</span><span class="n">p</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="vm">_</span><span class="vm">_</span><span class="vm">n</span><span class="vm">a</span><span class="vm">m</span><span class="vm">e</span><span class="vm">_</span><span class="vm">_</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">_</span><span class="s2">_</span><span class="s2">m</span><span class="s2">a</span><span class="s2">i</span><span class="s2">n</span><span class="s2">_</span><span class="s2">_</span><span class="s2">"</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">a</span><span class="n">p</span><span class="n">p</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">A</span><span class="n">p</span><span class="n">p</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">f</span><span class="n">r</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">T</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">F</span><span class="n">r</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">f</span><span class="n">r</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="o">.</span><span class="n">S</span><span class="n">h</span><span class="n">o</span><span class="n">w</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">a</span><span class="n">p</span><span class="n">p</span><span class="o">.</span><span class="n">M</span><span class="n">a</span><span class="n">i</span><span class="n">n</span><span class="n">L</span><span class="n">o</span><span class="n">o</span><span class="n">p</span><span class="p">(</span><span class="p">)</span><span class="">
</span></pre></div>

</div>

]]></summary>
</entry>
<entry>
    <title>Newsletter March 2020</title>
    <link href="http://rickardlindberg.me/writing/newsletter/march-2020/" />
    <id>http://rickardlindberg.me/writing/newsletter/march-2020/</id>
    <published>2020-04-02T00:00:00Z</published>
    <updated>2020-04-02T00:00:00Z</updated>
    <summary type="html"><![CDATA[<h1>Newsletter March 2020</h1>

<p><em>Published on  2 April 2020.</em></p>

<p>This is what I’ve been up to in March 2020:</p>
<ul>
<li><p>I continued with <a href="/projects/rliterate/book2/index.html">RLiterate</a>:</p>
<ul>
<li><p>I tried <a href="https://pavelfatin.com/typometer/">Typometer</a> to measure the time it takes from a kepress to a character appearing on the screen.</p></li>
<li><p>My first approach to speed up drawing was to draw immediately with <code>Layout</code>/<code>Update</code>. That turned out to not work so well. I documented the problem in a <a href="/writing/wx-layout-update/index.html">blog post</a>.</p></li>
<li><p>I concluded that to draw fast in RLiterate, an approach that works quite well is to only draw the part where the cursor is first, and draw everything else a few milliseconds later if there are no additional input events. For example, if a title is edited in the workspace, the table of contents might have to be redrawn as well. But it can wait, since the focus is not on it right now. I documented this behavior quite well <a href="/projects/rliterate/book2/index.html#5fb3048d154d4f50af92d4cbe63db75a">here</a>.</p></li>
<li><p>I think RLiterate’s true potential has not yet been explored. I think more paragraph types could add much value. It is something that I hope to explore after I finish RLiterate 2. But I don’t want to rush it. I want to write RLiterate 2 as clean as possible while still being capable of roughly what RLiterate (1) is.</p></li>
<li><p>I’m also thinking that RLiterate must be a multi process program. There is only so much you can do in GUI thread without it being sluggish. And using threads in Python does not help much since they are not truly run in parallell. So I’m thinking a multi process worker architecture is needed for heavy tasks. Like syntax highlighting, spell checking, generating files, etc. Then a little worker icon in toolbar to let the user know that stuff is happening in the background.</p></li>
</ul></li>
<li><p>I read <a href="https://medium.com/s/story/lets-pretend-this-never-happened-8abf0bc9648c">The Flawed History of Graphical User Interfaces</a>. Computers don’t have to be what they are. We can make them to do anything. Including alternative user interfaces.</p></li>
<li><p>I read <a href="https://hackernoon.com/some-tentative-guidelines-for-gui-composability-2900abead1d9">Some tentative guidelines for GUI composability</a>. Isolated applications that can’t be composed is a bad idea. Yet the default.</p></li>
<li><p>I watched <a href="https://www.youtube.com/watch?v=Pot9GnHFOVU&amp;t=1026s">Tudor Gîrba - Moldable development</a>. It is an interesting project that I want to explore more.</p></li>
<li><p>I read <a href="https://medium.com/feenk/one-rendering-tree-918eae49bcff">One rendering tree</a>.</p>
<blockquote>
<p>Well, the user interface framework has a tree, and somewhere in that tree, there is a canvas, and in that canvas … well, there is another world, with another tree. That these are different worlds, and different worlds means we cannot combine them easily. We do not want different worlds. We want just one. A seamless one.</p>
</blockquote>
<p>This is something that might be useful for RLiterate. But that would require yet another complete rewrite. I should finish RLiterate 2 and learn from it. Then study one rendering tree. Then see if a third rewrite is suitable or not. But it is far away in the future.</p></li>
<li><p>I read <a href="https://www.hillelwayne.com/post/influential-dead-languages/">10 Most(ly dead) Influential Programming Languages</a>. I would like to learn more APL. Perhaps implement my own APL to learn more.</p></li>
</ul>
]]></summary>
</entry>
<entry>
    <title>Newsletter February 2020</title>
    <link href="http://rickardlindberg.me/writing/newsletter/february-2020/" />
    <id>http://rickardlindberg.me/writing/newsletter/february-2020/</id>
    <published>2020-03-02T00:00:00Z</published>
    <updated>2020-03-02T00:00:00Z</updated>
    <summary type="html"><![CDATA[<h1>Newsletter February 2020</h1>

<p><em>Published on  2 March 2020.</em></p>

<p>This is what I’ve been up to in February 2020:</p>
<ul>
<li><p>I continued with <a href="/projects/rliterate/book2/index.html">RLiterate</a> and made some <a href="/projects/rliterate/book2/index.html#416f6a8d52f0452ea3be94fd18b7a90e">progress</a>. I started to flesh out the rest of the application and started with adding support for direct manipulation of titles and paragraph text.</p></li>
<li><p>I found out about <a href="http://nickgravgaard.com/elastic-tabstops/">Elastic tabstops - a better way to indent and align code</a>. It is a nice inspiration for tab stop handling in RLiterate.</p></li>
<li><p>I read <a href="http://blog.rfox.eu/en/Programmer_s_critique_of_missing_structure_of_oper.html">Programmer’s critique of missing structure of operating systems</a>. It reminds me of what Alan Kay has talked about and hints at what real objects might be like. Interesting.</p></li>
<li><p>I read <a href="https://buttondown.email/hillelwayne/archive/826fd056-1d76-4b1c-b9c8-96deabbec07d">Donald Knuth Was Framed</a>. I’m interested in all sources about literate programming.</p></li>
</ul>
]]></summary>
</entry>
<entry>
    <title>Newsletter January 2020</title>
    <link href="http://rickardlindberg.me/writing/newsletter/january-2020/" />
    <id>http://rickardlindberg.me/writing/newsletter/january-2020/</id>
    <published>2020-02-03T00:00:00Z</published>
    <updated>2020-02-03T00:00:00Z</updated>
    <summary type="html"><![CDATA[<h1>Newsletter January 2020</h1>

<p><em>Published on  3 February 2020.</em></p>

<p>This is what I’ve been up to in January 2020:</p>
<ul>
<li><p>I finished the article about <a href="/writing/rlmeta-memoize-failures/index.html">memoizing failures in RLMeta</a>.</p></li>
<li><p>I came across <a href="https://github.com/DoctorWkt/acwj">A Compiler Writing Journey</a>. It inspired me to write articles that explain things that I’m interested in.</p></li>
<li><p>I watched <a href="https://www.youtube.com/watch?v=LnzuMJLZRdU">“Hello, world” from scratch on a 6502 — Part 1</a>. Low level hardware is fun.</p></li>
<li><p>I continued with <a href="/projects/rliterate/book2/index.html">RLiterate</a> and made great <a href="/projects/rliterate/book2/index.html#bdeda63252d440c3b3394c34671a9107">progress</a>. I’m now confident that the new architecture will work. Now it’s just a matter of fleshing out the rest of the application until it can edit itself.</p></li>
<li><p>I watched <a href="https://www.youtube.com/watch?v=bnqkglrSqrg&amp;t=2281s">Sean McDirmid - The Future of Programming will be Live - Curry On</a>. It made me think about introducing “Live examples” in RLiterate. If I have a function I want to add an example paragraph that executes that function and be able to modify its parameters interactively. Sort of like an interactive test case to explore input/output.</p></li>
<li><p>I read about <a href="https://redux.js.org/">Redux</a> <a href="https://github.com/pshrmn/notes/blob/master/redux/redux.md">here</a> and <a href="https://randycoulman.com/blog/2016/11/22/taking-advantage-of-combinereducers/">here</a>. Its architecture can be an inspiration for how to handle state in RLiterate.</p></li>
</ul>
]]></summary>
</entry>
<entry>
    <title>Memoizing failures in RLMeta</title>
    <link href="http://rickardlindberg.me/writing/rlmeta-memoize-failures/" />
    <id>http://rickardlindberg.me/writing/rlmeta-memoize-failures/</id>
    <published>2020-01-11T00:00:00Z</published>
    <updated>2020-01-11T00:00:00Z</updated>
    <summary type="html"><![CDATA[<h1>Memoizing failures in RLMeta</h1>

<p><em>Published on 2020-01-11.</em></p>

<p>After reading <a href="https://medium.com/@gvanrossum_83706/generating-a-peg-parser-520057d642a9">Generating a PEG Parser</a> I realized that RLMeta has a flaw in its its memoization logic: It only memoizes results when a rule matches. If a rule fails, it is not recorded in the memoization table. Therefore, if that rule is tried again at the same position, matching has to be tried again, even though it will fail. In the article, Guido writes</p>

<blockquote>It is important to cache negative results too - in fact most calls to parsing methods will be negative results.</blockquote>

<p>Besides fixing the flaw in the memoization logic, I am also interested in seeing how it affects performance.</p>

<p>In this article I show how to fix the memoization logic in both the <a href="/writing/optimizing-rlmeta/index.html">optimized version</a> and the <a href="/writing/rlmeta-vm/index.html">vm based version</a> and show how performance is affected.</p>

<ul><li><a href="#a9a4166e943a4d2c974c443cef1da5a9">Optimized version</a>

</li>

<li><a href="#fe17638693e344ad9e521e55bf0676f3">VM based version</a>

</li>

<li><a href="#42ae6babf74d427880f831bd14109002">Performance measurements</a>

</li>

<li><a href="#042d4832e92c48349da9e4fe0a73f955">Appendix</a>

<ul><li><a href="#ea9e60e51c034b99b32520af593fa2c0">Support library (optimized)</a>

</li>

<li><a href="#46ac5a5f243c4bd69cec58758e92eadd">Support library (VM)</a>

</li>

</ul></li>

</ul><h2><a name="a9a4166e943a4d2c974c443cef1da5a9"></a>Optimized version</h2>

<p>In the optimized version, the memoization table stores tuples with result, start position, and end position. If a rule fails, a new kind of value that indicates a failure must be stored. We reuse the same tuple, but have the result be <code>None</code> in case of a failure and have the start position be the lazy fail message.</p>

<p>The memoization table is both queried and populated in the support library method <code>_match_rule</code>. The fixed version looks like this:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>optimized</li><li>support.py</li><li><span class="cp">match rule</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">_</span><span class="nf">m</span><span class="nf">a</span><span class="nf">t</span><span class="nf">c</span><span class="nf">h</span><span class="nf">_</span><span class="nf">r</span><span class="nf">u</span><span class="nf">l</span><span class="nf">e</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="n">_</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">k</span><span class="n">e</span><span class="n">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">(</span><span class="n">r</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="n">_</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">,</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="o">.</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">i</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">(</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">k</span><span class="n">e</span><span class="n">y</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="p">[</span><span class="n">k</span><span class="n">e</span><span class="n">y</span><span class="p">]</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class=""> </span><span class="ow">i</span><span class="ow">s</span><span class=""> </span><span class="bp">N</span><span class="bp">o</span><span class="bp">n</span><span class="bp">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="o">.</span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="p">[</span><span class="n">k</span><span class="n">e</span><span class="n">y</span><span class="p">]</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">r</span><span class="n">e</span><span class="n">s</span><span class="n">u</span><span class="n">l</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">_</span><span class="p">,</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="p">[</span><span class="n">k</span><span class="n">e</span><span class="n">y</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">t</span><span class="k">r</span><span class="k">y</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">r</span><span class="n">t</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">r</span><span class="n">e</span><span class="n">s</span><span class="n">u</span><span class="n">l</span><span class="n">t</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="nb">g</span><span class="nb">e</span><span class="nb">t</span><span class="nb">a</span><span class="nb">t</span><span class="nb">t</span><span class="nb">r</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="s2">"</span><span class="s2">_</span><span class="s2">r</span><span class="s2">u</span><span class="s2">l</span><span class="s2">e</span><span class="s2">_</span><span class="s2">{</span><span class="s2">}</span><span class="s2">"</span><span class="o">.</span><span class="n">f</span><span class="n">o</span><span class="n">r</span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="p">(</span><span class="n">r</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="n">_</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">)</span><span class="p">)</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">e</span><span class="n">n</span><span class="n">d</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="p">[</span><span class="n">k</span><span class="n">e</span><span class="n">y</span><span class="p">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">(</span><span class="n">r</span><span class="n">e</span><span class="n">s</span><span class="n">u</span><span class="n">l</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">r</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">e</span><span class="n">n</span><span class="n">d</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">x</span><span class="k">c</span><span class="k">e</span><span class="k">p</span><span class="k">t</span><span class=""> </span><span class="n">_</span><span class="n">M</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">E</span><span class="n">r</span><span class="n">r</span><span class="n">o</span><span class="n">r</span><span class=""> </span><span class="k">a</span><span class="k">s</span><span class=""> </span><span class="n">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="p">[</span><span class="n">k</span><span class="n">e</span><span class="n">y</span><span class="p">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">(</span><span class="bp">N</span><span class="bp">o</span><span class="bp">n</span><span class="bp">e</span><span class="p">,</span><span class=""> </span><span class="n">e</span><span class="o">.</span><span class="n">l</span><span class="n">a</span><span class="n">z</span><span class="n">y</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class="p">,</span><span class=""> </span><span class="bp">N</span><span class="bp">o</span><span class="bp">n</span><span class="bp">e</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">a</span><span class="k">i</span><span class="k">s</span><span class="k">e</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">r</span><span class="n">e</span><span class="n">s</span><span class="n">u</span><span class="n">l</span><span class="n">t</span><span class="">
</span></pre></div>

</div>

<p>If a memoization entry exists and the result part is <code>None</code>, the match fails immediately with the fail message stored in the entry. If the result part is not <code>None</code> the result is used as before.</p>

<p>If a memoization entry does not exist and the match fails, the failure is recorded in the memoization table before propagating the exception. If the match succeeds the result is recorded as before.</p>

<p>The <code>_MatchError</code> class is also modified to save the lazy message so that it can be accessed for storage in the memoization table:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>optimized</li><li>support.py</li><li><span class="cp">memo fail</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">f</span><span class="nf">a</span><span class="nf">i</span><span class="nf">l</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">,</span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">z</span><span class="n">y</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="o">.</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">i</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">(</span><span class="p">)</span><span class=""> </span><span class="o">&gt;</span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">l</span><span class="n">a</span><span class="n">t</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="o">.</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">i</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">(</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">l</span><span class="n">a</span><span class="n">t</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">l</span><span class="n">a</span><span class="n">t</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">_</span><span class="n">l</span><span class="n">a</span><span class="n">z</span><span class="n">y</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">z</span><span class="n">y</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">a</span><span class="k">i</span><span class="k">s</span><span class="k">e</span><span class=""> </span><span class="n">_</span><span class="n">M</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">E</span><span class="n">r</span><span class="n">r</span><span class="n">o</span><span class="n">r</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">z</span><span class="n">y</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class="p">)</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>optimized</li><li>support.py</li><li><span class="cp">match error</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">_</span><span class="nc">M</span><span class="nc">a</span><span class="nc">t</span><span class="nc">c</span><span class="nc">h</span><span class="nc">E</span><span class="nc">r</span><span class="nc">r</span><span class="nc">o</span><span class="nc">r</span><span class="p">(</span><span class="ne">E</span><span class="ne">x</span><span class="ne">c</span><span class="ne">e</span><span class="ne">p</span><span class="ne">t</span><span class="ne">i</span><span class="ne">o</span><span class="ne">n</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="p">,</span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">z</span><span class="n">y</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="ne">E</span><span class="ne">x</span><span class="ne">c</span><span class="ne">e</span><span class="ne">p</span><span class="ne">t</span><span class="ne">i</span><span class="ne">o</span><span class="ne">n</span><span class="o">.</span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">l</span><span class="n">a</span><span class="n">z</span><span class="n">y</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">z</span><span class="n">y</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">d</span><span class="nf">e</span><span class="nf">s</span><span class="nf">c</span><span class="nf">r</span><span class="nf">i</span><span class="nf">b</span><span class="nf">e</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="o">.</span><span class="n">d</span><span class="n">e</span><span class="n">s</span><span class="n">c</span><span class="n">r</span><span class="n">i</span><span class="n">b</span><span class="n">e</span><span class="p">(</span><span class="p">)</span><span class="">
</span></pre></div>

</div>

<h2><a name="fe17638693e344ad9e521e55bf0676f3"></a>VM based version</h2>

<p>In the VM based version, the memoization table stores tuples with last action, and stream position stack. If a rule fails, a new kind of value that indicates a failure must be stored. We reuse the same tuple, but have the last action be <code>None</code> in case of a failure and have the stream position stack be the failure message.</p>

<p>The memoization table is queried and populated in different places. The first place it's populated is in the <code>RETURN</code> instruction:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>vm</li><li>support.py</li><li><span class="cp">RETURN</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="nb">l</span><span class="nb">e</span><span class="nb">n</span><span class="p">(</span><span class="n">c</span><span class="n">a</span><span class="n">l</span><span class="n">l</span><span class="n">_</span><span class="n">b</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">t</span><span class="n">r</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="p">)</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">s</span><span class="n">t</span><span class="n">_</span><span class="n">a</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="o">.</span><span class="n">e</span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class="n">p</span><span class="n">c</span><span class="p">,</span><span class=""> </span><span class="n">k</span><span class="n">e</span><span class="n">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">c</span><span class="n">a</span><span class="n">l</span><span class="n">l</span><span class="n">_</span><span class="n">b</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">t</span><span class="n">r</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="o">.</span><span class="n">p</span><span class="n">o</span><span class="n">p</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="p">[</span><span class="n">k</span><span class="n">e</span><span class="n">y</span><span class="p">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">(</span><span class="n">l</span><span class="n">a</span><span class="n">s</span><span class="n">t</span><span class="n">_</span><span class="n">a</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">,</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="o">+</span><span class="p">[</span><span class="p">(</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">,</span><span class=""> </span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="p">)</span><span class="p">]</span><span class="p">)</span><span class="">
</span><span class="k">c</span><span class="k">o</span><span class="k">n</span><span class="k">t</span><span class="k">i</span><span class="k">n</span><span class="k">u</span><span class="k">e</span><span class="">
</span></pre></div>

</div>

<p>This code is unchanged and I include it here only for context. It populates the memoization table when a rule has matched. To populate the memoization table with a failure, the code that pops a backtrack entry must be modified like this:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>vm</li><li>support.py</li><li><span class="cp">pop backtrack entry</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="n">c</span><span class="n">a</span><span class="n">l</span><span class="n">l</span><span class="n">_</span><span class="n">b</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">t</span><span class="n">r</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">_</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="n">r</span><span class="n">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="nb">t</span><span class="nb">u</span><span class="nb">p</span><span class="nb">l</span><span class="nb">e</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class="k">w</span><span class="k">h</span><span class="k">i</span><span class="k">l</span><span class="k">e</span><span class=""> </span><span class="n">c</span><span class="n">a</span><span class="n">l</span><span class="n">l</span><span class="n">_</span><span class="n">b</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">t</span><span class="n">r</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">c</span><span class="n">a</span><span class="n">l</span><span class="n">l</span><span class="n">_</span><span class="n">b</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">t</span><span class="n">r</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">_</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="n">r</span><span class="n">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">c</span><span class="n">a</span><span class="n">l</span><span class="n">l</span><span class="n">_</span><span class="n">b</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">t</span><span class="n">r</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="o">.</span><span class="n">p</span><span class="n">o</span><span class="n">p</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="nb">l</span><span class="nb">e</span><span class="nb">n</span><span class="p">(</span><span class="n">c</span><span class="n">a</span><span class="n">l</span><span class="n">l</span><span class="n">_</span><span class="n">b</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">t</span><span class="n">r</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">_</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="n">r</span><span class="n">y</span><span class="p">)</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="mi">4</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">b</span><span class="k">r</span><span class="k">e</span><span class="k">a</span><span class="k">k</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">_</span><span class="p">,</span><span class=""> </span><span class="n">k</span><span class="n">e</span><span class="n">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">c</span><span class="n">a</span><span class="n">l</span><span class="n">l</span><span class="n">_</span><span class="n">b</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">t</span><span class="n">r</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">_</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="n">r</span><span class="n">y</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="p">[</span><span class="n">k</span><span class="n">e</span><span class="n">y</span><span class="p">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">(</span><span class="bp">N</span><span class="bp">o</span><span class="bp">n</span><span class="bp">e</span><span class="p">,</span><span class=""> </span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class="p">)</span><span class="">
</span></pre></div>

</div>

<p>If the popped item is not a backtrack entry (length of tuple is 4), it must be a call entry. It means that the given rule has been called, and it has failed. In that case, <code>None</code> is stored in the memoization table to indicate a failure, along with the fail message as second element.</p>

<p>Next code that queries the memoization table need to be updated. It happens in the two call instructions <code>CALL</code> and <code>MATCH_CALL_RULE</code>:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>vm</li><li>support.py</li><li><span class="cp">CALL</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="n">k</span><span class="n">e</span><span class="n">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">(</span><span class="n">a</span><span class="n">r</span><span class="n">g</span><span class="n">1</span><span class="p">,</span><span class=""> </span><span class="nb">t</span><span class="nb">u</span><span class="nb">p</span><span class="nb">l</span><span class="nb">e</span><span class="p">(</span><span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class=""> </span><span class="k">f</span><span class="k">o</span><span class="k">r</span><span class=""> </span><span class="n">x</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="p">]</span><span class="o">+</span><span class="p">[</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="p">]</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">k</span><span class="n">e</span><span class="n">y</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="p">[</span><span class="n">k</span><span class="n">e</span><span class="n">y</span><span class="p">]</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class=""> </span><span class="ow">i</span><span class="ow">s</span><span class=""> </span><span class="bp">N</span><span class="bp">o</span><span class="bp">n</span><span class="bp">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="p">[</span><span class="n">k</span><span class="n">e</span><span class="n">y</span><span class="p">]</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">s</span><span class="n">t</span><span class="n">_</span><span class="n">a</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">,</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="p">[</span><span class="n">k</span><span class="n">e</span><span class="n">y</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="p">[</span><span class="p">:</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">,</span><span class=""> </span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="o">.</span><span class="n">p</span><span class="n">o</span><span class="n">p</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">c</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">c</span><span class="k">o</span><span class="k">n</span><span class="k">t</span><span class="k">i</span><span class="k">n</span><span class="k">u</span><span class="k">e</span><span class="">
</span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">c</span><span class="n">a</span><span class="n">l</span><span class="n">l</span><span class="n">_</span><span class="n">b</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">t</span><span class="n">r</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="o">.</span><span class="n">a</span><span class="n">p</span><span class="n">p</span><span class="n">e</span><span class="n">n</span><span class="n">d</span><span class="p">(</span><span class="p">(</span><span class="n">p</span><span class="n">c</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class=""> </span><span class="n">k</span><span class="n">e</span><span class="n">y</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">c</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">b</span><span class="n">e</span><span class="n">l</span><span class="n">s</span><span class="p">[</span><span class="n">a</span><span class="n">r</span><span class="n">g</span><span class="n">1</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">c</span><span class="k">o</span><span class="k">n</span><span class="k">t</span><span class="k">i</span><span class="k">n</span><span class="k">u</span><span class="k">e</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>vm</li><li>support.py</li><li><span class="cp">MATCH_CALL_RULE</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class=""> </span><span class="o">&gt;</span><span class="o">=</span><span class=""> </span><span class="nb">l</span><span class="nb">e</span><span class="nb">n</span><span class="p">(</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">(</span><span class="s2">"</span><span class="s2">e</span><span class="s2">x</span><span class="s2">p</span><span class="s2">e</span><span class="s2">c</span><span class="s2">t</span><span class="s2">e</span><span class="s2">d</span><span class="s2"> </span><span class="s2">a</span><span class="s2">n</span><span class="s2">y</span><span class="s2">"</span><span class="p">,</span><span class="p">)</span><span class="">
</span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">f</span><span class="n">n</span><span class="n">_</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="nb">s</span><span class="nb">t</span><span class="nb">r</span><span class="p">(</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">[</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="p">]</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">k</span><span class="n">e</span><span class="n">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">(</span><span class="n">f</span><span class="n">n</span><span class="n">_</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">,</span><span class=""> </span><span class="nb">t</span><span class="nb">u</span><span class="nb">p</span><span class="nb">l</span><span class="nb">e</span><span class="p">(</span><span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class=""> </span><span class="k">f</span><span class="k">o</span><span class="k">r</span><span class=""> </span><span class="n">x</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="p">]</span><span class="o">+</span><span class="p">[</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="p">]</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">k</span><span class="n">e</span><span class="n">y</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="p">[</span><span class="n">k</span><span class="n">e</span><span class="n">y</span><span class="p">]</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class=""> </span><span class="ow">i</span><span class="ow">s</span><span class=""> </span><span class="bp">N</span><span class="bp">o</span><span class="bp">n</span><span class="bp">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="p">[</span><span class="n">k</span><span class="n">e</span><span class="n">y</span><span class="p">]</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">s</span><span class="n">t</span><span class="n">_</span><span class="n">a</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">,</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="p">[</span><span class="n">k</span><span class="n">e</span><span class="n">y</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="p">[</span><span class="p">:</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">,</span><span class=""> </span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="o">.</span><span class="n">p</span><span class="n">o</span><span class="n">p</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">c</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">c</span><span class="k">o</span><span class="k">n</span><span class="k">t</span><span class="k">i</span><span class="k">n</span><span class="k">u</span><span class="k">e</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">c</span><span class="n">a</span><span class="n">l</span><span class="n">l</span><span class="n">_</span><span class="n">b</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">t</span><span class="n">r</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="o">.</span><span class="n">a</span><span class="n">p</span><span class="n">p</span><span class="n">e</span><span class="n">n</span><span class="n">d</span><span class="p">(</span><span class="p">(</span><span class="n">p</span><span class="n">c</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class=""> </span><span class="n">k</span><span class="n">e</span><span class="n">y</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">c</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">b</span><span class="n">e</span><span class="n">l</span><span class="n">s</span><span class="p">[</span><span class="n">f</span><span class="n">n</span><span class="n">_</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">c</span><span class="k">o</span><span class="k">n</span><span class="k">t</span><span class="k">i</span><span class="k">n</span><span class="k">u</span><span class="k">e</span><span class="">
</span></pre></div>

</div>

<p>They are changed to look at the first argument in the memoized entry. If it is <code>None</code>, it indicates a failure. The <code>fail_message</code> is then set and the <code>continue</code> statement is skipped:</p>

<h2><a name="42ae6babf74d427880f831bd14109002"></a>Performance measurements</h2>

<p>Are the versions that also memoize failures faster? Here are the performance measurements:</p>

<div class="rliterate-image"><img src="data:image/png;base64,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"></img>

</div>

<div class="rliterate-image-text"><p>Performance measurements.</p>

</div>

<p>To measure the performance without memoization I commented out the code that populates the memoization table.</p>

<p>Memoizing failures seems to be much less important than memoizing matches. But it still improves performance.</p>

<h2><a name="042d4832e92c48349da9e4fe0a73f955"></a>Appendix</h2>

<h3><a name="ea9e60e51c034b99b32520af593fa2c0"></a>Support library (optimized)</h3>

<p>The rest of the support library for the optimized version:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>optimized</li><li>support.py</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">t</span><span class="k">r</span><span class="k">y</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="kn">f</span><span class="kn">r</span><span class="kn">o</span><span class="kn">m</span><span class=""> </span><span class="nn">c</span><span class="nn">S</span><span class="nn">t</span><span class="nn">r</span><span class="nn">i</span><span class="nn">n</span><span class="nn">g</span><span class="nn">I</span><span class="nn">O</span><span class=""> </span><span class="kn">i</span><span class="kn">m</span><span class="kn">p</span><span class="kn">o</span><span class="kn">r</span><span class="kn">t</span><span class=""> </span><span class="n">S</span><span class="n">t</span><span class="n">r</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class="n">I</span><span class="n">O</span><span class="">
</span><span class="k">e</span><span class="k">x</span><span class="k">c</span><span class="k">e</span><span class="k">p</span><span class="k">t</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="kn">f</span><span class="kn">r</span><span class="kn">o</span><span class="kn">m</span><span class=""> </span><span class="nn">S</span><span class="nn">t</span><span class="nn">r</span><span class="nn">i</span><span class="nn">n</span><span class="nn">g</span><span class="nn">I</span><span class="nn">O</span><span class=""> </span><span class="kn">i</span><span class="kn">m</span><span class="kn">p</span><span class="kn">o</span><span class="kn">r</span><span class="kn">t</span><span class=""> </span><span class="n">S</span><span class="n">t</span><span class="n">r</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class="n">I</span><span class="n">O</span><span class="">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">_</span><span class="nc">G</span><span class="nc">r</span><span class="nc">a</span><span class="nc">m</span><span class="nc">m</span><span class="nc">a</span><span class="nc">r</span><span class="p">(</span><span class="nb">o</span><span class="nb">b</span><span class="nb">j</span><span class="nb">e</span><span class="nb">c</span><span class="nb">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">_</span><span class="nf">o</span><span class="nf">r</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">e</span><span class="n">r</span><span class="n">s</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">o</span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">i</span><span class="n">n</span><span class="n">a</span><span class="n">l</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">f</span><span class="k">o</span><span class="k">r</span><span class=""> </span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">e</span><span class="n">r</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">e</span><span class="n">r</span><span class="n">s</span><span class="p">[</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">t</span><span class="k">r</span><span class="k">y</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">e</span><span class="n">r</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">x</span><span class="k">c</span><span class="k">e</span><span class="k">p</span><span class="k">t</span><span class=""> </span><span class="n">_</span><span class="n">M</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">E</span><span class="n">r</span><span class="n">r</span><span class="n">o</span><span class="n">r</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">o</span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">i</span><span class="n">n</span><span class="n">a</span><span class="n">l</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">e</span><span class="n">r</span><span class="n">s</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">_</span><span class="nf">a</span><span class="nf">n</span><span class="nf">d</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">e</span><span class="n">r</span><span class="n">s</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">r</span><span class="n">e</span><span class="n">s</span><span class="n">u</span><span class="n">l</span><span class="n">t</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">N</span><span class="bp">o</span><span class="bp">n</span><span class="bp">e</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">f</span><span class="k">o</span><span class="k">r</span><span class=""> </span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">e</span><span class="n">r</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">e</span><span class="n">r</span><span class="n">s</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">r</span><span class="n">e</span><span class="n">s</span><span class="n">u</span><span class="n">l</span><span class="n">t</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">e</span><span class="n">r</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">r</span><span class="n">e</span><span class="n">s</span><span class="n">u</span><span class="n">l</span><span class="n">t</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">_</span><span class="nf">s</span><span class="nf">t</span><span class="nf">a</span><span class="nf">r</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">e</span><span class="n">r</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">r</span><span class="n">e</span><span class="n">s</span><span class="n">u</span><span class="n">l</span><span class="n">t</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">[</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">w</span><span class="k">h</span><span class="k">i</span><span class="k">l</span><span class="k">e</span><span class=""> </span><span class="bp">T</span><span class="bp">r</span><span class="bp">u</span><span class="bp">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">o</span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">i</span><span class="n">n</span><span class="n">a</span><span class="n">l</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">t</span><span class="k">r</span><span class="k">y</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">r</span><span class="n">e</span><span class="n">s</span><span class="n">u</span><span class="n">l</span><span class="n">t</span><span class="o">.</span><span class="n">a</span><span class="n">p</span><span class="n">p</span><span class="n">e</span><span class="n">n</span><span class="n">d</span><span class="p">(</span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">e</span><span class="n">r</span><span class="p">(</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">x</span><span class="k">c</span><span class="k">e</span><span class="k">p</span><span class="k">t</span><span class=""> </span><span class="n">_</span><span class="n">M</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">E</span><span class="n">r</span><span class="n">r</span><span class="n">o</span><span class="n">r</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">o</span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">i</span><span class="n">n</span><span class="n">a</span><span class="n">l</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">_</span><span class="n">S</span><span class="n">e</span><span class="n">m</span><span class="n">a</span><span class="n">n</span><span class="n">t</span><span class="n">i</span><span class="n">c</span><span class="n">A</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">(</span><span class="k">l</span><span class="k">a</span><span class="k">m</span><span class="k">b</span><span class="k">d</span><span class="k">a</span><span class="p">:</span><span class=""> </span><span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">e</span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="p">(</span><span class="p">)</span><span class=""> </span><span class="k">f</span><span class="k">o</span><span class="k">r</span><span class=""> </span><span class="n">x</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="n">r</span><span class="n">e</span><span class="n">s</span><span class="n">u</span><span class="n">l</span><span class="n">t</span><span class="p">]</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">_</span><span class="nf">n</span><span class="nf">o</span><span class="nf">t</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">e</span><span class="n">r</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">o</span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">i</span><span class="n">n</span><span class="n">a</span><span class="n">l</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">t</span><span class="k">r</span><span class="k">y</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">e</span><span class="n">r</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">x</span><span class="k">c</span><span class="k">e</span><span class="k">p</span><span class="k">t</span><span class=""> </span><span class="n">_</span><span class="n">M</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">E</span><span class="n">r</span><span class="n">r</span><span class="n">o</span><span class="n">r</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">_</span><span class="n">S</span><span class="n">e</span><span class="n">m</span><span class="n">a</span><span class="n">n</span><span class="n">t</span><span class="n">i</span><span class="n">c</span><span class="n">A</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">(</span><span class="k">l</span><span class="k">a</span><span class="k">m</span><span class="k">b</span><span class="k">d</span><span class="k">a</span><span class="p">:</span><span class=""> </span><span class="bp">N</span><span class="bp">o</span><span class="bp">n</span><span class="bp">e</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">o</span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">i</span><span class="n">n</span><span class="n">a</span><span class="n">l</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="o">.</span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="p">(</span><span class="k">l</span><span class="k">a</span><span class="k">m</span><span class="k">b</span><span class="k">d</span><span class="k">a</span><span class="p">:</span><span class=""> </span><span class="s2">"</span><span class="s2">m</span><span class="s2">a</span><span class="s2">t</span><span class="s2">c</span><span class="s2">h</span><span class="s2"> </span><span class="s2">f</span><span class="s2">o</span><span class="s2">u</span><span class="s2">n</span><span class="s2">d</span><span class="s2">"</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">f</span><span class="k">i</span><span class="k">n</span><span class="k">a</span><span class="k">l</span><span class="k">l</span><span class="k">y</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">o</span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">i</span><span class="n">n</span><span class="n">a</span><span class="n">l</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="">
</span><span class="">
</span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp">&lt;</span><span class="cp">&lt;</span><span class="cp">m</span><span class="cp">a</span><span class="cp">t</span><span class="cp">c</span><span class="cp">h</span><span class="cp"> </span><span class="cp">r</span><span class="cp">u</span><span class="cp">l</span><span class="cp">e</span><span class="cp">&gt;</span><span class="cp">&gt;</span><span class="cp">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">_</span><span class="nf">m</span><span class="nf">a</span><span class="nf">t</span><span class="nf">c</span><span class="nf">h</span><span class="nf">_</span><span class="nf">r</span><span class="nf">a</span><span class="nf">n</span><span class="nf">g</span><span class="nf">e</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">r</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">e</span><span class="n">n</span><span class="n">d</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="o">.</span><span class="n">p</span><span class="n">e</span><span class="n">e</span><span class="n">k</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class=""> </span><span class="o">&gt;</span><span class="o">=</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">r</span><span class="n">t</span><span class=""> </span><span class="ow">a</span><span class="ow">n</span><span class="ow">d</span><span class=""> </span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class=""> </span><span class="o">&lt;</span><span class="o">=</span><span class=""> </span><span class="n">e</span><span class="n">n</span><span class="n">d</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="o">.</span><span class="n">a</span><span class="n">d</span><span class="n">v</span><span class="n">a</span><span class="n">n</span><span class="n">c</span><span class="n">e</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">_</span><span class="n">S</span><span class="n">e</span><span class="n">m</span><span class="n">a</span><span class="n">n</span><span class="n">t</span><span class="n">i</span><span class="n">c</span><span class="n">A</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">(</span><span class="k">l</span><span class="k">a</span><span class="k">m</span><span class="k">b</span><span class="k">d</span><span class="k">a</span><span class="p">:</span><span class=""> </span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="o">.</span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="p">(</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">l</span><span class="k">a</span><span class="k">m</span><span class="k">b</span><span class="k">d</span><span class="k">a</span><span class="p">:</span><span class=""> </span><span class="s2">"</span><span class="s2">e</span><span class="s2">x</span><span class="s2">p</span><span class="s2">e</span><span class="s2">c</span><span class="s2">t</span><span class="s2">e</span><span class="s2">d</span><span class="s2"> </span><span class="s2">r</span><span class="s2">a</span><span class="s2">n</span><span class="s2">g</span><span class="s2">e</span><span class="s2"> </span><span class="s2">{</span><span class="s2">!</span><span class="s2">r</span><span class="s2">}</span><span class="s2">-</span><span class="s2">{</span><span class="s2">!</span><span class="s2">r</span><span class="s2">}</span><span class="s2"> </span><span class="s2">b</span><span class="s2">u</span><span class="s2">t</span><span class="s2"> </span><span class="s2">f</span><span class="s2">o</span><span class="s2">u</span><span class="s2">n</span><span class="s2">d</span><span class="s2"> </span><span class="s2">{</span><span class="s2">!</span><span class="s2">r</span><span class="s2">}</span><span class="s2">"</span><span class="o">.</span><span class="n">f</span><span class="n">o</span><span class="n">r</span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="p">(</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">r</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">e</span><span class="n">n</span><span class="n">d</span><span class="p">,</span><span class=""> </span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="p">)</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">_</span><span class="nf">m</span><span class="nf">a</span><span class="nf">t</span><span class="nf">c</span><span class="nf">h</span><span class="nf">_</span><span class="nf">s</span><span class="nf">t</span><span class="nf">r</span><span class="nf">i</span><span class="nf">n</span><span class="nf">g</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="o">.</span><span class="n">p</span><span class="n">e</span><span class="n">e</span><span class="n">k</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="o">.</span><span class="n">a</span><span class="n">d</span><span class="n">v</span><span class="n">a</span><span class="n">n</span><span class="n">c</span><span class="n">e</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">_</span><span class="n">S</span><span class="n">e</span><span class="n">m</span><span class="n">a</span><span class="n">n</span><span class="n">t</span><span class="n">i</span><span class="n">c</span><span class="n">A</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">(</span><span class="k">l</span><span class="k">a</span><span class="k">m</span><span class="k">b</span><span class="k">d</span><span class="k">a</span><span class="p">:</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="o">.</span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="p">(</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">l</span><span class="k">a</span><span class="k">m</span><span class="k">b</span><span class="k">d</span><span class="k">a</span><span class="p">:</span><span class=""> </span><span class="s2">"</span><span class="s2">e</span><span class="s2">x</span><span class="s2">p</span><span class="s2">e</span><span class="s2">c</span><span class="s2">t</span><span class="s2">e</span><span class="s2">d</span><span class="s2"> </span><span class="s2">{</span><span class="s2">!</span><span class="s2">r</span><span class="s2">}</span><span class="s2"> </span><span class="s2">b</span><span class="s2">u</span><span class="s2">t</span><span class="s2"> </span><span class="s2">f</span><span class="s2">o</span><span class="s2">u</span><span class="s2">n</span><span class="s2">d</span><span class="s2"> </span><span class="s2">{</span><span class="s2">!</span><span class="s2">r</span><span class="s2">}</span><span class="s2">"</span><span class="o">.</span><span class="n">f</span><span class="n">o</span><span class="n">r</span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="p">(</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class="p">,</span><span class=""> </span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="p">)</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">_</span><span class="nf">m</span><span class="nf">a</span><span class="nf">t</span><span class="nf">c</span><span class="nf">h</span><span class="nf">_</span><span class="nf">c</span><span class="nf">h</span><span class="nf">a</span><span class="nf">r</span><span class="nf">s</span><span class="nf">e</span><span class="nf">q</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">c</span><span class="n">h</span><span class="n">a</span><span class="n">r</span><span class="n">s</span><span class="n">e</span><span class="n">q</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">f</span><span class="k">o</span><span class="k">r</span><span class=""> </span><span class="n">c</span><span class="n">h</span><span class="n">a</span><span class="n">r</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="n">c</span><span class="n">h</span><span class="n">a</span><span class="n">r</span><span class="n">s</span><span class="n">e</span><span class="n">q</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="o">.</span><span class="n">p</span><span class="n">e</span><span class="n">e</span><span class="n">k</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class=""> </span><span class="o">!</span><span class="o">=</span><span class=""> </span><span class="n">c</span><span class="n">h</span><span class="n">a</span><span class="n">r</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="o">.</span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="p">(</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">l</span><span class="k">a</span><span class="k">m</span><span class="k">b</span><span class="k">d</span><span class="k">a</span><span class="p">:</span><span class=""> </span><span class="s2">"</span><span class="s2">e</span><span class="s2">x</span><span class="s2">p</span><span class="s2">e</span><span class="s2">c</span><span class="s2">t</span><span class="s2">e</span><span class="s2">d</span><span class="s2"> </span><span class="s2">{</span><span class="s2">!</span><span class="s2">r</span><span class="s2">}</span><span class="s2"> </span><span class="s2">b</span><span class="s2">u</span><span class="s2">t</span><span class="s2"> </span><span class="s2">f</span><span class="s2">o</span><span class="s2">u</span><span class="s2">n</span><span class="s2">d</span><span class="s2"> </span><span class="s2">{</span><span class="s2">!</span><span class="s2">r</span><span class="s2">}</span><span class="s2">"</span><span class="o">.</span><span class="n">f</span><span class="n">o</span><span class="n">r</span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="p">(</span><span class="n">c</span><span class="n">h</span><span class="n">a</span><span class="n">r</span><span class="p">,</span><span class=""> </span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="o">.</span><span class="n">a</span><span class="n">d</span><span class="n">v</span><span class="n">a</span><span class="n">n</span><span class="n">c</span><span class="n">e</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">_</span><span class="n">S</span><span class="n">e</span><span class="n">m</span><span class="n">a</span><span class="n">n</span><span class="n">t</span><span class="n">i</span><span class="n">c</span><span class="n">A</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">(</span><span class="k">l</span><span class="k">a</span><span class="k">m</span><span class="k">b</span><span class="k">d</span><span class="k">a</span><span class="p">:</span><span class=""> </span><span class="n">c</span><span class="n">h</span><span class="n">a</span><span class="n">r</span><span class="n">s</span><span class="n">e</span><span class="n">q</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">_</span><span class="nf">m</span><span class="nf">a</span><span class="nf">t</span><span class="nf">c</span><span class="nf">h</span><span class="nf">_</span><span class="nf">a</span><span class="nf">n</span><span class="nf">y</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="o">.</span><span class="n">p</span><span class="n">e</span><span class="n">e</span><span class="n">k</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="o">.</span><span class="n">a</span><span class="n">d</span><span class="n">v</span><span class="n">a</span><span class="n">n</span><span class="n">c</span><span class="n">e</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">_</span><span class="n">S</span><span class="n">e</span><span class="n">m</span><span class="n">a</span><span class="n">n</span><span class="n">t</span><span class="n">i</span><span class="n">c</span><span class="n">A</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">(</span><span class="k">l</span><span class="k">a</span><span class="k">m</span><span class="k">b</span><span class="k">d</span><span class="k">a</span><span class="p">:</span><span class=""> </span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">_</span><span class="nf">m</span><span class="nf">a</span><span class="nf">t</span><span class="nf">c</span><span class="nf">h</span><span class="nf">_</span><span class="nf">c</span><span class="nf">a</span><span class="nf">l</span><span class="nf">l</span><span class="nf">_</span><span class="nf">r</span><span class="nf">u</span><span class="nf">l</span><span class="nf">e</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="o">.</span><span class="n">p</span><span class="n">e</span><span class="n">e</span><span class="n">k</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="o">.</span><span class="n">a</span><span class="n">d</span><span class="n">v</span><span class="n">a</span><span class="n">n</span><span class="n">c</span><span class="n">e</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">_</span><span class="n">r</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="p">(</span><span class="nb">s</span><span class="nb">t</span><span class="nb">r</span><span class="p">(</span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">_</span><span class="nf">m</span><span class="nf">a</span><span class="nf">t</span><span class="nf">c</span><span class="nf">h</span><span class="nf">_</span><span class="nf">l</span><span class="nf">i</span><span class="nf">s</span><span class="nf">t</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">e</span><span class="n">r</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">o</span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">i</span><span class="n">n</span><span class="n">a</span><span class="n">l</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="o">.</span><span class="n">p</span><span class="n">e</span><span class="n">e</span><span class="n">k</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="nb">i</span><span class="nb">s</span><span class="nb">i</span><span class="nb">n</span><span class="nb">s</span><span class="nb">t</span><span class="nb">a</span><span class="nb">n</span><span class="nb">c</span><span class="nb">e</span><span class="p">(</span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="nb">l</span><span class="nb">i</span><span class="nb">s</span><span class="nb">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="o">.</span><span class="n">n</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">e</span><span class="n">d</span><span class="p">(</span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">e</span><span class="n">r</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="o">.</span><span class="n">i</span><span class="n">s</span><span class="n">_</span><span class="n">a</span><span class="n">t</span><span class="n">_</span><span class="n">e</span><span class="n">n</span><span class="n">d</span><span class="p">(</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">o</span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">i</span><span class="n">n</span><span class="n">a</span><span class="n">l</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="o">.</span><span class="n">a</span><span class="n">d</span><span class="n">v</span><span class="n">a</span><span class="n">n</span><span class="n">c</span><span class="n">e</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">_</span><span class="n">S</span><span class="n">e</span><span class="n">m</span><span class="n">a</span><span class="n">n</span><span class="n">t</span><span class="n">i</span><span class="n">c</span><span class="n">A</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">(</span><span class="k">l</span><span class="k">a</span><span class="k">m</span><span class="k">b</span><span class="k">d</span><span class="k">a</span><span class="p">:</span><span class=""> </span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">o</span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">i</span><span class="n">n</span><span class="n">a</span><span class="n">l</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="o">.</span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="p">(</span><span class="k">l</span><span class="k">a</span><span class="k">m</span><span class="k">b</span><span class="k">d</span><span class="k">a</span><span class="p">:</span><span class=""> </span><span class="s2">"</span><span class="s2">l</span><span class="s2">i</span><span class="s2">s</span><span class="s2">t</span><span class="s2"> </span><span class="s2">m</span><span class="s2">a</span><span class="s2">t</span><span class="s2">c</span><span class="s2">h</span><span class="s2"> </span><span class="s2">f</span><span class="s2">a</span><span class="s2">i</span><span class="s2">l</span><span class="s2">e</span><span class="s2">d</span><span class="s2">"</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">r</span><span class="nf">u</span><span class="nf">n</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="n">_</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">,</span><span class=""> </span><span class="n">i</span><span class="n">n</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_</span><span class="n">M</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_</span><span class="n">S</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="o">.</span><span class="n">f</span><span class="n">r</span><span class="n">o</span><span class="n">m</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="p">,</span><span class=""> </span><span class="n">i</span><span class="n">n</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">r</span><span class="n">e</span><span class="n">s</span><span class="n">u</span><span class="n">l</span><span class="n">t</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">_</span><span class="n">r</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="p">(</span><span class="n">r</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="n">_</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="n">e</span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="nb">i</span><span class="nb">s</span><span class="nb">i</span><span class="nb">n</span><span class="nb">s</span><span class="nb">t</span><span class="nb">a</span><span class="nb">n</span><span class="nb">c</span><span class="nb">e</span><span class="p">(</span><span class="n">r</span><span class="n">e</span><span class="n">s</span><span class="n">u</span><span class="n">l</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">_</span><span class="n">B</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">r</span><span class="n">e</span><span class="n">s</span><span class="n">u</span><span class="n">l</span><span class="n">t</span><span class="o">.</span><span class="n">b</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">r</span><span class="n">e</span><span class="n">s</span><span class="n">u</span><span class="n">l</span><span class="n">t</span><span class="">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">_</span><span class="nc">V</span><span class="nc">a</span><span class="nc">r</span><span class="nc">s</span><span class="p">(</span><span class="nb">d</span><span class="nb">i</span><span class="nb">c</span><span class="nb">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">b</span><span class="nf">i</span><span class="nf">n</span><span class="nf">d</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">,</span><span class=""> </span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">[</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">l</span><span class="nf">o</span><span class="nf">o</span><span class="nf">k</span><span class="nf">u</span><span class="nf">p</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">[</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">]</span><span class="">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">_</span><span class="nc">S</span><span class="nc">e</span><span class="nc">m</span><span class="nc">a</span><span class="nc">n</span><span class="nc">t</span><span class="nc">i</span><span class="nc">c</span><span class="nc">A</span><span class="nc">c</span><span class="nc">t</span><span class="nc">i</span><span class="nc">o</span><span class="nc">n</span><span class="p">(</span><span class="nb">o</span><span class="nb">b</span><span class="nb">j</span><span class="nb">e</span><span class="nb">c</span><span class="nb">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">f</span><span class="n">n</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">f</span><span class="n">n</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">f</span><span class="n">n</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">e</span><span class="nf">v</span><span class="nf">a</span><span class="nf">l</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">f</span><span class="n">n</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">_</span><span class="nc">B</span><span class="nc">u</span><span class="nc">i</span><span class="nc">l</span><span class="nc">d</span><span class="nc">e</span><span class="nc">r</span><span class="p">(</span><span class="nb">o</span><span class="nb">b</span><span class="nb">j</span><span class="nb">e</span><span class="nb">c</span><span class="nb">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">b</span><span class="nf">u</span><span class="nf">i</span><span class="nf">l</span><span class="nf">d</span><span class="nf">_</span><span class="nf">s</span><span class="nf">t</span><span class="nf">r</span><span class="nf">i</span><span class="nf">n</span><span class="nf">g</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_</span><span class="n">O</span><span class="n">u</span><span class="n">t</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">w</span><span class="n">r</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="p">(</span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="o">.</span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nd">@</span><span class="nd">c</span><span class="nd">l</span><span class="nd">a</span><span class="nd">s</span><span class="nd">s</span><span class="nd">m</span><span class="nd">e</span><span class="nd">t</span><span class="nd">h</span><span class="nd">o</span><span class="nd">d</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">c</span><span class="nf">r</span><span class="nf">e</span><span class="nf">a</span><span class="nf">t</span><span class="nf">e</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="nb">i</span><span class="nb">s</span><span class="nb">i</span><span class="nb">n</span><span class="nb">s</span><span class="nb">t</span><span class="nb">a</span><span class="nb">n</span><span class="nb">c</span><span class="nb">e</span><span class="p">(</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="p">,</span><span class=""> </span><span class="n">_</span><span class="n">B</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="nb">i</span><span class="nb">s</span><span class="nb">i</span><span class="nb">n</span><span class="nb">s</span><span class="nb">t</span><span class="nb">a</span><span class="nb">n</span><span class="nb">c</span><span class="nb">e</span><span class="p">(</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="p">,</span><span class=""> </span><span class="nb">l</span><span class="nb">i</span><span class="nb">s</span><span class="nb">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">_</span><span class="n">L</span><span class="n">i</span><span class="n">s</span><span class="n">t</span><span class="n">B</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="p">(</span><span class="p">[</span><span class="n">_</span><span class="n">B</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="o">.</span><span class="n">c</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">t</span><span class="n">e</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class=""> </span><span class="k">f</span><span class="k">o</span><span class="k">r</span><span class=""> </span><span class="n">x</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="p">]</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">_</span><span class="n">A</span><span class="n">t</span><span class="n">o</span><span class="n">m</span><span class="n">B</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="p">(</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">_</span><span class="nc">O</span><span class="nc">u</span><span class="nc">t</span><span class="nc">p</span><span class="nc">u</span><span class="nc">t</span><span class="p">(</span><span class="nb">o</span><span class="nb">b</span><span class="nb">j</span><span class="nb">e</span><span class="nb">c</span><span class="nb">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">b</span><span class="n">u</span><span class="n">f</span><span class="n">f</span><span class="n">e</span><span class="n">r</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">S</span><span class="n">t</span><span class="n">r</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class="n">I</span><span class="n">O</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">i</span><span class="n">n</span><span class="n">d</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="n">a</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">o</span><span class="n">n</span><span class="n">_</span><span class="n">n</span><span class="n">e</span><span class="n">w</span><span class="n">l</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">T</span><span class="bp">r</span><span class="bp">u</span><span class="bp">e</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nd">@</span><span class="nd">p</span><span class="nd">r</span><span class="nd">o</span><span class="nd">p</span><span class="nd">e</span><span class="nd">r</span><span class="nd">t</span><span class="nd">y</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">v</span><span class="nf">a</span><span class="nf">l</span><span class="nf">u</span><span class="nf">e</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">b</span><span class="n">u</span><span class="n">f</span><span class="n">f</span><span class="n">e</span><span class="n">r</span><span class="o">.</span><span class="n">g</span><span class="n">e</span><span class="n">t</span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">w</span><span class="nf">r</span><span class="nf">i</span><span class="nf">t</span><span class="nf">e</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">f</span><span class="k">o</span><span class="k">r</span><span class=""> </span><span class="n">c</span><span class="n">h</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">i</span><span class="n">s</span><span class="n">_</span><span class="n">l</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class="n">b</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">k</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">c</span><span class="n">h</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="se">\</span><span class="se">n</span><span class="s2">"</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">i</span><span class="n">n</span><span class="n">d</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="n">a</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class=""> </span><span class="ow">a</span><span class="ow">n</span><span class="ow">d</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">o</span><span class="n">n</span><span class="n">_</span><span class="n">n</span><span class="n">e</span><span class="n">w</span><span class="n">l</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class=""> </span><span class="ow">a</span><span class="ow">n</span><span class="ow">d</span><span class=""> </span><span class="ow">n</span><span class="ow">o</span><span class="ow">t</span><span class=""> </span><span class="n">i</span><span class="n">s</span><span class="n">_</span><span class="n">l</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class="n">b</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">k</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">b</span><span class="n">u</span><span class="n">f</span><span class="n">f</span><span class="n">e</span><span class="n">r</span><span class="o">.</span><span class="n">w</span><span class="n">r</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="p">(</span><span class="s2">"</span><span class="s2"> </span><span class="s2"> </span><span class="s2"> </span><span class="s2"> </span><span class="s2">"</span><span class="o">*</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">i</span><span class="n">n</span><span class="n">d</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="n">a</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">b</span><span class="n">u</span><span class="n">f</span><span class="n">f</span><span class="n">e</span><span class="n">r</span><span class="o">.</span><span class="n">w</span><span class="n">r</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="p">(</span><span class="n">c</span><span class="n">h</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">o</span><span class="n">n</span><span class="n">_</span><span class="n">n</span><span class="n">e</span><span class="n">w</span><span class="n">l</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">i</span><span class="n">s</span><span class="n">_</span><span class="n">l</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class="n">b</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">k</span><span class="">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">_</span><span class="nc">L</span><span class="nc">i</span><span class="nc">s</span><span class="nc">t</span><span class="nc">B</span><span class="nc">u</span><span class="nc">i</span><span class="nc">l</span><span class="nc">d</span><span class="nc">e</span><span class="nc">r</span><span class="p">(</span><span class="n">_</span><span class="n">B</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">b</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="n">s</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">b</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="n">s</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">b</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="n">s</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">w</span><span class="nf">r</span><span class="nf">i</span><span class="nf">t</span><span class="nf">e</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">f</span><span class="k">o</span><span class="k">r</span><span class=""> </span><span class="n">b</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">b</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="n">s</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">b</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="o">.</span><span class="n">w</span><span class="n">r</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="p">(</span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">_</span><span class="nc">A</span><span class="nc">t</span><span class="nc">o</span><span class="nc">m</span><span class="nc">B</span><span class="nc">u</span><span class="nc">i</span><span class="nc">l</span><span class="nc">d</span><span class="nc">e</span><span class="nc">r</span><span class="p">(</span><span class="n">_</span><span class="n">B</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">a</span><span class="n">t</span><span class="n">o</span><span class="n">m</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">a</span><span class="n">t</span><span class="n">o</span><span class="n">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">a</span><span class="n">t</span><span class="n">o</span><span class="n">m</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">w</span><span class="nf">r</span><span class="nf">i</span><span class="nf">t</span><span class="nf">e</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="o">.</span><span class="n">w</span><span class="n">r</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="p">(</span><span class="nb">s</span><span class="nb">t</span><span class="nb">r</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">a</span><span class="n">t</span><span class="n">o</span><span class="n">m</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">_</span><span class="nc">I</span><span class="nc">n</span><span class="nc">d</span><span class="nc">e</span><span class="nc">n</span><span class="nc">t</span><span class="nc">B</span><span class="nc">u</span><span class="nc">i</span><span class="nc">l</span><span class="nc">d</span><span class="nc">e</span><span class="nc">r</span><span class="p">(</span><span class="n">_</span><span class="n">B</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">w</span><span class="nf">r</span><span class="nf">i</span><span class="nf">t</span><span class="nf">e</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="o">.</span><span class="n">i</span><span class="n">n</span><span class="n">d</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="n">a</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">_</span><span class="nc">D</span><span class="nc">e</span><span class="nc">d</span><span class="nc">e</span><span class="nc">n</span><span class="nc">t</span><span class="nc">B</span><span class="nc">u</span><span class="nc">i</span><span class="nc">l</span><span class="nc">d</span><span class="nc">e</span><span class="nc">r</span><span class="p">(</span><span class="n">_</span><span class="n">B</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">w</span><span class="nf">r</span><span class="nf">i</span><span class="nf">t</span><span class="nf">e</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="o">.</span><span class="n">i</span><span class="n">n</span><span class="n">d</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="n">a</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class=""> </span><span class="o">-</span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">_</span><span class="nc">M</span><span class="nc">e</span><span class="nc">m</span><span class="nc">o</span><span class="p">(</span><span class="nb">d</span><span class="nb">i</span><span class="nb">c</span><span class="nb">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">d</span><span class="nb">i</span><span class="nb">c</span><span class="nb">t</span><span class="o">.</span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">l</span><span class="n">a</span><span class="n">t</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_</span><span class="n">O</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="n">S</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="p">[</span><span class="p">]</span><span class="p">,</span><span class=""> </span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">l</span><span class="n">a</span><span class="n">t</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">_</span><span class="n">l</span><span class="n">a</span><span class="n">z</span><span class="n">y</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">l</span><span class="k">a</span><span class="k">m</span><span class="k">b</span><span class="k">d</span><span class="k">a</span><span class="p">:</span><span class=""> </span><span class="s2">"</span><span class="s2">"</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">d</span><span class="nf">e</span><span class="nf">s</span><span class="nf">c</span><span class="nf">r</span><span class="nf">i</span><span class="nf">b</span><span class="nf">e</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">[</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">f</span><span class="k">o</span><span class="k">r</span><span class=""> </span><span class="p">(</span><span class="n">r</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="n">_</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">,</span><span class=""> </span><span class="n">_</span><span class="p">)</span><span class="p">,</span><span class=""> </span><span class="p">(</span><span class="n">_</span><span class="p">,</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">r</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">e</span><span class="n">n</span><span class="n">d</span><span class="p">)</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="p">(</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">e</span><span class="n">n</span><span class="n">d</span><span class=""> </span><span class="o">&gt;</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">r</span><span class="n">t</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="o">.</span><span class="n">a</span><span class="n">p</span><span class="n">p</span><span class="n">e</span><span class="n">n</span><span class="n">d</span><span class="p">(</span><span class="p">(</span><span class="n">r</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="n">_</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">,</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">r</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">e</span><span class="n">n</span><span class="n">d</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="o">.</span><span class="n">s</span><span class="n">o</span><span class="n">r</span><span class="n">t</span><span class="p">(</span><span class="n">k</span><span class="n">e</span><span class="n">y</span><span class="o">=</span><span class="k">l</span><span class="k">a</span><span class="k">m</span><span class="k">b</span><span class="k">d</span><span class="k">a</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="p">:</span><span class=""> </span><span class="p">(</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">i</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">(</span><span class="p">)</span><span class="p">,</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">i</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">(</span><span class="p">)</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">[</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">f</span><span class="k">o</span><span class="k">r</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class="o">.</span><span class="n">a</span><span class="n">p</span><span class="n">p</span><span class="n">e</span><span class="n">n</span><span class="n">d</span><span class="p">(</span><span class="s2">"</span><span class="s2">m</span><span class="s2">a</span><span class="s2">t</span><span class="s2">c</span><span class="s2">h</span><span class="s2">e</span><span class="s2">d</span><span class="s2"> </span><span class="s2">{</span><span class="s2">:</span><span class="s2"> </span><span class="s2">&lt;</span><span class="s2">2</span><span class="s2">0</span><span class="s2">}</span><span class="s2"> </span><span class="s2">{</span><span class="s2">}</span><span class="s2"> </span><span class="s2">-</span><span class="s2">&gt;</span><span class="s2"> </span><span class="s2">{</span><span class="s2">}</span><span class="se">\</span><span class="se">n</span><span class="s2">"</span><span class="o">.</span><span class="n">f</span><span class="n">o</span><span class="n">r</span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="p">(</span><span class="o">*</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class="o">.</span><span class="n">a</span><span class="n">p</span><span class="n">p</span><span class="n">e</span><span class="n">n</span><span class="n">d</span><span class="p">(</span><span class="s2">"</span><span class="se">\</span><span class="se">n</span><span class="s2">"</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class="o">.</span><span class="n">a</span><span class="n">p</span><span class="n">p</span><span class="n">e</span><span class="n">n</span><span class="n">d</span><span class="p">(</span><span class="s2">"</span><span class="s2">E</span><span class="s2">R</span><span class="s2">R</span><span class="s2">O</span><span class="s2">R</span><span class="s2">:</span><span class="s2"> </span><span class="s2">{</span><span class="s2">}</span><span class="s2">:</span><span class="s2"> </span><span class="s2">{</span><span class="s2">}</span><span class="se">\</span><span class="se">n</span><span class="s2">"</span><span class="o">.</span><span class="n">f</span><span class="n">o</span><span class="n">r</span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="p">(</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">l</span><span class="n">a</span><span class="n">t</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">l</span><span class="n">a</span><span class="n">t</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">_</span><span class="n">l</span><span class="n">a</span><span class="n">z</span><span class="n">y</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="s2">"</span><span class="s2">"</span><span class="o">.</span><span class="n">j</span><span class="n">o</span><span class="n">i</span><span class="n">n</span><span class="p">(</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp">&lt;</span><span class="cp">&lt;</span><span class="cp">m</span><span class="cp">e</span><span class="cp">m</span><span class="cp">o</span><span class="cp"> </span><span class="cp">f</span><span class="cp">a</span><span class="cp">i</span><span class="cp">l</span><span class="cp">&gt;</span><span class="cp">&gt;</span><span class="cp">
</span><span class="">
</span><span class="cp">&lt;</span><span class="cp">&lt;</span><span class="cp">m</span><span class="cp">a</span><span class="cp">t</span><span class="cp">c</span><span class="cp">h</span><span class="cp"> </span><span class="cp">e</span><span class="cp">r</span><span class="cp">r</span><span class="cp">o</span><span class="cp">r</span><span class="cp">&gt;</span><span class="cp">&gt;</span><span class="cp">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">_</span><span class="nc">S</span><span class="nc">t</span><span class="nc">r</span><span class="nc">e</span><span class="nc">a</span><span class="nc">m</span><span class="p">(</span><span class="nb">o</span><span class="nb">b</span><span class="nb">j</span><span class="nb">e</span><span class="nb">c</span><span class="nb">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nd">@</span><span class="nd">c</span><span class="nd">l</span><span class="nd">a</span><span class="nd">s</span><span class="nd">s</span><span class="nd">m</span><span class="nd">e</span><span class="nd">t</span><span class="nd">h</span><span class="nd">o</span><span class="nd">d</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">f</span><span class="nf">r</span><span class="nf">o</span><span class="nf">m</span><span class="nf">_</span><span class="nf">o</span><span class="nf">b</span><span class="nf">j</span><span class="nf">e</span><span class="nf">c</span><span class="nf">t</span><span class="p">(</span><span class="bp">c</span><span class="bp">l</span><span class="bp">s</span><span class="p">,</span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="p">,</span><span class=""> </span><span class="n">i</span><span class="n">n</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="nb">i</span><span class="nb">s</span><span class="nb">i</span><span class="nb">n</span><span class="nb">s</span><span class="nb">t</span><span class="nb">a</span><span class="nb">n</span><span class="nb">c</span><span class="nb">e</span><span class="p">(</span><span class="n">i</span><span class="n">n</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="nb">b</span><span class="nb">a</span><span class="nb">s</span><span class="nb">e</span><span class="nb">s</span><span class="nb">t</span><span class="nb">r</span><span class="nb">i</span><span class="nb">n</span><span class="nb">g</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">_</span><span class="n">C</span><span class="n">h</span><span class="n">a</span><span class="n">r</span><span class="n">S</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">(</span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="p">,</span><span class=""> </span><span class="n">i</span><span class="n">n</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="mi">0</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">_</span><span class="n">O</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="n">S</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">(</span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="p">,</span><span class=""> </span><span class="p">[</span><span class="n">i</span><span class="n">n</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="p">]</span><span class="p">,</span><span class=""> </span><span class="mi">0</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="p">,</span><span class=""> </span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="n">i</span><span class="n">n</span><span class="n">d</span><span class="n">e</span><span class="n">x</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="n">s</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="n">s</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">i</span><span class="n">n</span><span class="n">d</span><span class="n">e</span><span class="n">x</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">i</span><span class="n">n</span><span class="n">d</span><span class="n">e</span><span class="n">x</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">f</span><span class="nf">a</span><span class="nf">i</span><span class="nf">l</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">z</span><span class="n">y</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="o">.</span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">z</span><span class="n">y</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">p</span><span class="nf">e</span><span class="nf">e</span><span class="nf">k</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">i</span><span class="n">s</span><span class="n">_</span><span class="n">a</span><span class="n">t</span><span class="n">_</span><span class="n">e</span><span class="n">n</span><span class="n">d</span><span class="p">(</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="p">(</span><span class="k">l</span><span class="k">a</span><span class="k">m</span><span class="k">b</span><span class="k">d</span><span class="k">a</span><span class="p">:</span><span class=""> </span><span class="s2">"</span><span class="s2">n</span><span class="s2">o</span><span class="s2">t</span><span class="s2"> </span><span class="s2">e</span><span class="s2">o</span><span class="s2">f</span><span class="s2">"</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="n">s</span><span class="p">[</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">i</span><span class="n">n</span><span class="n">d</span><span class="n">e</span><span class="n">x</span><span class="p">]</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">i</span><span class="nf">s</span><span class="nf">_</span><span class="nf">a</span><span class="nf">t</span><span class="nf">_</span><span class="nf">e</span><span class="nf">n</span><span class="nf">d</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">i</span><span class="n">n</span><span class="n">d</span><span class="n">e</span><span class="n">x</span><span class=""> </span><span class="o">&gt;</span><span class="o">=</span><span class=""> </span><span class="nb">l</span><span class="nb">e</span><span class="nb">n</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="n">s</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">_</span><span class="nc">C</span><span class="nc">h</span><span class="nc">a</span><span class="nc">r</span><span class="nc">S</span><span class="nc">t</span><span class="nc">r</span><span class="nc">e</span><span class="nc">a</span><span class="nc">m</span><span class="p">(</span><span class="n">_</span><span class="n">S</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="p">,</span><span class=""> </span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="n">i</span><span class="n">n</span><span class="n">d</span><span class="n">e</span><span class="n">x</span><span class="p">,</span><span class=""> </span><span class="n">l</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class=""> </span><span class="n">c</span><span class="n">o</span><span class="n">l</span><span class="n">u</span><span class="n">m</span><span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">_</span><span class="n">S</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="o">.</span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="p">,</span><span class=""> </span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="n">i</span><span class="n">n</span><span class="n">d</span><span class="n">e</span><span class="n">x</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">l</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">l</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">c</span><span class="n">o</span><span class="n">l</span><span class="n">u</span><span class="n">m</span><span class="n">n</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">c</span><span class="n">o</span><span class="n">l</span><span class="n">u</span><span class="n">m</span><span class="n">n</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">p</span><span class="nf">o</span><span class="nf">s</span><span class="nf">i</span><span class="nf">t</span><span class="nf">i</span><span class="nf">o</span><span class="nf">n</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">i</span><span class="n">n</span><span class="n">d</span><span class="n">e</span><span class="n">x</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">a</span><span class="nf">d</span><span class="nf">v</span><span class="nf">a</span><span class="nf">n</span><span class="nf">c</span><span class="nf">e</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="n">s</span><span class="p">[</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">i</span><span class="n">n</span><span class="n">d</span><span class="n">e</span><span class="n">x</span><span class="p">]</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="se">\</span><span class="se">n</span><span class="s2">"</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">l</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">l</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">c</span><span class="n">o</span><span class="n">l</span><span class="n">u</span><span class="n">m</span><span class="n">n</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">l</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">l</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">c</span><span class="n">o</span><span class="n">l</span><span class="n">u</span><span class="n">m</span><span class="n">n</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">c</span><span class="n">o</span><span class="n">l</span><span class="n">u</span><span class="n">m</span><span class="n">n</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">_</span><span class="n">C</span><span class="n">h</span><span class="n">a</span><span class="n">r</span><span class="n">S</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="p">,</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">i</span><span class="n">n</span><span class="n">d</span><span class="n">e</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class=""> </span><span class="n">l</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class="p">,</span><span class=""> </span><span class="n">c</span><span class="n">o</span><span class="n">l</span><span class="n">u</span><span class="n">m</span><span class="n">n</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="fm">_</span><span class="fm">_</span><span class="fm">s</span><span class="fm">t</span><span class="fm">r</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="s2">"</span><span class="s2">L</span><span class="s2">{</span><span class="s2">:</span><span class="s2">0</span><span class="s2">3</span><span class="s2">d</span><span class="s2">}</span><span class="s2">:</span><span class="s2">C</span><span class="s2">{</span><span class="s2">:</span><span class="s2">0</span><span class="s2">3</span><span class="s2">d</span><span class="s2">}</span><span class="s2">"</span><span class="o">.</span><span class="n">f</span><span class="n">o</span><span class="n">r</span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">l</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class="p">,</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">c</span><span class="n">o</span><span class="n">l</span><span class="n">u</span><span class="n">m</span><span class="n">n</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">_</span><span class="nc">O</span><span class="nc">b</span><span class="nc">j</span><span class="nc">e</span><span class="nc">c</span><span class="nc">t</span><span class="nc">S</span><span class="nc">t</span><span class="nc">r</span><span class="nc">e</span><span class="nc">a</span><span class="nc">m</span><span class="p">(</span><span class="n">_</span><span class="n">S</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="p">,</span><span class=""> </span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="n">i</span><span class="n">n</span><span class="n">d</span><span class="n">e</span><span class="n">x</span><span class="p">,</span><span class=""> </span><span class="n">p</span><span class="n">a</span><span class="n">r</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="o">=</span><span class="p">(</span><span class="p">)</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">_</span><span class="n">S</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="o">.</span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="p">,</span><span class=""> </span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="n">i</span><span class="n">n</span><span class="n">d</span><span class="n">e</span><span class="n">x</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">p</span><span class="n">a</span><span class="n">r</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">i</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">p</span><span class="n">a</span><span class="n">r</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">i</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">p</span><span class="n">a</span><span class="n">r</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">i</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">i</span><span class="n">n</span><span class="n">d</span><span class="n">e</span><span class="n">x</span><span class="p">,</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">p</span><span class="nf">o</span><span class="nf">s</span><span class="nf">i</span><span class="nf">t</span><span class="nf">i</span><span class="nf">o</span><span class="nf">n</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">i</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">n</span><span class="nf">e</span><span class="nf">s</span><span class="nf">t</span><span class="nf">e</span><span class="nf">d</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">i</span><span class="n">n</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">_</span><span class="n">O</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="n">S</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="p">,</span><span class=""> </span><span class="n">i</span><span class="n">n</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="mi">0</span><span class="p">,</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">i</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">a</span><span class="nf">d</span><span class="nf">v</span><span class="nf">a</span><span class="nf">n</span><span class="nf">c</span><span class="nf">e</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">_</span><span class="n">O</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="n">S</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class="p">,</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">i</span><span class="n">n</span><span class="n">d</span><span class="n">e</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">p</span><span class="n">a</span><span class="n">r</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">i</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="fm">_</span><span class="fm">_</span><span class="fm">s</span><span class="fm">t</span><span class="fm">r</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="s2">"</span><span class="s2">[</span><span class="s2">{</span><span class="s2">}</span><span class="s2">]</span><span class="s2">"</span><span class="o">.</span><span class="n">f</span><span class="n">o</span><span class="n">r</span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="p">(</span><span class="s2">"</span><span class="s2">,</span><span class="s2"> </span><span class="s2">"</span><span class="o">.</span><span class="n">j</span><span class="n">o</span><span class="n">i</span><span class="n">n</span><span class="p">(</span><span class="nb">s</span><span class="nb">t</span><span class="nb">r</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class=""> </span><span class="k">f</span><span class="k">o</span><span class="k">r</span><span class=""> </span><span class="n">x</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">i</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">(</span><span class="p">)</span><span class="p">)</span><span class="p">)</span><span class="">
</span></pre></div>

</div>

<h3><a name="46ac5a5f243c4bd69cec58758e92eadd"></a>Support library (VM)</h3>

<p>The rest of the support library for the VM based version:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>vm</li><li>support.py</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">t</span><span class="k">r</span><span class="k">y</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="kn">f</span><span class="kn">r</span><span class="kn">o</span><span class="kn">m</span><span class=""> </span><span class="nn">c</span><span class="nn">S</span><span class="nn">t</span><span class="nn">r</span><span class="nn">i</span><span class="nn">n</span><span class="nn">g</span><span class="nn">I</span><span class="nn">O</span><span class=""> </span><span class="kn">i</span><span class="kn">m</span><span class="kn">p</span><span class="kn">o</span><span class="kn">r</span><span class="kn">t</span><span class=""> </span><span class="n">S</span><span class="n">t</span><span class="n">r</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class="n">I</span><span class="n">O</span><span class="">
</span><span class="k">e</span><span class="k">x</span><span class="k">c</span><span class="k">e</span><span class="k">p</span><span class="k">t</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="kn">f</span><span class="kn">r</span><span class="kn">o</span><span class="kn">m</span><span class=""> </span><span class="nn">S</span><span class="nn">t</span><span class="nn">r</span><span class="nn">i</span><span class="nn">n</span><span class="nn">g</span><span class="nn">I</span><span class="nn">O</span><span class=""> </span><span class="kn">i</span><span class="kn">m</span><span class="kn">p</span><span class="kn">o</span><span class="kn">r</span><span class="kn">t</span><span class=""> </span><span class="n">S</span><span class="n">t</span><span class="n">r</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class="n">I</span><span class="n">O</span><span class="">
</span><span class="">
</span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">r</span><span class="nf">l</span><span class="nf">m</span><span class="nf">e</span><span class="nf">t</span><span class="nf">a</span><span class="nf">_</span><span class="nf">v</span><span class="nf">m</span><span class="p">(</span><span class="n">i</span><span class="n">n</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">u</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">b</span><span class="n">e</span><span class="n">l</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">r</span><span class="n">t</span><span class="n">_</span><span class="n">r</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="p">,</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">b</span><span class="n">e</span><span class="n">l</span><span class="n">_</span><span class="n">c</span><span class="n">o</span><span class="n">u</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">r</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">s</span><span class="n">t</span><span class="n">_</span><span class="n">a</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_</span><span class="n">C</span><span class="n">o</span><span class="n">n</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">n</span><span class="n">t</span><span class="n">S</span><span class="n">e</span><span class="n">m</span><span class="n">a</span><span class="n">n</span><span class="n">t</span><span class="n">i</span><span class="n">c</span><span class="n">A</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">(</span><span class="bp">N</span><span class="bp">o</span><span class="bp">n</span><span class="bp">e</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">c</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">b</span><span class="n">e</span><span class="n">l</span><span class="n">s</span><span class="p">[</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">r</span><span class="n">t</span><span class="n">_</span><span class="n">r</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">c</span><span class="n">a</span><span class="n">l</span><span class="n">l</span><span class="n">_</span><span class="n">b</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">t</span><span class="n">r</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">[</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">,</span><span class=""> </span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">(</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">,</span><span class=""> </span><span class="mi">0</span><span class="p">,</span><span class=""> </span><span class="p">[</span><span class="p">]</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">c</span><span class="n">o</span><span class="n">p</span><span class="n">e</span><span class="p">,</span><span class=""> </span><span class="n">s</span><span class="n">c</span><span class="n">o</span><span class="n">p</span><span class="n">e</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">(</span><span class="bp">N</span><span class="bp">o</span><span class="bp">n</span><span class="bp">e</span><span class="p">,</span><span class=""> </span><span class="p">[</span><span class="p">]</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">N</span><span class="bp">o</span><span class="bp">n</span><span class="bp">e</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">t</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">_</span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class="p">,</span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">t</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">_</span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">(</span><span class="bp">N</span><span class="bp">o</span><span class="bp">n</span><span class="bp">e</span><span class="p">,</span><span class=""> </span><span class="nb">t</span><span class="nb">u</span><span class="nb">p</span><span class="nb">l</span><span class="nb">e</span><span class="p">(</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">o</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">{</span><span class="p">}</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">w</span><span class="k">h</span><span class="k">i</span><span class="k">l</span><span class="k">e</span><span class=""> </span><span class="bp">T</span><span class="bp">r</span><span class="bp">u</span><span class="bp">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">,</span><span class=""> </span><span class="n">a</span><span class="n">r</span><span class="n">g</span><span class="n">1</span><span class="p">,</span><span class=""> </span><span class="n">a</span><span class="n">r</span><span class="n">g</span><span class="n">2</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">i</span><span class="n">n</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">u</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="n">s</span><span class="p">[</span><span class="n">p</span><span class="n">c</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">P</span><span class="s2">U</span><span class="s2">S</span><span class="s2">H</span><span class="s2">_</span><span class="s2">S</span><span class="s2">C</span><span class="s2">O</span><span class="s2">P</span><span class="s2">E</span><span class="s2">"</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">c</span><span class="n">o</span><span class="n">p</span><span class="n">e</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="o">.</span><span class="n">a</span><span class="n">p</span><span class="n">p</span><span class="n">e</span><span class="n">n</span><span class="n">d</span><span class="p">(</span><span class="n">s</span><span class="n">c</span><span class="n">o</span><span class="n">p</span><span class="n">e</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">c</span><span class="n">o</span><span class="n">p</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">{</span><span class="p">}</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">c</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">c</span><span class="k">o</span><span class="k">n</span><span class="k">t</span><span class="k">i</span><span class="k">n</span><span class="k">u</span><span class="k">e</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">B</span><span class="s2">A</span><span class="s2">C</span><span class="s2">K</span><span class="s2">T</span><span class="s2">R</span><span class="s2">A</span><span class="s2">C</span><span class="s2">K</span><span class="s2">"</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">c</span><span class="n">a</span><span class="n">l</span><span class="n">l</span><span class="n">_</span><span class="n">b</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">t</span><span class="n">r</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="o">.</span><span class="n">a</span><span class="n">p</span><span class="n">p</span><span class="n">e</span><span class="n">n</span><span class="n">d</span><span class="p">(</span><span class="p">(</span><span class="n">l</span><span class="n">a</span><span class="n">b</span><span class="n">e</span><span class="n">l</span><span class="n">s</span><span class="p">[</span><span class="n">a</span><span class="n">r</span><span class="n">g</span><span class="n">1</span><span class="p">]</span><span class="p">,</span><span class=""> </span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="nb">l</span><span class="nb">e</span><span class="nb">n</span><span class="p">(</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="p">)</span><span class="p">,</span><span class=""> </span><span class="nb">l</span><span class="nb">e</span><span class="nb">n</span><span class="p">(</span><span class="n">s</span><span class="n">c</span><span class="n">o</span><span class="n">p</span><span class="n">e</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="p">)</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">c</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">c</span><span class="k">o</span><span class="k">n</span><span class="k">t</span><span class="k">i</span><span class="k">n</span><span class="k">u</span><span class="k">e</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">C</span><span class="s2">A</span><span class="s2">L</span><span class="s2">L</span><span class="s2">"</span><span class="p">:</span><span class="">
</span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp">&lt;</span><span class="cp">&lt;</span><span class="cp">C</span><span class="cp">A</span><span class="cp">L</span><span class="cp">L</span><span class="cp">&gt;</span><span class="cp">&gt;</span><span class="cp">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">M</span><span class="s2">A</span><span class="s2">T</span><span class="s2">C</span><span class="s2">H</span><span class="s2">_</span><span class="s2">C</span><span class="s2">H</span><span class="s2">A</span><span class="s2">R</span><span class="s2">S</span><span class="s2">E</span><span class="s2">Q</span><span class="s2">"</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">f</span><span class="k">o</span><span class="k">r</span><span class=""> </span><span class="n">c</span><span class="n">h</span><span class="n">a</span><span class="n">r</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="n">a</span><span class="n">r</span><span class="n">g</span><span class="n">1</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class=""> </span><span class="o">&gt;</span><span class="o">=</span><span class=""> </span><span class="nb">l</span><span class="nb">e</span><span class="nb">n</span><span class="p">(</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">)</span><span class=""> </span><span class="ow">o</span><span class="ow">r</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">[</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="p">]</span><span class=""> </span><span class="o">!</span><span class="o">=</span><span class=""> </span><span class="n">c</span><span class="n">h</span><span class="n">a</span><span class="n">r</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">(</span><span class="s2">"</span><span class="s2">e</span><span class="s2">x</span><span class="s2">p</span><span class="s2">e</span><span class="s2">c</span><span class="s2">t</span><span class="s2">e</span><span class="s2">d</span><span class="s2"> </span><span class="s2">{</span><span class="s2">!</span><span class="s2">r</span><span class="s2">}</span><span class="s2">"</span><span class="p">,</span><span class=""> </span><span class="n">c</span><span class="n">h</span><span class="n">a</span><span class="n">r</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">b</span><span class="k">r</span><span class="k">e</span><span class="k">a</span><span class="k">k</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">s</span><span class="n">t</span><span class="n">_</span><span class="n">a</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_</span><span class="n">C</span><span class="n">o</span><span class="n">n</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">n</span><span class="n">t</span><span class="n">S</span><span class="n">e</span><span class="n">m</span><span class="n">a</span><span class="n">n</span><span class="n">t</span><span class="n">i</span><span class="n">c</span><span class="n">A</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">(</span><span class="n">a</span><span class="n">r</span><span class="n">g</span><span class="n">1</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">c</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">c</span><span class="k">o</span><span class="k">n</span><span class="k">t</span><span class="k">i</span><span class="k">n</span><span class="k">u</span><span class="k">e</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">C</span><span class="s2">O</span><span class="s2">M</span><span class="s2">M</span><span class="s2">I</span><span class="s2">T</span><span class="s2">"</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">c</span><span class="n">a</span><span class="n">l</span><span class="n">l</span><span class="n">_</span><span class="n">b</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">t</span><span class="n">r</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="o">.</span><span class="n">p</span><span class="n">o</span><span class="n">p</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">c</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">b</span><span class="n">e</span><span class="n">l</span><span class="n">s</span><span class="p">[</span><span class="n">a</span><span class="n">r</span><span class="n">g</span><span class="n">1</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">c</span><span class="k">o</span><span class="k">n</span><span class="k">t</span><span class="k">i</span><span class="k">n</span><span class="k">u</span><span class="k">e</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">P</span><span class="s2">O</span><span class="s2">P</span><span class="s2">_</span><span class="s2">S</span><span class="s2">C</span><span class="s2">O</span><span class="s2">P</span><span class="s2">E</span><span class="s2">"</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">c</span><span class="n">o</span><span class="n">p</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">s</span><span class="n">c</span><span class="n">o</span><span class="n">p</span><span class="n">e</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="o">.</span><span class="n">p</span><span class="n">o</span><span class="n">p</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">c</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">c</span><span class="k">o</span><span class="k">n</span><span class="k">t</span><span class="k">i</span><span class="k">n</span><span class="k">u</span><span class="k">e</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">R</span><span class="s2">E</span><span class="s2">T</span><span class="s2">U</span><span class="s2">R</span><span class="s2">N</span><span class="s2">"</span><span class="p">:</span><span class="">
</span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp">&lt;</span><span class="cp">&lt;</span><span class="cp">R</span><span class="cp">E</span><span class="cp">T</span><span class="cp">U</span><span class="cp">R</span><span class="cp">N</span><span class="cp">&gt;</span><span class="cp">&gt;</span><span class="cp">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">L</span><span class="s2">I</span><span class="s2">S</span><span class="s2">T</span><span class="s2">_</span><span class="s2">A</span><span class="s2">P</span><span class="s2">P</span><span class="s2">E</span><span class="s2">N</span><span class="s2">D</span><span class="s2">"</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">c</span><span class="n">o</span><span class="n">p</span><span class="n">e</span><span class="o">.</span><span class="n">a</span><span class="n">p</span><span class="n">p</span><span class="n">e</span><span class="n">n</span><span class="n">d</span><span class="p">(</span><span class="n">l</span><span class="n">a</span><span class="n">s</span><span class="n">t</span><span class="n">_</span><span class="n">a</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">c</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">c</span><span class="k">o</span><span class="k">n</span><span class="k">t</span><span class="k">i</span><span class="k">n</span><span class="k">u</span><span class="k">e</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">B</span><span class="s2">I</span><span class="s2">N</span><span class="s2">D</span><span class="s2">"</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">c</span><span class="n">o</span><span class="n">p</span><span class="n">e</span><span class="p">[</span><span class="n">a</span><span class="n">r</span><span class="n">g</span><span class="n">1</span><span class="p">]</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">s</span><span class="n">t</span><span class="n">_</span><span class="n">a</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">c</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">c</span><span class="k">o</span><span class="k">n</span><span class="k">t</span><span class="k">i</span><span class="k">n</span><span class="k">u</span><span class="k">e</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">A</span><span class="s2">C</span><span class="s2">T</span><span class="s2">I</span><span class="s2">O</span><span class="s2">N</span><span class="s2">"</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">s</span><span class="n">t</span><span class="n">_</span><span class="n">a</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_</span><span class="n">U</span><span class="n">s</span><span class="n">e</span><span class="n">r</span><span class="n">S</span><span class="n">e</span><span class="n">m</span><span class="n">a</span><span class="n">n</span><span class="n">t</span><span class="n">i</span><span class="n">c</span><span class="n">A</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">(</span><span class="n">a</span><span class="n">r</span><span class="n">g</span><span class="n">1</span><span class="p">,</span><span class=""> </span><span class="n">s</span><span class="n">c</span><span class="n">o</span><span class="n">p</span><span class="n">e</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">c</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">c</span><span class="k">o</span><span class="k">n</span><span class="k">t</span><span class="k">i</span><span class="k">n</span><span class="k">u</span><span class="k">e</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">M</span><span class="s2">A</span><span class="s2">T</span><span class="s2">C</span><span class="s2">H</span><span class="s2">_</span><span class="s2">R</span><span class="s2">A</span><span class="s2">N</span><span class="s2">G</span><span class="s2">E</span><span class="s2">"</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class=""> </span><span class="o">&gt;</span><span class="o">=</span><span class=""> </span><span class="nb">l</span><span class="nb">e</span><span class="nb">n</span><span class="p">(</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">)</span><span class=""> </span><span class="ow">o</span><span class="ow">r</span><span class=""> </span><span class="ow">n</span><span class="ow">o</span><span class="ow">t</span><span class=""> </span><span class="p">(</span><span class="n">a</span><span class="n">r</span><span class="n">g</span><span class="n">1</span><span class=""> </span><span class="o">&lt;</span><span class="o">=</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">[</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="p">]</span><span class=""> </span><span class="o">&lt;</span><span class="o">=</span><span class=""> </span><span class="n">a</span><span class="n">r</span><span class="n">g</span><span class="n">2</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">(</span><span class="s2">"</span><span class="s2">e</span><span class="s2">x</span><span class="s2">p</span><span class="s2">e</span><span class="s2">c</span><span class="s2">t</span><span class="s2">e</span><span class="s2">d</span><span class="s2"> </span><span class="s2">r</span><span class="s2">a</span><span class="s2">n</span><span class="s2">g</span><span class="s2">e</span><span class="s2"> </span><span class="s2">{</span><span class="s2">!</span><span class="s2">r</span><span class="s2">}</span><span class="s2">-</span><span class="s2">{</span><span class="s2">!</span><span class="s2">r</span><span class="s2">}</span><span class="s2">"</span><span class="p">,</span><span class=""> </span><span class="n">a</span><span class="n">r</span><span class="n">g</span><span class="n">1</span><span class="p">,</span><span class=""> </span><span class="n">a</span><span class="n">r</span><span class="n">g</span><span class="n">2</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">s</span><span class="n">t</span><span class="n">_</span><span class="n">a</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_</span><span class="n">C</span><span class="n">o</span><span class="n">n</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">n</span><span class="n">t</span><span class="n">S</span><span class="n">e</span><span class="n">m</span><span class="n">a</span><span class="n">n</span><span class="n">t</span><span class="n">i</span><span class="n">c</span><span class="n">A</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">(</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">[</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="p">]</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">c</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">c</span><span class="k">o</span><span class="k">n</span><span class="k">t</span><span class="k">i</span><span class="k">n</span><span class="k">u</span><span class="k">e</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">L</span><span class="s2">I</span><span class="s2">S</span><span class="s2">T</span><span class="s2">_</span><span class="s2">S</span><span class="s2">T</span><span class="s2">A</span><span class="s2">R</span><span class="s2">T</span><span class="s2">"</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">c</span><span class="n">o</span><span class="n">p</span><span class="n">e</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="o">.</span><span class="n">a</span><span class="n">p</span><span class="n">p</span><span class="n">e</span><span class="n">n</span><span class="n">d</span><span class="p">(</span><span class="n">s</span><span class="n">c</span><span class="n">o</span><span class="n">p</span><span class="n">e</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">c</span><span class="n">o</span><span class="n">p</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">[</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">c</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">c</span><span class="k">o</span><span class="k">n</span><span class="k">t</span><span class="k">i</span><span class="k">n</span><span class="k">u</span><span class="k">e</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">L</span><span class="s2">I</span><span class="s2">S</span><span class="s2">T</span><span class="s2">_</span><span class="s2">E</span><span class="s2">N</span><span class="s2">D</span><span class="s2">"</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">s</span><span class="n">t</span><span class="n">_</span><span class="n">a</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_</span><span class="n">U</span><span class="n">s</span><span class="n">e</span><span class="n">r</span><span class="n">S</span><span class="n">e</span><span class="n">m</span><span class="n">a</span><span class="n">n</span><span class="n">t</span><span class="n">i</span><span class="n">c</span><span class="n">A</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">(</span><span class="k">l</span><span class="k">a</span><span class="k">m</span><span class="k">b</span><span class="k">d</span><span class="k">a</span><span class=""> </span><span class="n">x</span><span class="n">s</span><span class="p">:</span><span class=""> </span><span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">e</span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="p">(</span><span class="p">)</span><span class=""> </span><span class="k">f</span><span class="k">o</span><span class="k">r</span><span class=""> </span><span class="n">x</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="n">x</span><span class="n">s</span><span class="p">]</span><span class="p">,</span><span class=""> </span><span class="n">s</span><span class="n">c</span><span class="n">o</span><span class="n">p</span><span class="n">e</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">c</span><span class="n">o</span><span class="n">p</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">s</span><span class="n">c</span><span class="n">o</span><span class="n">p</span><span class="n">e</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="o">.</span><span class="n">p</span><span class="n">o</span><span class="n">p</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">c</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">c</span><span class="k">o</span><span class="k">n</span><span class="k">t</span><span class="k">i</span><span class="k">n</span><span class="k">u</span><span class="k">e</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">M</span><span class="s2">A</span><span class="s2">T</span><span class="s2">C</span><span class="s2">H</span><span class="s2">_</span><span class="s2">A</span><span class="s2">N</span><span class="s2">Y</span><span class="s2">"</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class=""> </span><span class="o">&gt;</span><span class="o">=</span><span class=""> </span><span class="nb">l</span><span class="nb">e</span><span class="nb">n</span><span class="p">(</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">(</span><span class="s2">"</span><span class="s2">e</span><span class="s2">x</span><span class="s2">p</span><span class="s2">e</span><span class="s2">c</span><span class="s2">t</span><span class="s2">e</span><span class="s2">d</span><span class="s2"> </span><span class="s2">a</span><span class="s2">n</span><span class="s2">y</span><span class="s2">"</span><span class="p">,</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">s</span><span class="n">t</span><span class="n">_</span><span class="n">a</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_</span><span class="n">C</span><span class="n">o</span><span class="n">n</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">n</span><span class="n">t</span><span class="n">S</span><span class="n">e</span><span class="n">m</span><span class="n">a</span><span class="n">n</span><span class="n">t</span><span class="n">i</span><span class="n">c</span><span class="n">A</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">(</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">[</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="p">]</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">c</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">c</span><span class="k">o</span><span class="k">n</span><span class="k">t</span><span class="k">i</span><span class="k">n</span><span class="k">u</span><span class="k">e</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">P</span><span class="s2">U</span><span class="s2">S</span><span class="s2">H</span><span class="s2">_</span><span class="s2">S</span><span class="s2">T</span><span class="s2">R</span><span class="s2">E</span><span class="s2">A</span><span class="s2">M</span><span class="s2">"</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class=""> </span><span class="o">&gt;</span><span class="o">=</span><span class=""> </span><span class="nb">l</span><span class="nb">e</span><span class="nb">n</span><span class="p">(</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">)</span><span class=""> </span><span class="ow">o</span><span class="ow">r</span><span class=""> </span><span class="ow">n</span><span class="ow">o</span><span class="ow">t</span><span class=""> </span><span class="nb">i</span><span class="nb">s</span><span class="nb">i</span><span class="nb">n</span><span class="nb">s</span><span class="nb">t</span><span class="nb">a</span><span class="nb">n</span><span class="nb">c</span><span class="nb">e</span><span class="p">(</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">[</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="p">]</span><span class="p">,</span><span class=""> </span><span class="nb">l</span><span class="nb">i</span><span class="nb">s</span><span class="nb">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">(</span><span class="s2">"</span><span class="s2">e</span><span class="s2">x</span><span class="s2">p</span><span class="s2">e</span><span class="s2">c</span><span class="s2">t</span><span class="s2">e</span><span class="s2">d</span><span class="s2"> </span><span class="s2">l</span><span class="s2">i</span><span class="s2">s</span><span class="s2">t</span><span class="s2">"</span><span class="p">,</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="o">.</span><span class="n">a</span><span class="n">p</span><span class="n">p</span><span class="n">e</span><span class="n">n</span><span class="n">d</span><span class="p">(</span><span class="p">(</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">,</span><span class=""> </span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">[</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">c</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">c</span><span class="k">o</span><span class="k">n</span><span class="k">t</span><span class="k">i</span><span class="k">n</span><span class="k">u</span><span class="k">e</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">P</span><span class="s2">O</span><span class="s2">P</span><span class="s2">_</span><span class="s2">S</span><span class="s2">T</span><span class="s2">R</span><span class="s2">E</span><span class="s2">A</span><span class="s2">M</span><span class="s2">"</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class=""> </span><span class="o">&lt;</span><span class=""> </span><span class="nb">l</span><span class="nb">e</span><span class="nb">n</span><span class="p">(</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">(</span><span class="s2">"</span><span class="s2">e</span><span class="s2">x</span><span class="s2">p</span><span class="s2">e</span><span class="s2">c</span><span class="s2">t</span><span class="s2">e</span><span class="s2">d</span><span class="s2"> </span><span class="s2">e</span><span class="s2">n</span><span class="s2">d</span><span class="s2"> </span><span class="s2">o</span><span class="s2">f</span><span class="s2"> </span><span class="s2">l</span><span class="s2">i</span><span class="s2">s</span><span class="s2">t</span><span class="s2">"</span><span class="p">,</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">,</span><span class=""> </span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="o">.</span><span class="n">p</span><span class="n">o</span><span class="n">p</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">c</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">c</span><span class="k">o</span><span class="k">n</span><span class="k">t</span><span class="k">i</span><span class="k">n</span><span class="k">u</span><span class="k">e</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">M</span><span class="s2">A</span><span class="s2">T</span><span class="s2">C</span><span class="s2">H</span><span class="s2">_</span><span class="s2">C</span><span class="s2">A</span><span class="s2">L</span><span class="s2">L</span><span class="s2">_</span><span class="s2">R</span><span class="s2">U</span><span class="s2">L</span><span class="s2">E</span><span class="s2">"</span><span class="p">:</span><span class="">
</span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp">&lt;</span><span class="cp">&lt;</span><span class="cp">M</span><span class="cp">A</span><span class="cp">T</span><span class="cp">C</span><span class="cp">H</span><span class="cp">_</span><span class="cp">C</span><span class="cp">A</span><span class="cp">L</span><span class="cp">L</span><span class="cp">_</span><span class="cp">R</span><span class="cp">U</span><span class="cp">L</span><span class="cp">E</span><span class="cp">&gt;</span><span class="cp">&gt;</span><span class="cp">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">F</span><span class="s2">A</span><span class="s2">I</span><span class="s2">L</span><span class="s2">"</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">(</span><span class="n">a</span><span class="n">r</span><span class="n">g</span><span class="n">1</span><span class="p">,</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">L</span><span class="s2">A</span><span class="s2">B</span><span class="s2">E</span><span class="s2">L</span><span class="s2">"</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">s</span><span class="n">t</span><span class="n">_</span><span class="n">a</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_</span><span class="n">C</span><span class="n">o</span><span class="n">n</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">n</span><span class="n">t</span><span class="n">S</span><span class="n">e</span><span class="n">m</span><span class="n">a</span><span class="n">n</span><span class="n">t</span><span class="n">i</span><span class="n">c</span><span class="n">A</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">(</span><span class="n">l</span><span class="n">a</span><span class="n">b</span><span class="n">e</span><span class="n">l</span><span class="n">_</span><span class="n">c</span><span class="n">o</span><span class="n">u</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">r</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">b</span><span class="n">e</span><span class="n">l</span><span class="n">_</span><span class="n">c</span><span class="n">o</span><span class="n">u</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">r</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">c</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">c</span><span class="k">o</span><span class="k">n</span><span class="k">t</span><span class="k">i</span><span class="k">n</span><span class="k">u</span><span class="k">e</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">M</span><span class="s2">A</span><span class="s2">T</span><span class="s2">C</span><span class="s2">H</span><span class="s2">_</span><span class="s2">S</span><span class="s2">T</span><span class="s2">R</span><span class="s2">I</span><span class="s2">N</span><span class="s2">G</span><span class="s2">"</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class=""> </span><span class="o">&gt;</span><span class="o">=</span><span class=""> </span><span class="nb">l</span><span class="nb">e</span><span class="nb">n</span><span class="p">(</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">)</span><span class=""> </span><span class="ow">o</span><span class="ow">r</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">[</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="p">]</span><span class=""> </span><span class="o">!</span><span class="o">=</span><span class=""> </span><span class="n">a</span><span class="n">r</span><span class="n">g</span><span class="n">1</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">(</span><span class="s2">"</span><span class="s2">e</span><span class="s2">x</span><span class="s2">p</span><span class="s2">e</span><span class="s2">c</span><span class="s2">t</span><span class="s2">e</span><span class="s2">d</span><span class="s2"> </span><span class="s2">{</span><span class="s2">!</span><span class="s2">r</span><span class="s2">}</span><span class="s2">"</span><span class="p">,</span><span class=""> </span><span class="n">a</span><span class="n">r</span><span class="n">g</span><span class="n">1</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">s</span><span class="n">t</span><span class="n">_</span><span class="n">a</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_</span><span class="n">C</span><span class="n">o</span><span class="n">n</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">n</span><span class="n">t</span><span class="n">S</span><span class="n">e</span><span class="n">m</span><span class="n">a</span><span class="n">n</span><span class="n">t</span><span class="n">i</span><span class="n">c</span><span class="n">A</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">(</span><span class="n">a</span><span class="n">r</span><span class="n">g</span><span class="n">1</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">c</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">c</span><span class="k">o</span><span class="k">n</span><span class="k">t</span><span class="k">i</span><span class="k">n</span><span class="k">u</span><span class="k">e</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">a</span><span class="k">i</span><span class="k">s</span><span class="k">e</span><span class=""> </span><span class="ne">E</span><span class="ne">x</span><span class="ne">c</span><span class="ne">e</span><span class="ne">p</span><span class="ne">t</span><span class="ne">i</span><span class="ne">o</span><span class="ne">n</span><span class="p">(</span><span class="s2">"</span><span class="s2">u</span><span class="s2">n</span><span class="s2">k</span><span class="s2">n</span><span class="s2">o</span><span class="s2">w</span><span class="s2">n</span><span class="s2"> </span><span class="s2">i</span><span class="s2">n</span><span class="s2">s</span><span class="s2">t</span><span class="s2">r</span><span class="s2">u</span><span class="s2">c</span><span class="s2">t</span><span class="s2">i</span><span class="s2">o</span><span class="s2">n</span><span class="s2"> </span><span class="s2">{</span><span class="s2">}</span><span class="s2">"</span><span class="o">.</span><span class="n">f</span><span class="n">o</span><span class="n">r</span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="p">(</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="nb">t</span><span class="nb">u</span><span class="nb">p</span><span class="nb">l</span><span class="nb">e</span><span class="p">(</span><span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class=""> </span><span class="k">f</span><span class="k">o</span><span class="k">r</span><span class=""> </span><span class="n">x</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="p">]</span><span class="o">+</span><span class="p">[</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="p">]</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class=""> </span><span class="o">&gt;</span><span class="o">=</span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">t</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">_</span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">t</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">_</span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">l</span><span class="n">a</span><span class="n">t</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">_</span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="">
</span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp">&lt;</span><span class="cp">&lt;</span><span class="cp">p</span><span class="cp">o</span><span class="cp">p</span><span class="cp"> </span><span class="cp">b</span><span class="cp">a</span><span class="cp">c</span><span class="cp">k</span><span class="cp">t</span><span class="cp">r</span><span class="cp">a</span><span class="cp">c</span><span class="cp">k</span><span class="cp"> </span><span class="cp">e</span><span class="cp">n</span><span class="cp">t</span><span class="cp">r</span><span class="cp">y</span><span class="cp">&gt;</span><span class="cp">&gt;</span><span class="cp">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="nb">l</span><span class="nb">e</span><span class="nb">n</span><span class="p">(</span><span class="n">c</span><span class="n">a</span><span class="n">l</span><span class="n">l</span><span class="n">_</span><span class="n">b</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">t</span><span class="n">r</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">_</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="n">r</span><span class="n">y</span><span class="p">)</span><span class=""> </span><span class="o">!</span><span class="o">=</span><span class=""> </span><span class="mi">4</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="nb">l</span><span class="nb">i</span><span class="nb">s</span><span class="nb">t</span><span class="p">(</span><span class="n">l</span><span class="n">a</span><span class="n">t</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">_</span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">w</span><span class="k">h</span><span class="k">i</span><span class="k">l</span><span class="k">e</span><span class=""> </span><span class="nb">l</span><span class="nb">e</span><span class="nb">n</span><span class="p">(</span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="p">)</span><span class=""> </span><span class="o">&gt;</span><span class=""> </span><span class="mi">1</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">[</span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="o">.</span><span class="n">p</span><span class="n">o</span><span class="n">p</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">a</span><span class="k">i</span><span class="k">s</span><span class="k">e</span><span class=""> </span><span class="n">_</span><span class="n">M</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">E</span><span class="n">r</span><span class="n">r</span><span class="n">o</span><span class="n">r</span><span class="p">(</span><span class="n">l</span><span class="n">a</span><span class="n">t</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">_</span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class="p">,</span><span class=""> </span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="p">,</span><span class=""> </span><span class="n">f</span><span class="n">a</span><span class="n">i</span><span class="n">l</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="p">(</span><span class="n">p</span><span class="n">c</span><span class="p">,</span><span class=""> </span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">_</span><span class="n">l</span><span class="n">e</span><span class="n">n</span><span class="p">,</span><span class=""> </span><span class="n">s</span><span class="n">c</span><span class="n">o</span><span class="n">p</span><span class="n">e</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">_</span><span class="n">l</span><span class="n">e</span><span class="n">n</span><span class="p">)</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">c</span><span class="n">a</span><span class="n">l</span><span class="n">l</span><span class="n">_</span><span class="n">b</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">t</span><span class="n">r</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">_</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="n">r</span><span class="n">y</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="nb">l</span><span class="nb">e</span><span class="nb">n</span><span class="p">(</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="p">)</span><span class=""> </span><span class="o">&gt;</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">_</span><span class="n">l</span><span class="n">e</span><span class="n">n</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="p">[</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">_</span><span class="n">l</span><span class="n">e</span><span class="n">n</span><span class="p">]</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="n">_</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="p">[</span><span class="p">:</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">_</span><span class="n">l</span><span class="n">e</span><span class="n">n</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="nb">l</span><span class="nb">e</span><span class="nb">n</span><span class="p">(</span><span class="n">s</span><span class="n">c</span><span class="n">o</span><span class="n">p</span><span class="n">e</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="p">)</span><span class=""> </span><span class="o">&gt;</span><span class=""> </span><span class="n">s</span><span class="n">c</span><span class="n">o</span><span class="n">p</span><span class="n">e</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">_</span><span class="n">l</span><span class="n">e</span><span class="n">n</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">c</span><span class="n">o</span><span class="n">p</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">s</span><span class="n">c</span><span class="n">o</span><span class="n">p</span><span class="n">e</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="p">[</span><span class="n">s</span><span class="n">c</span><span class="n">o</span><span class="n">p</span><span class="n">e</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">_</span><span class="n">l</span><span class="n">e</span><span class="n">n</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">c</span><span class="n">o</span><span class="n">p</span><span class="n">e</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">s</span><span class="n">c</span><span class="n">o</span><span class="n">p</span><span class="n">e</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="p">[</span><span class="p">:</span><span class="n">s</span><span class="n">c</span><span class="n">o</span><span class="n">p</span><span class="n">e</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="n">_</span><span class="n">l</span><span class="n">e</span><span class="n">n</span><span class="p">]</span><span class="">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">_</span><span class="nc">G</span><span class="nc">r</span><span class="nc">a</span><span class="nc">m</span><span class="nc">m</span><span class="nc">a</span><span class="nc">r</span><span class="p">(</span><span class="nb">o</span><span class="nb">b</span><span class="nb">j</span><span class="nb">e</span><span class="nb">c</span><span class="nb">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">r</span><span class="nf">u</span><span class="nf">n</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="n">_</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">,</span><span class=""> </span><span class="n">i</span><span class="n">n</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="nb">i</span><span class="nb">s</span><span class="nb">i</span><span class="nb">n</span><span class="nb">s</span><span class="nb">t</span><span class="nb">a</span><span class="nb">n</span><span class="nb">c</span><span class="nb">e</span><span class="p">(</span><span class="n">i</span><span class="n">n</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="nb">b</span><span class="nb">a</span><span class="nb">s</span><span class="nb">e</span><span class="nb">s</span><span class="nb">t</span><span class="nb">r</span><span class="nb">i</span><span class="nb">n</span><span class="nb">g</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">i</span><span class="n">n</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">[</span><span class="n">i</span><span class="n">n</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="n">_</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">r</span><span class="n">e</span><span class="n">s</span><span class="n">u</span><span class="n">l</span><span class="n">t</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">r</span><span class="n">l</span><span class="n">m</span><span class="n">e</span><span class="n">t</span><span class="n">a</span><span class="n">_</span><span class="n">v</span><span class="n">m</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">i</span><span class="n">n</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">u</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">l</span><span class="n">a</span><span class="n">b</span><span class="n">e</span><span class="n">l</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="n">_</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">,</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="nb">i</span><span class="nb">s</span><span class="nb">i</span><span class="nb">n</span><span class="nb">s</span><span class="nb">t</span><span class="nb">a</span><span class="nb">n</span><span class="nb">c</span><span class="nb">e</span><span class="p">(</span><span class="n">r</span><span class="n">e</span><span class="n">s</span><span class="n">u</span><span class="n">l</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">_</span><span class="n">B</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">r</span><span class="n">e</span><span class="n">s</span><span class="n">u</span><span class="n">l</span><span class="n">t</span><span class="o">.</span><span class="n">b</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">_</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">r</span><span class="n">e</span><span class="n">s</span><span class="n">u</span><span class="n">l</span><span class="n">t</span><span class="">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">_</span><span class="nc">B</span><span class="nc">u</span><span class="nc">i</span><span class="nc">l</span><span class="nc">d</span><span class="nc">e</span><span class="nc">r</span><span class="p">(</span><span class="nb">o</span><span class="nb">b</span><span class="nb">j</span><span class="nb">e</span><span class="nb">c</span><span class="nb">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">b</span><span class="nf">u</span><span class="nf">i</span><span class="nf">l</span><span class="nf">d</span><span class="nf">_</span><span class="nf">s</span><span class="nf">t</span><span class="nf">r</span><span class="nf">i</span><span class="nf">n</span><span class="nf">g</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">_</span><span class="n">O</span><span class="n">u</span><span class="n">t</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">w</span><span class="n">r</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="p">(</span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="o">.</span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nd">@</span><span class="nd">c</span><span class="nd">l</span><span class="nd">a</span><span class="nd">s</span><span class="nd">s</span><span class="nd">m</span><span class="nd">e</span><span class="nd">t</span><span class="nd">h</span><span class="nd">o</span><span class="nd">d</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">c</span><span class="nf">r</span><span class="nf">e</span><span class="nf">a</span><span class="nf">t</span><span class="nf">e</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="nb">i</span><span class="nb">s</span><span class="nb">i</span><span class="nb">n</span><span class="nb">s</span><span class="nb">t</span><span class="nb">a</span><span class="nb">n</span><span class="nb">c</span><span class="nb">e</span><span class="p">(</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="p">,</span><span class=""> </span><span class="n">_</span><span class="n">B</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="nb">i</span><span class="nb">s</span><span class="nb">i</span><span class="nb">n</span><span class="nb">s</span><span class="nb">t</span><span class="nb">a</span><span class="nb">n</span><span class="nb">c</span><span class="nb">e</span><span class="p">(</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="p">,</span><span class=""> </span><span class="nb">l</span><span class="nb">i</span><span class="nb">s</span><span class="nb">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">_</span><span class="n">L</span><span class="n">i</span><span class="n">s</span><span class="n">t</span><span class="n">B</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="p">(</span><span class="p">[</span><span class="n">_</span><span class="n">B</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="o">.</span><span class="n">c</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">t</span><span class="n">e</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class=""> </span><span class="k">f</span><span class="k">o</span><span class="k">r</span><span class=""> </span><span class="n">x</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="p">]</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">_</span><span class="n">A</span><span class="n">t</span><span class="n">o</span><span class="n">m</span><span class="n">B</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="p">(</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">_</span><span class="nc">O</span><span class="nc">u</span><span class="nc">t</span><span class="nc">p</span><span class="nc">u</span><span class="nc">t</span><span class="p">(</span><span class="nb">o</span><span class="nb">b</span><span class="nb">j</span><span class="nb">e</span><span class="nb">c</span><span class="nb">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">b</span><span class="n">u</span><span class="n">f</span><span class="n">f</span><span class="n">e</span><span class="n">r</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">S</span><span class="n">t</span><span class="n">r</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class="n">I</span><span class="n">O</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">i</span><span class="n">n</span><span class="n">d</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="n">a</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">0</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">o</span><span class="n">n</span><span class="n">_</span><span class="n">n</span><span class="n">e</span><span class="n">w</span><span class="n">l</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">T</span><span class="bp">r</span><span class="bp">u</span><span class="bp">e</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nd">@</span><span class="nd">p</span><span class="nd">r</span><span class="nd">o</span><span class="nd">p</span><span class="nd">e</span><span class="nd">r</span><span class="nd">t</span><span class="nd">y</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">v</span><span class="nf">a</span><span class="nf">l</span><span class="nf">u</span><span class="nf">e</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">b</span><span class="n">u</span><span class="n">f</span><span class="n">f</span><span class="n">e</span><span class="n">r</span><span class="o">.</span><span class="n">g</span><span class="n">e</span><span class="n">t</span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">w</span><span class="nf">r</span><span class="nf">i</span><span class="nf">t</span><span class="nf">e</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">f</span><span class="k">o</span><span class="k">r</span><span class=""> </span><span class="n">c</span><span class="n">h</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">i</span><span class="n">s</span><span class="n">_</span><span class="n">l</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class="n">b</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">k</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">c</span><span class="n">h</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="se">\</span><span class="se">n</span><span class="s2">"</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">i</span><span class="n">n</span><span class="n">d</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="n">a</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class=""> </span><span class="ow">a</span><span class="ow">n</span><span class="ow">d</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">o</span><span class="n">n</span><span class="n">_</span><span class="n">n</span><span class="n">e</span><span class="n">w</span><span class="n">l</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class=""> </span><span class="ow">a</span><span class="ow">n</span><span class="ow">d</span><span class=""> </span><span class="ow">n</span><span class="ow">o</span><span class="ow">t</span><span class=""> </span><span class="n">i</span><span class="n">s</span><span class="n">_</span><span class="n">l</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class="n">b</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">k</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">b</span><span class="n">u</span><span class="n">f</span><span class="n">f</span><span class="n">e</span><span class="n">r</span><span class="o">.</span><span class="n">w</span><span class="n">r</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="p">(</span><span class="s2">"</span><span class="s2"> </span><span class="s2"> </span><span class="s2"> </span><span class="s2"> </span><span class="s2">"</span><span class="o">*</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">i</span><span class="n">n</span><span class="n">d</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="n">a</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">b</span><span class="n">u</span><span class="n">f</span><span class="n">f</span><span class="n">e</span><span class="n">r</span><span class="o">.</span><span class="n">w</span><span class="n">r</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="p">(</span><span class="n">c</span><span class="n">h</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">o</span><span class="n">n</span><span class="n">_</span><span class="n">n</span><span class="n">e</span><span class="n">w</span><span class="n">l</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">i</span><span class="n">s</span><span class="n">_</span><span class="n">l</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class="n">b</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">k</span><span class="">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">_</span><span class="nc">L</span><span class="nc">i</span><span class="nc">s</span><span class="nc">t</span><span class="nc">B</span><span class="nc">u</span><span class="nc">i</span><span class="nc">l</span><span class="nc">d</span><span class="nc">e</span><span class="nc">r</span><span class="p">(</span><span class="n">_</span><span class="n">B</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">b</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="n">s</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">b</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="n">s</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">b</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="n">s</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">w</span><span class="nf">r</span><span class="nf">i</span><span class="nf">t</span><span class="nf">e</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">f</span><span class="k">o</span><span class="k">r</span><span class=""> </span><span class="n">b</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">b</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="n">s</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">b</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="o">.</span><span class="n">w</span><span class="n">r</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="p">(</span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">_</span><span class="nc">A</span><span class="nc">t</span><span class="nc">o</span><span class="nc">m</span><span class="nc">B</span><span class="nc">u</span><span class="nc">i</span><span class="nc">l</span><span class="nc">d</span><span class="nc">e</span><span class="nc">r</span><span class="p">(</span><span class="n">_</span><span class="n">B</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">a</span><span class="n">t</span><span class="n">o</span><span class="n">m</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">a</span><span class="n">t</span><span class="n">o</span><span class="n">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">a</span><span class="n">t</span><span class="n">o</span><span class="n">m</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">w</span><span class="nf">r</span><span class="nf">i</span><span class="nf">t</span><span class="nf">e</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="o">.</span><span class="n">w</span><span class="n">r</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="p">(</span><span class="nb">s</span><span class="nb">t</span><span class="nb">r</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">a</span><span class="n">t</span><span class="n">o</span><span class="n">m</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">_</span><span class="nc">I</span><span class="nc">n</span><span class="nc">d</span><span class="nc">e</span><span class="nc">n</span><span class="nc">t</span><span class="nc">B</span><span class="nc">u</span><span class="nc">i</span><span class="nc">l</span><span class="nc">d</span><span class="nc">e</span><span class="nc">r</span><span class="p">(</span><span class="n">_</span><span class="n">B</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">w</span><span class="nf">r</span><span class="nf">i</span><span class="nf">t</span><span class="nf">e</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="o">.</span><span class="n">i</span><span class="n">n</span><span class="n">d</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="n">a</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">_</span><span class="nc">D</span><span class="nc">e</span><span class="nc">d</span><span class="nc">e</span><span class="nc">n</span><span class="nc">t</span><span class="nc">B</span><span class="nc">u</span><span class="nc">i</span><span class="nc">l</span><span class="nc">d</span><span class="nc">e</span><span class="nc">r</span><span class="p">(</span><span class="n">_</span><span class="n">B</span><span class="n">u</span><span class="n">i</span><span class="n">l</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">w</span><span class="nf">r</span><span class="nf">i</span><span class="nf">t</span><span class="nf">e</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class="n">p</span><span class="n">u</span><span class="n">t</span><span class="o">.</span><span class="n">i</span><span class="n">n</span><span class="n">d</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="n">a</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class=""> </span><span class="o">-</span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">_</span><span class="nc">C</span><span class="nc">o</span><span class="nc">n</span><span class="nc">s</span><span class="nc">t</span><span class="nc">a</span><span class="nc">n</span><span class="nc">t</span><span class="nc">S</span><span class="nc">e</span><span class="nc">m</span><span class="nc">a</span><span class="nc">n</span><span class="nc">t</span><span class="nc">i</span><span class="nc">c</span><span class="nc">A</span><span class="nc">c</span><span class="nc">t</span><span class="nc">i</span><span class="nc">o</span><span class="nc">n</span><span class="p">(</span><span class="nb">o</span><span class="nb">b</span><span class="nb">j</span><span class="nb">e</span><span class="nb">c</span><span class="nb">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">e</span><span class="nf">v</span><span class="nf">a</span><span class="nf">l</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">_</span><span class="nc">U</span><span class="nc">s</span><span class="nc">e</span><span class="nc">r</span><span class="nc">S</span><span class="nc">e</span><span class="nc">m</span><span class="nc">a</span><span class="nc">n</span><span class="nc">t</span><span class="nc">i</span><span class="nc">c</span><span class="nc">A</span><span class="nc">c</span><span class="nc">t</span><span class="nc">i</span><span class="nc">o</span><span class="nc">n</span><span class="p">(</span><span class="nb">o</span><span class="nb">b</span><span class="nb">j</span><span class="nb">e</span><span class="nb">c</span><span class="nb">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">f</span><span class="n">n</span><span class="p">,</span><span class=""> </span><span class="n">s</span><span class="n">c</span><span class="n">o</span><span class="n">p</span><span class="n">e</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">f</span><span class="n">n</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">f</span><span class="n">n</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">s</span><span class="n">c</span><span class="n">o</span><span class="n">p</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">s</span><span class="n">c</span><span class="n">o</span><span class="n">p</span><span class="n">e</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">e</span><span class="nf">v</span><span class="nf">a</span><span class="nf">l</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">f</span><span class="n">n</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">s</span><span class="n">c</span><span class="n">o</span><span class="n">p</span><span class="n">e</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">_</span><span class="nc">M</span><span class="nc">a</span><span class="nc">t</span><span class="nc">c</span><span class="nc">h</span><span class="nc">E</span><span class="nc">r</span><span class="nc">r</span><span class="nc">o</span><span class="nc">r</span><span class="p">(</span><span class="ne">E</span><span class="ne">x</span><span class="ne">c</span><span class="ne">e</span><span class="ne">p</span><span class="ne">t</span><span class="ne">i</span><span class="ne">o</span><span class="ne">n</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class="p">,</span><span class=""> </span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="ne">E</span><span class="ne">x</span><span class="ne">c</span><span class="ne">e</span><span class="ne">p</span><span class="ne">t</span><span class="ne">i</span><span class="ne">o</span><span class="ne">n</span><span class="o">.</span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">d</span><span class="nf">e</span><span class="nf">s</span><span class="nf">c</span><span class="nf">r</span><span class="nf">i</span><span class="nf">b</span><span class="nf">e</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">"</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="nb">i</span><span class="nb">s</span><span class="nb">i</span><span class="nb">n</span><span class="nb">s</span><span class="nb">t</span><span class="nb">a</span><span class="nb">n</span><span class="nb">c</span><span class="nb">e</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">,</span><span class=""> </span><span class="nb">b</span><span class="nb">a</span><span class="nb">s</span><span class="nb">e</span><span class="nb">s</span><span class="nb">t</span><span class="nb">r</span><span class="nb">i</span><span class="nb">n</span><span class="nb">g</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">b</span><span class="n">e</span><span class="n">f</span><span class="n">o</span><span class="n">r</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">[</span><span class="p">:</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="p">]</span><span class="o">.</span><span class="n">s</span><span class="n">p</span><span class="n">l</span><span class="n">i</span><span class="n">t</span><span class="n">l</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class="n">s</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">a</span><span class="n">f</span><span class="n">t</span><span class="n">e</span><span class="n">r</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">[</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="p">:</span><span class="p">]</span><span class="o">.</span><span class="n">s</span><span class="n">p</span><span class="n">l</span><span class="n">i</span><span class="n">t</span><span class="n">l</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class="n">s</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">f</span><span class="k">o</span><span class="k">r</span><span class=""> </span><span class="n">c</span><span class="n">o</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">b</span><span class="n">e</span><span class="n">f</span><span class="n">o</span><span class="n">r</span><span class="n">e</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="n">b</span><span class="n">e</span><span class="n">f</span><span class="n">o</span><span class="n">r</span><span class="n">e</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">c</span><span class="n">o</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="p">(</span><span class="n">c</span><span class="n">o</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">b</span><span class="n">e</span><span class="n">f</span><span class="n">o</span><span class="n">r</span><span class="n">e</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">c</span><span class="n">o</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="p">(</span><span class="n">b</span><span class="n">e</span><span class="n">f</span><span class="n">o</span><span class="n">r</span><span class="n">e</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="p">,</span><span class=""> </span><span class="n">a</span><span class="n">f</span><span class="n">t</span><span class="n">e</span><span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">a</span><span class="n">r</span><span class="n">r</span><span class="n">o</span><span class="n">w</span><span class="p">(</span><span class="nb">l</span><span class="nb">e</span><span class="nb">n</span><span class="p">(</span><span class="n">b</span><span class="n">e</span><span class="n">f</span><span class="n">o</span><span class="n">r</span><span class="n">e</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">f</span><span class="k">o</span><span class="k">r</span><span class=""> </span><span class="n">c</span><span class="n">o</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">a</span><span class="n">f</span><span class="n">t</span><span class="n">e</span><span class="n">r</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="n">a</span><span class="n">f</span><span class="n">t</span><span class="n">e</span><span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">c</span><span class="n">o</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="p">(</span><span class="n">c</span><span class="n">o</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">a</span><span class="n">f</span><span class="n">t</span><span class="n">e</span><span class="n">r</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">c</span><span class="n">o</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="p">(</span><span class="s2">"</span><span class="s2">[</span><span class="s2">"</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">f</span><span class="k">o</span><span class="k">r</span><span class=""> </span><span class="n">c</span><span class="n">o</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">b</span><span class="n">e</span><span class="n">f</span><span class="n">o</span><span class="n">r</span><span class="n">e</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">[</span><span class="p">:</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="p">]</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">c</span><span class="n">o</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="p">(</span><span class="s2">"</span><span class="s2"> </span><span class="s2"> </span><span class="s2">"</span><span class="p">,</span><span class=""> </span><span class="nb">r</span><span class="nb">e</span><span class="nb">p</span><span class="nb">r</span><span class="p">(</span><span class="n">c</span><span class="n">o</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">b</span><span class="n">e</span><span class="n">f</span><span class="n">o</span><span class="n">r</span><span class="n">e</span><span class="p">)</span><span class="p">,</span><span class=""> </span><span class="s2">"</span><span class="s2">,</span><span class="s2">"</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">c</span><span class="n">o</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="p">(</span><span class="s2">"</span><span class="s2"> </span><span class="s2"> </span><span class="s2">"</span><span class="p">,</span><span class=""> </span><span class="nb">r</span><span class="nb">e</span><span class="nb">p</span><span class="nb">r</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">[</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="p">]</span><span class="p">)</span><span class="p">,</span><span class=""> </span><span class="s2">"</span><span class="s2">,</span><span class="s2">"</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">a</span><span class="n">r</span><span class="n">r</span><span class="n">o</span><span class="n">w</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">f</span><span class="k">o</span><span class="k">r</span><span class=""> </span><span class="n">c</span><span class="n">o</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">a</span><span class="n">f</span><span class="n">t</span><span class="n">e</span><span class="n">r</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">m</span><span class="p">[</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">p</span><span class="n">o</span><span class="n">s</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span><span class="p">]</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">c</span><span class="n">o</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="p">(</span><span class="s2">"</span><span class="s2"> </span><span class="s2"> </span><span class="s2">"</span><span class="p">,</span><span class=""> </span><span class="nb">r</span><span class="nb">e</span><span class="nb">p</span><span class="nb">r</span><span class="p">(</span><span class="n">c</span><span class="n">o</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">a</span><span class="n">f</span><span class="n">t</span><span class="n">e</span><span class="n">r</span><span class="p">)</span><span class="p">,</span><span class=""> </span><span class="s2">"</span><span class="s2">,</span><span class="s2">"</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">_</span><span class="n">c</span><span class="n">o</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="p">(</span><span class="s2">"</span><span class="s2">]</span><span class="s2">"</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">E</span><span class="s2">r</span><span class="s2">r</span><span class="s2">o</span><span class="s2">r</span><span class="s2">:</span><span class="s2"> </span><span class="s2">"</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">f</span><span class="n">o</span><span class="n">r</span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="p">(</span><span class="o">*</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="p">]</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class=""> </span><span class="o">+</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="se">\</span><span class="se">n</span><span class="s2">"</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="n">a</span><span class="n">g</span><span class="n">e</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">_</span><span class="nf">c</span><span class="nf">o</span><span class="nf">n</span><span class="nf">t</span><span class="nf">e</span><span class="nf">x</span><span class="nf">t</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="o">*</span><span class="n">a</span><span class="n">r</span><span class="n">g</span><span class="n">s</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="s2">"</span><span class="s2">&gt;</span><span class="s2"> </span><span class="s2">{</span><span class="s2">}</span><span class="se">\</span><span class="se">n</span><span class="s2">"</span><span class="o">.</span><span class="n">f</span><span class="n">o</span><span class="n">r</span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="p">(</span><span class="s2">"</span><span class="s2">"</span><span class="o">.</span><span class="n">j</span><span class="n">o</span><span class="n">i</span><span class="n">n</span><span class="p">(</span><span class="n">a</span><span class="n">r</span><span class="n">g</span><span class="n">s</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">_</span><span class="nf">a</span><span class="nf">r</span><span class="nf">r</span><span class="nf">o</span><span class="nf">w</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">l</span><span class="n">e</span><span class="n">n</span><span class="n">g</span><span class="n">h</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="s2">"</span><span class="s2">-</span><span class="s2">-</span><span class="s2">{</span><span class="s2">}</span><span class="s2">^</span><span class="se">\</span><span class="se">n</span><span class="s2">"</span><span class="o">.</span><span class="n">f</span><span class="n">o</span><span class="n">r</span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="p">(</span><span class="s2">"</span><span class="s2">-</span><span class="s2">"</span><span class="o">*</span><span class="n">l</span><span class="n">e</span><span class="n">n</span><span class="n">g</span><span class="n">h</span><span class="n">t</span><span class="p">)</span><span class="">
</span></pre></div>

</div>

]]></summary>
</entry>
<entry>
    <title>Newsletter December 2019</title>
    <link href="http://rickardlindberg.me/writing/newsletter/december-2019/" />
    <id>http://rickardlindberg.me/writing/newsletter/december-2019/</id>
    <published>2020-01-05T00:00:00Z</published>
    <updated>2020-01-05T00:00:00Z</updated>
    <summary type="html"><![CDATA[<h1>Newsletter December 2019</h1>

<p><em>Published on  5 January 2020.</em></p>

<p>This is what I’ve been up to in December 2019:</p>
<ul>
<li><p>I read <a href="https://blog.logrocket.com/webassembly-how-and-why-559b7f96cd71/">WebAssembly: How and why</a> and watched <a href="https://www.youtube.com/watch?v=CMB6AlE1QuI">Rust, WebAssembly, and the future of Serverless by Steve Klabnik</a>. WebAssembly might be an interesting compilation target to experiment with.</p></li>
<li><p>I read <a href="https://michaelfeathers.silvrback.com/toward-a-galvanizing-definition-of-technical-debt">Toward a Galvanizing Definition of Technical Debt</a>. I found his definition of technical debt useful.</p></li>
<li><p>I watched <a href="https://www.youtube.com/watch?v=r-TLSBdHe1A&amp;feature=emb_logo">“Performance Matters” by Emery Berger</a>. Low level details are interesting some times.</p></li>
<li><p>I read <a href="https://chelseatroy.com/2019/12/18/reviewing-pull-requests/">Reviewing Pull Requests</a>. I like the idea that more work is put on the reviewer and that the reviewer can also push fixes to the pull request. It reminds me of the <a href="https://rfc.unprotocols.org/spec:1/C4/">C4 process</a> where every patch is almost always immediately accepted. If anyone has comments on it, it is solved by creating another patch.</p></li>
<li><p>I read <a href="https://alexnixon.github.io/2019/12/10/writing.html">It’s time to start writing</a>. It inspired me to write more to think more clearly.</p></li>
<li><p>I read <a href="https://pavelfatin.com/typing-with-pleasure/">Typing with pleasure</a> and also watched the linked video <a href="https://www.youtube.com/watch?v=vOvQCPLkPt4">Applied Sciences Group: High Performance Touch</a>. This topic is relevant for RLiterate.</p></li>
</ul>
]]></summary>
</entry>
<entry>
    <title>Newsletter November 2019</title>
    <link href="http://rickardlindberg.me/writing/newsletter/november-2019/" />
    <id>http://rickardlindberg.me/writing/newsletter/november-2019/</id>
    <published>2019-12-03T00:00:00Z</published>
    <updated>2019-12-03T00:00:00Z</updated>
    <summary type="html"><![CDATA[<h1>Newsletter November 2019</h1>

<p><em>Published on  3 December 2019.</em></p>

<p>This is what I’ve been up to in November 2019:</p>
<ul>
<li><p>I continued working on RLiterate. You can see the progress <a href="/projects/rliterate/book2/index.html#359aefc7fbb54cb4b8e43182efb241a0">here</a>.</p>
<ul>
<li><p>When implementing the text wrap algorithm, it was helpful to be able to change the page width interactively by mouse drag. It gave me quick feedback on the algorithm.</p></li>
<li><p>I fleshed out more parts of the application, and the new architecture seems to scale for what I need. There are still details to figure out, but overall I’m quite pleased.</p></li>
</ul></li>
<li><p>I watched <a href="https://channel9.msdn.com/Blogs/Seth-Juarez/Anders-Hejlsberg-on-Modern-Compiler-Construction">Anders Hejlsberg on Modern Compiler Construction</a>. The compiler he describes feels similar to how RLiterate operate in the sense that every time an even happens, the whole state is re-created. But some parts are cached. It also sparked the idea that RLiterate can use a “language server” to provide a better IDE experience.</p></li>
</ul>
]]></summary>
</entry>
<entry>
    <title>Newsletter October 2019</title>
    <link href="http://rickardlindberg.me/writing/newsletter/october-2019/" />
    <id>http://rickardlindberg.me/writing/newsletter/october-2019/</id>
    <published>2019-11-02T00:00:00Z</published>
    <updated>2019-11-02T00:00:00Z</updated>
    <summary type="html"><![CDATA[<h1>Newsletter October 2019</h1>

<p><em>Published on  2 November 2019.</em></p>

<p>This is what I’ve been up to in October 2019:</p>
<ul>
<li><p>I read <a href="http://users.ece.cmu.edu/~koopman/stack_computers/">Stack Computers: the new wave</a> by Philip J. Koopman, Jr. I did not dig into details about the different computers, but the rest of the book gave me a good understanding stack computers.</p></li>
<li><p>I thought about how stack computers could support programming language features. In particular, I though about how they could support local variables. A calling convention could be used where function parameters are always put on the stack. If a function wants to, it can store those in a frame for later reference. But it does not have to. The compiler might also optimize away local variables in favor of pure stack operations.</p></li>
<li><p>I continued working on <a href="/writing/expr-to-x86-compiler/index.html">compiling expressions to x86 machine code</a>. I did debugging with gdb and learned some useful commands. I managed to compile a subset of expressions down to x86 machine code. It was satisfying. I was helped by <a href="https://eli.thegreenplace.net/2017/adventures-in-jit-compilation-part-4-in-python/">Adventures in JIT compilation: Part 4 - in Python</a>.</p></li>
<li><p>I got an urge to do a rewrite of <a href="/projects/rliterate/index.html">RLiterate</a> to improve performance and fix bugs that make it annoying to use. I use RLiterate to write articles for my blog. I really like the features of it, but the poor performance makes it annoying to use. I had though of a slightly different architecture that would mitigate those problems. But it would require a complete rewrite. I have now successfully validated that the new architecture works better and I will continue to build the next version. You can see it <a href="/projects/rliterate/book2/index.html">here</a>.</p></li>
<li><p>I worked on RLiterate in small chunks. First I did some work and published that version on my homepage. Then at a later time I did review of what I had done. Then I went through and fixed comments from review. This workflow has worked quite well. Having time between the two activities has allowed me to rest and reflect.</p></li>
<li><p>Because I got distracted with RLiterate, I did not make progress on the article about <a href="/writing/rlmeta-memoize-failures/index.html">memoizing failures in RLMeta</a> that I said I would hoped have finished by now. I have not abandoned my drafts though. Something more interesting got in between. I will get back to writing at some point.</p></li>
</ul>
]]></summary>
</entry>
<entry>
    <title>Newsletter September 2019</title>
    <link href="http://rickardlindberg.me/writing/newsletter/september-2019/" />
    <id>http://rickardlindberg.me/writing/newsletter/september-2019/</id>
    <published>2019-10-01T00:00:00Z</published>
    <updated>2019-10-01T00:00:00Z</updated>
    <summary type="html"><![CDATA[<h1>Newsletter September 2019</h1>

<p><em>Published on  1 October 2019.</em></p>

<p>This is what I’ve been up to in September 2019:</p>
<ul>
<li><p>I finished the article on <a href="/writing/rlmeta-left-associativity/index.html">parsing left associative operators in RLMeta</a>. I’m pleased with how it turned out.</p></li>
<li><p>I played with <a href="https://cython.org/">Cython</a> to see if RLMeta VM could be made faster if converted to a C extension module. (It could!) I might write a blog post about it.</p></li>
<li><p>I learned more about Python C extension modules from <a href="https://thomasnyberg.com/what_are_extension_modules.html">What are (c)python extension modules?</a>.</p></li>
<li><p>I watched <a href="https://cacm.acm.org/magazines/2018/11/232214-a-look-at-the-design-of-lua/fulltext">A Look at the Design of Lua</a>. I was inspired by the setting in which it seems to have been created. Small office. Whiteboard. Collaboration. I want to implement a minimal OOP-language in order to learn how to do it.</p></li>
<li><p>I finished porting <a href="/projects/timeline/index.html">Timeline</a> to Python 3.</p>
<ul>
<li><p>The most difficult part was to verify that division operations were still working the same. (Python 3 integer division gives float instead of integer as in Python 2.)</p></li>
<li><p>I concluded that maintaining software is hard work. Even if your program does not change, the external world changes, and you need to change your program accordingly.</p></li>
<li><p>I finished the article on the <a href="/writing/timeline-segfault-wxpython/index.html">segfault failure</a> that I found during porting.</p></li>
</ul></li>
<li><p>I learned about a trick help me get started on a task faster: leave work undone. Leave a test failing. Leave a sentence half written.</p></li>
<li><p>I learned that your number one priority is not what you write on top of the TODO list, but what you actually do.</p></li>
<li><p>I finished a post with my <a href="/writing/alan-kay-notes/index.html">notes on Alan Kay</a>. He is a big inspiration to me.</p></li>
<li><p>I read most parts of <a href="https://paulcavallaro.com/blog/common-systems-programming-optimizations-tricks/">Common Systems Programming Optimizations &amp; Tricks</a>. Low level optimizations are interesting. It reminded me of Bob Nystrom’s <a href="http://gameprogrammingpatterns.com/">game programming book</a> that discusses some <a href="http://gameprogrammingpatterns.com/optimization-patterns.html">similar topics</a>.</p></li>
<li><p>I continued with the article about <a href="/writing/rlmeta-memoize-failures/index.html">memoizing failures in RLMeta</a>. It is almost finished, but because I got distracted by other work, it is not. I hope to finish it next month.</p></li>
<li><p>I started working on <a href="/writing/expr-to-x86-compiler/index.html">compiling expressions to x86 machine code</a>:</p>
<ul>
<li><p>I don’t really know assembly, so I found <a href="https://www.nayuki.io/page/a-fundamental-introduction-to-x86-assembly-programming">A fundamental introduction to x86 assembly programming</a> useful.</p></li>
<li><p>I got segafults because of 32/64-bit mixup. It just shows that I don’t really know what I’m doing yet.</p></li>
<li><p>I learned that <code>add</code> and <code>imul</code> instructions do not work the same. <code>imul</code> can not store result back in memory but must go via register.</p></li>
<li><p>I learned that I subtracted operands in the wrong order.</p></li>
<li><p>I read <a href="https://csl.name/post/python-jit/">Writing a basic x86-64 JIT compiler from scratch in stock Python</a>.</p></li>
<li><p>I read <a href="https://csl.name/post/python-compiler/">JIT compiling a subset of Python to x86-64</a>.</p></li>
</ul></li>
</ul>
]]></summary>
</entry>
<entry>
    <title>Segfault with custom events in wxPython</title>
    <link href="http://rickardlindberg.me/writing/timeline-segfault-wxpython/" />
    <id>http://rickardlindberg.me/writing/timeline-segfault-wxpython/</id>
    <published>2019-09-28T00:00:00Z</published>
    <updated>2019-09-28T00:00:00Z</updated>
    <summary type="html"><![CDATA[<h1>Segfault with custom events in wxPython</h1>

<p><em>Published on 2019-09-28.</em></p>

<p>When working on porting <a href="/projects/timeline/index.html">Timeline</a> to Python 3, I ran into a problem where a test caused a segfault. I managed to create a small example that reproduces the failure. I describe the example below and show how I solved the test failure.</p>

<p>The example consists of a test that stores an instance of a custom wx event in a <a href="https://docs.python.org/3.5/library/unittest.mock.html#the-mock-class">mock</a> object:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>test_wx.py</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="kn">f</span><span class="kn">r</span><span class="kn">o</span><span class="kn">m</span><span class=""> </span><span class="nn">u</span><span class="nn">n</span><span class="nn">i</span><span class="nn">t</span><span class="nn">t</span><span class="nn">e</span><span class="nn">s</span><span class="nn">t</span><span class="nn">.</span><span class="nn">m</span><span class="nn">o</span><span class="nn">c</span><span class="nn">k</span><span class=""> </span><span class="kn">i</span><span class="kn">m</span><span class="kn">p</span><span class="kn">o</span><span class="kn">r</span><span class="kn">t</span><span class=""> </span><span class="n">M</span><span class="n">o</span><span class="n">c</span><span class="n">k</span><span class="">
</span><span class="kn">i</span><span class="kn">m</span><span class="kn">p</span><span class="kn">o</span><span class="kn">r</span><span class="kn">t</span><span class=""> </span><span class="nn">u</span><span class="nn">n</span><span class="nn">i</span><span class="nn">t</span><span class="nn">t</span><span class="nn">e</span><span class="nn">s</span><span class="nn">t</span><span class="">
</span><span class="">
</span><span class="kn">i</span><span class="kn">m</span><span class="kn">p</span><span class="kn">o</span><span class="kn">r</span><span class="kn">t</span><span class=""> </span><span class="nn">w</span><span class="nn">x</span><span class="">
</span><span class="kn">i</span><span class="kn">m</span><span class="kn">p</span><span class="kn">o</span><span class="kn">r</span><span class="kn">t</span><span class=""> </span><span class="nn">w</span><span class="nn">x</span><span class="nn">.</span><span class="nn">l</span><span class="nn">i</span><span class="nn">b</span><span class="nn">.</span><span class="nn">n</span><span class="nn">e</span><span class="nn">w</span><span class="nn">e</span><span class="nn">v</span><span class="nn">e</span><span class="nn">n</span><span class="nn">t</span><span class="">
</span><span class="">
</span><span class="n">C</span><span class="n">u</span><span class="n">s</span><span class="n">t</span><span class="n">o</span><span class="n">m</span><span class="n">E</span><span class="n">v</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">E</span><span class="n">V</span><span class="n">T</span><span class="n">_</span><span class="n">C</span><span class="n">U</span><span class="n">S</span><span class="n">T</span><span class="n">O</span><span class="n">M</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">l</span><span class="n">i</span><span class="n">b</span><span class="o">.</span><span class="n">n</span><span class="n">e</span><span class="n">w</span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="o">.</span><span class="n">N</span><span class="n">e</span><span class="n">w</span><span class="n">E</span><span class="n">v</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">W</span><span class="nc">x</span><span class="nc">T</span><span class="nc">e</span><span class="nc">s</span><span class="nc">t</span><span class="p">(</span><span class="n">u</span><span class="n">n</span><span class="n">i</span><span class="n">t</span><span class="n">t</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="o">.</span><span class="n">T</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">C</span><span class="n">a</span><span class="n">s</span><span class="n">e</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">t</span><span class="nf">e</span><span class="nf">s</span><span class="nf">t</span><span class="nf">_</span><span class="nf">w</span><span class="nf">x</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">m</span><span class="n">o</span><span class="n">c</span><span class="n">k</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">M</span><span class="n">o</span><span class="n">c</span><span class="n">k</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">m</span><span class="n">o</span><span class="n">c</span><span class="n">k</span><span class="o">.</span><span class="n">P</span><span class="n">o</span><span class="n">s</span><span class="n">t</span><span class="n">E</span><span class="n">v</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="p">(</span><span class="n">C</span><span class="n">u</span><span class="n">s</span><span class="n">t</span><span class="n">o</span><span class="n">m</span><span class="n">E</span><span class="n">v</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="p">(</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="vm">_</span><span class="vm">_</span><span class="vm">n</span><span class="vm">a</span><span class="vm">m</span><span class="vm">e</span><span class="vm">_</span><span class="vm">_</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">_</span><span class="s2">_</span><span class="s2">m</span><span class="s2">a</span><span class="s2">i</span><span class="s2">n</span><span class="s2">_</span><span class="s2">_</span><span class="s2">"</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">u</span><span class="n">n</span><span class="n">i</span><span class="n">t</span><span class="n">t</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="o">.</span><span class="n">m</span><span class="n">a</span><span class="n">i</span><span class="n">n</span><span class="p">(</span><span class="p">)</span><span class="">
</span></pre></div>

</div>

<p>When I run this example, I get the following error:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">$</span><span class=""> </span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class=""> </span><span class="">t</span><span class="">e</span><span class="">s</span><span class="">t</span><span class="">_</span><span class="">w</span><span class="">x</span><span class="">.</span><span class="">p</span><span class="">y</span><span class="">
</span><span class="">.</span><span class="">
</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">
</span><span class="">R</span><span class="">a</span><span class="">n</span><span class=""> </span><span class="">1</span><span class=""> </span><span class="">t</span><span class="">e</span><span class="">s</span><span class="">t</span><span class=""> </span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">0</span><span class="">.</span><span class="">0</span><span class="">0</span><span class="">1</span><span class="">s</span><span class="">
</span><span class="">
</span><span class="">O</span><span class="">K</span><span class="">
</span><span class="">S</span><span class="">e</span><span class="">g</span><span class="">m</span><span class="">e</span><span class="">n</span><span class="">t</span><span class="">a</span><span class="">t</span><span class="">i</span><span class="">o</span><span class="">n</span><span class=""> </span><span class="">f</span><span class="">a</span><span class="">u</span><span class="">l</span><span class="">t</span><span class=""> </span><span class="">(</span><span class="">c</span><span class="">o</span><span class="">r</span><span class="">e</span><span class=""> </span><span class="">d</span><span class="">u</span><span class="">m</span><span class="">p</span><span class="">e</span><span class="">d</span><span class="">)</span><span class="">
</span></pre></div>

</div>

<p>If I instead run it through gdb, I can see the C stacktrace where the error happens:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">$</span><span class=""> </span><span class="">g</span><span class="">d</span><span class="">b</span><span class=""> </span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">
</span><span class="">G</span><span class="">N</span><span class="">U</span><span class=""> </span><span class="">g</span><span class="">d</span><span class="">b</span><span class=""> </span><span class="">(</span><span class="">G</span><span class="">D</span><span class="">B</span><span class="">)</span><span class=""> </span><span class="">F</span><span class="">e</span><span class="">d</span><span class="">o</span><span class="">r</span><span class="">a</span><span class=""> </span><span class="">8</span><span class="">.</span><span class="">2</span><span class="">.</span><span class="">9</span><span class="">1</span><span class="">.</span><span class="">2</span><span class="">0</span><span class="">1</span><span class="">9</span><span class="">0</span><span class="">4</span><span class="">0</span><span class="">1</span><span class="">-</span><span class="">2</span><span class="">3</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">
</span><span class="">.</span><span class="">.</span><span class="">.</span><span class="">
</span><span class="">(</span><span class="">g</span><span class="">d</span><span class="">b</span><span class="">)</span><span class=""> </span><span class="">r</span><span class="">u</span><span class="">n</span><span class=""> </span><span class="">t</span><span class="">e</span><span class="">s</span><span class="">t</span><span class="">_</span><span class="">w</span><span class="">x</span><span class="">.</span><span class="">p</span><span class="">y</span><span class=""> </span><span class="">
</span><span class="">.</span><span class="">.</span><span class="">.</span><span class="">
</span><span class="">.</span><span class="">
</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">
</span><span class="">R</span><span class="">a</span><span class="">n</span><span class=""> </span><span class="">1</span><span class=""> </span><span class="">t</span><span class="">e</span><span class="">s</span><span class="">t</span><span class=""> </span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">0</span><span class="">.</span><span class="">0</span><span class="">0</span><span class="">1</span><span class="">s</span><span class="">
</span><span class="">
</span><span class="">O</span><span class="">K</span><span class="">
</span><span class="">
</span><span class="">P</span><span class="">r</span><span class="">o</span><span class="">g</span><span class="">r</span><span class="">a</span><span class="">m</span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">c</span><span class="">e</span><span class="">i</span><span class="">v</span><span class="">e</span><span class="">d</span><span class=""> </span><span class="">s</span><span class="">i</span><span class="">g</span><span class="">n</span><span class="">a</span><span class="">l</span><span class=""> </span><span class="">S</span><span class="">I</span><span class="">G</span><span class="">S</span><span class="">E</span><span class="">G</span><span class="">V</span><span class="">,</span><span class=""> </span><span class="">S</span><span class="">e</span><span class="">g</span><span class="">m</span><span class="">e</span><span class="">n</span><span class="">t</span><span class="">a</span><span class="">t</span><span class="">i</span><span class="">o</span><span class="">n</span><span class=""> </span><span class="">f</span><span class="">a</span><span class="">u</span><span class="">l</span><span class="">t</span><span class="">.</span><span class="">
</span><span class="">d</span><span class="">i</span><span class="">c</span><span class="">t</span><span class="">_</span><span class="">d</span><span class="">e</span><span class="">a</span><span class="">l</span><span class="">l</span><span class="">o</span><span class="">c</span><span class=""> </span><span class="">(</span><span class="">m</span><span class="">p</span><span class="">=</span><span class="">0</span><span class="">x</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">e</span><span class="">7</span><span class="">1</span><span class="">2</span><span class="">f</span><span class="">9</span><span class="">d</span><span class="">8</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">/</span><span class="">u</span><span class="">s</span><span class="">r</span><span class="">/</span><span class="">s</span><span class="">r</span><span class="">c</span><span class="">/</span><span class="">d</span><span class="">e</span><span class="">b</span><span class="">u</span><span class="">g</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">-</span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">.</span><span class="">3</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class="">/</span><span class="">O</span><span class="">b</span><span class="">j</span><span class="">e</span><span class="">c</span><span class="">t</span><span class="">s</span><span class="">/</span><span class="">d</span><span class="">i</span><span class="">c</span><span class="">t</span><span class="">o</span><span class="">b</span><span class="">j</span><span class="">e</span><span class="">c</span><span class="">t</span><span class="">.</span><span class="">c</span><span class="">:</span><span class="">1</span><span class="">9</span><span class="">0</span><span class="">1</span><span class="">
</span><span class="">1</span><span class="">9</span><span class="">0</span><span class="">1</span><span class="">	</span><span class="">/</span><span class="">u</span><span class="">s</span><span class="">r</span><span class="">/</span><span class="">s</span><span class="">r</span><span class="">c</span><span class="">/</span><span class="">d</span><span class="">e</span><span class="">b</span><span class="">u</span><span class="">g</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">-</span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">.</span><span class="">3</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class="">/</span><span class="">O</span><span class="">b</span><span class="">j</span><span class="">e</span><span class="">c</span><span class="">t</span><span class="">s</span><span class="">/</span><span class="">d</span><span class="">i</span><span class="">c</span><span class="">t</span><span class="">o</span><span class="">b</span><span class="">j</span><span class="">e</span><span class="">c</span><span class="">t</span><span class="">.</span><span class="">c</span><span class="">:</span><span class=""> </span><span class="">N</span><span class="">o</span><span class=""> </span><span class="">s</span><span class="">u</span><span class="">c</span><span class="">h</span><span class=""> </span><span class="">f</span><span class="">i</span><span class="">l</span><span class="">e</span><span class=""> </span><span class="">o</span><span class="">r</span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">r</span><span class="">e</span><span class="">c</span><span class="">t</span><span class="">o</span><span class="">r</span><span class="">y</span><span class="">.</span><span class="">
</span><span class="">M</span><span class="">i</span><span class="">s</span><span class="">s</span><span class="">i</span><span class="">n</span><span class="">g</span><span class=""> </span><span class="">s</span><span class="">e</span><span class="">p</span><span class="">a</span><span class="">r</span><span class="">a</span><span class="">t</span><span class="">e</span><span class=""> </span><span class="">d</span><span class="">e</span><span class="">b</span><span class="">u</span><span class="">g</span><span class="">i</span><span class="">n</span><span class="">f</span><span class="">o</span><span class="">s</span><span class="">,</span><span class=""> </span><span class="">u</span><span class="">s</span><span class="">e</span><span class="">:</span><span class=""> </span><span class="">d</span><span class="">n</span><span class="">f</span><span class=""> </span><span class="">d</span><span class="">e</span><span class="">b</span><span class="">u</span><span class="">g</span><span class="">i</span><span class="">n</span><span class="">f</span><span class="">o</span><span class="">-</span><span class="">i</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">a</span><span class="">l</span><span class="">l</span><span class=""> </span><span class="">f</span><span class="">o</span><span class="">n</span><span class="">t</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">f</span><span class="">i</span><span class="">g</span><span class="">-</span><span class="">2</span><span class="">.</span><span class="">1</span><span class="">3</span><span class="">.</span><span class="">1</span><span class="">-</span><span class="">6</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class=""> </span><span class="">l</span><span class="">i</span><span class="">b</span><span class="">X</span><span class="">c</span><span class="">u</span><span class="">r</span><span class="">s</span><span class="">o</span><span class="">r</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">1</span><span class="">.</span><span class="">1</span><span class="">5</span><span class="">-</span><span class="">5</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class=""> </span><span class="">l</span><span class="">i</span><span class="">b</span><span class="">g</span><span class="">c</span><span class="">r</span><span class="">y</span><span class="">p</span><span class="">t</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">8</span><span class="">.</span><span class="">4</span><span class="">-</span><span class="">3</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class=""> </span><span class="">l</span><span class="">i</span><span class="">b</span><span class="">x</span><span class="">k</span><span class="">b</span><span class="">c</span><span class="">o</span><span class="">m</span><span class="">m</span><span class="">o</span><span class="">n</span><span class="">-</span><span class="">0</span><span class="">.</span><span class="">8</span><span class="">.</span><span class="">3</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class=""> </span><span class="">l</span><span class="">z</span><span class="">4</span><span class="">-</span><span class="">l</span><span class="">i</span><span class="">b</span><span class="">s</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">8</span><span class="">.</span><span class="">3</span><span class="">-</span><span class="">2</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class=""> </span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">-</span><span class="">s</span><span class="">i</span><span class="">p</span><span class="">-</span><span class="">4</span><span class="">.</span><span class="">1</span><span class="">9</span><span class="">.</span><span class="">1</span><span class="">7</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class="">
</span><span class="">(</span><span class="">g</span><span class="">d</span><span class="">b</span><span class="">)</span><span class=""> </span><span class="">b</span><span class="">t</span><span class="">
</span><span class="">#</span><span class="">0</span><span class=""> </span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">c</span><span class="">t</span><span class="">_</span><span class="">d</span><span class="">e</span><span class="">a</span><span class="">l</span><span class="">l</span><span class="">o</span><span class="">c</span><span class=""> </span><span class="">(</span><span class="">m</span><span class="">p</span><span class="">=</span><span class="">0</span><span class="">x</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">e</span><span class="">7</span><span class="">1</span><span class="">2</span><span class="">f</span><span class="">9</span><span class="">d</span><span class="">8</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">/</span><span class="">u</span><span class="">s</span><span class="">r</span><span class="">/</span><span class="">s</span><span class="">r</span><span class="">c</span><span class="">/</span><span class="">d</span><span class="">e</span><span class="">b</span><span class="">u</span><span class="">g</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">-</span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">.</span><span class="">3</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class="">/</span><span class="">O</span><span class="">b</span><span class="">j</span><span class="">e</span><span class="">c</span><span class="">t</span><span class="">s</span><span class="">/</span><span class="">d</span><span class="">i</span><span class="">c</span><span class="">t</span><span class="">o</span><span class="">b</span><span class="">j</span><span class="">e</span><span class="">c</span><span class="">t</span><span class="">.</span><span class="">c</span><span class="">:</span><span class="">1</span><span class="">9</span><span class="">0</span><span class="">1</span><span class="">
</span><span class="">#</span><span class="">1</span><span class=""> </span><span class=""> </span><span class="">0</span><span class="">x</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">e</span><span class="">a</span><span class="">0</span><span class="">2</span><span class="">e</span><span class="">1</span><span class="">c</span><span class="">c</span><span class=""> </span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">w</span><span class="">x</span><span class="">P</span><span class="">y</span><span class="">E</span><span class="">v</span><span class="">t</span><span class="">D</span><span class="">i</span><span class="">c</span><span class="">t</span><span class="">:</span><span class="">:</span><span class="">~</span><span class="">w</span><span class="">x</span><span class="">P</span><span class="">y</span><span class="">E</span><span class="">v</span><span class="">t</span><span class="">D</span><span class="">i</span><span class="">c</span><span class="">t</span><span class=""> </span><span class="">(</span><span class="">t</span><span class="">h</span><span class="">i</span><span class="">s</span><span class="">=</span><span class="">0</span><span class="">x</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">6</span><span class="">f</span><span class="">3</span><span class="">e</span><span class="">e</span><span class="">8</span><span class="">,</span><span class=""> </span><span class="">_</span><span class="">_</span><span class="">i</span><span class="">n</span><span class="">_</span><span class="">c</span><span class="">h</span><span class="">r</span><span class="">g</span><span class="">=</span><span class="">&lt;</span><span class="">o</span><span class="">p</span><span class="">t</span><span class="">i</span><span class="">m</span><span class="">i</span><span class="">z</span><span class="">e</span><span class="">d</span><span class=""> </span><span class="">o</span><span class="">u</span><span class="">t</span><span class="">&gt;</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">.</span><span class="">.</span><span class="">/</span><span class="">.</span><span class="">.</span><span class="">/</span><span class="">.</span><span class="">.</span><span class="">/</span><span class="">.</span><span class="">.</span><span class="">/</span><span class="">s</span><span class="">r</span><span class="">c</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">e</span><span class="">v</span><span class="">e</span><span class="">n</span><span class="">t</span><span class="">.</span><span class="">h</span><span class="">:</span><span class="">4</span><span class="">8</span><span class="">
</span><span class="">#</span><span class="">2</span><span class=""> </span><span class=""> </span><span class="">w</span><span class="">x</span><span class="">P</span><span class="">y</span><span class="">E</span><span class="">v</span><span class="">e</span><span class="">n</span><span class="">t</span><span class="">:</span><span class="">:</span><span class="">~</span><span class="">w</span><span class="">x</span><span class="">P</span><span class="">y</span><span class="">E</span><span class="">v</span><span class="">e</span><span class="">n</span><span class="">t</span><span class=""> </span><span class="">(</span><span class="">t</span><span class="">h</span><span class="">i</span><span class="">s</span><span class="">=</span><span class="">0</span><span class="">x</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">6</span><span class="">f</span><span class="">3</span><span class="">e</span><span class="">9</span><span class="">0</span><span class="">,</span><span class=""> </span><span class="">_</span><span class="">_</span><span class="">i</span><span class="">n</span><span class="">_</span><span class="">c</span><span class="">h</span><span class="">r</span><span class="">g</span><span class="">=</span><span class="">&lt;</span><span class="">o</span><span class="">p</span><span class="">t</span><span class="">i</span><span class="">m</span><span class="">i</span><span class="">z</span><span class="">e</span><span class="">d</span><span class=""> </span><span class="">o</span><span class="">u</span><span class="">t</span><span class="">&gt;</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">.</span><span class="">.</span><span class="">/</span><span class="">.</span><span class="">.</span><span class="">/</span><span class="">.</span><span class="">.</span><span class="">/</span><span class="">.</span><span class="">.</span><span class="">/</span><span class="">s</span><span class="">r</span><span class="">c</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">e</span><span class="">v</span><span class="">e</span><span class="">n</span><span class="">t</span><span class="">.</span><span class="">h</span><span class="">:</span><span class="">9</span><span class="">6</span><span class="">
</span><span class="">#</span><span class="">3</span><span class=""> </span><span class=""> </span><span class="">s</span><span class="">i</span><span class="">p</span><span class="">w</span><span class="">x</span><span class="">P</span><span class="">y</span><span class="">E</span><span class="">v</span><span class="">e</span><span class="">n</span><span class="">t</span><span class="">:</span><span class="">:</span><span class="">~</span><span class="">s</span><span class="">i</span><span class="">p</span><span class="">w</span><span class="">x</span><span class="">P</span><span class="">y</span><span class="">E</span><span class="">v</span><span class="">e</span><span class="">n</span><span class="">t</span><span class=""> </span><span class="">(</span><span class="">t</span><span class="">h</span><span class="">i</span><span class="">s</span><span class="">=</span><span class="">0</span><span class="">x</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">6</span><span class="">f</span><span class="">3</span><span class="">e</span><span class="">9</span><span class="">0</span><span class="">,</span><span class=""> </span><span class="">_</span><span class="">_</span><span class="">i</span><span class="">n</span><span class="">_</span><span class="">c</span><span class="">h</span><span class="">r</span><span class="">g</span><span class="">=</span><span class="">&lt;</span><span class="">o</span><span class="">p</span><span class="">t</span><span class="">i</span><span class="">m</span><span class="">i</span><span class="">z</span><span class="">e</span><span class="">d</span><span class=""> </span><span class="">o</span><span class="">u</span><span class="">t</span><span class="">&gt;</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">.</span><span class="">.</span><span class="">/</span><span class="">.</span><span class="">.</span><span class="">/</span><span class="">.</span><span class="">.</span><span class="">/</span><span class="">.</span><span class="">.</span><span class="">/</span><span class="">s</span><span class="">i</span><span class="">p</span><span class="">/</span><span class="">c</span><span class="">p</span><span class="">p</span><span class="">/</span><span class="">s</span><span class="">i</span><span class="">p</span><span class="">_</span><span class="">c</span><span class="">o</span><span class="">r</span><span class="">e</span><span class="">w</span><span class="">x</span><span class="">P</span><span class="">y</span><span class="">E</span><span class="">v</span><span class="">e</span><span class="">n</span><span class="">t</span><span class="">.</span><span class="">c</span><span class="">p</span><span class="">p</span><span class="">:</span><span class="">5</span><span class="">6</span><span class="">
</span><span class="">#</span><span class="">4</span><span class=""> </span><span class=""> </span><span class="">0</span><span class="">x</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">e</span><span class="">a</span><span class="">0</span><span class="">2</span><span class="">e</span><span class="">2</span><span class="">4</span><span class="">d</span><span class=""> </span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">s</span><span class="">i</span><span class="">p</span><span class="">w</span><span class="">x</span><span class="">P</span><span class="">y</span><span class="">E</span><span class="">v</span><span class="">e</span><span class="">n</span><span class="">t</span><span class="">:</span><span class="">:</span><span class="">~</span><span class="">s</span><span class="">i</span><span class="">p</span><span class="">w</span><span class="">x</span><span class="">P</span><span class="">y</span><span class="">E</span><span class="">v</span><span class="">e</span><span class="">n</span><span class="">t</span><span class=""> </span><span class="">(</span><span class="">t</span><span class="">h</span><span class="">i</span><span class="">s</span><span class="">=</span><span class="">0</span><span class="">x</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">6</span><span class="">f</span><span class="">3</span><span class="">e</span><span class="">9</span><span class="">0</span><span class="">,</span><span class=""> </span><span class="">_</span><span class="">_</span><span class="">i</span><span class="">n</span><span class="">_</span><span class="">c</span><span class="">h</span><span class="">r</span><span class="">g</span><span class="">=</span><span class="">&lt;</span><span class="">o</span><span class="">p</span><span class="">t</span><span class="">i</span><span class="">m</span><span class="">i</span><span class="">z</span><span class="">e</span><span class="">d</span><span class=""> </span><span class="">o</span><span class="">u</span><span class="">t</span><span class="">&gt;</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">.</span><span class="">.</span><span class="">/</span><span class="">.</span><span class="">.</span><span class="">/</span><span class="">.</span><span class="">.</span><span class="">/</span><span class="">.</span><span class="">.</span><span class="">/</span><span class="">s</span><span class="">i</span><span class="">p</span><span class="">/</span><span class="">c</span><span class="">p</span><span class="">p</span><span class="">/</span><span class="">s</span><span class="">i</span><span class="">p</span><span class="">_</span><span class="">c</span><span class="">o</span><span class="">r</span><span class="">e</span><span class="">w</span><span class="">x</span><span class="">P</span><span class="">y</span><span class="">E</span><span class="">v</span><span class="">e</span><span class="">n</span><span class="">t</span><span class="">.</span><span class="">c</span><span class="">p</span><span class="">p</span><span class="">:</span><span class="">5</span><span class="">6</span><span class="">
</span><span class="">#</span><span class="">5</span><span class=""> </span><span class=""> </span><span class="">0</span><span class="">x</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">e</span><span class="">a</span><span class="">0</span><span class="">2</span><span class="">d</span><span class="">f</span><span class="">d</span><span class="">2</span><span class=""> </span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">l</span><span class="">e</span><span class="">a</span><span class="">s</span><span class="">e</span><span class="">_</span><span class="">w</span><span class="">x</span><span class="">P</span><span class="">y</span><span class="">E</span><span class="">v</span><span class="">e</span><span class="">n</span><span class="">t</span><span class=""> </span><span class="">(</span><span class="">s</span><span class="">i</span><span class="">p</span><span class="">C</span><span class="">p</span><span class="">p</span><span class="">V</span><span class="">=</span><span class="">0</span><span class="">x</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">6</span><span class="">f</span><span class="">3</span><span class="">e</span><span class="">9</span><span class="">0</span><span class="">,</span><span class=""> </span><span class="">s</span><span class="">i</span><span class="">p</span><span class="">S</span><span class="">t</span><span class="">a</span><span class="">t</span><span class="">e</span><span class="">=</span><span class="">&lt;</span><span class="">o</span><span class="">p</span><span class="">t</span><span class="">i</span><span class="">m</span><span class="">i</span><span class="">z</span><span class="">e</span><span class="">d</span><span class=""> </span><span class="">o</span><span class="">u</span><span class="">t</span><span class="">&gt;</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">.</span><span class="">.</span><span class="">/</span><span class="">.</span><span class="">.</span><span class="">/</span><span class="">.</span><span class="">.</span><span class="">/</span><span class="">.</span><span class="">.</span><span class="">/</span><span class="">s</span><span class="">i</span><span class="">p</span><span class="">/</span><span class="">c</span><span class="">p</span><span class="">p</span><span class="">/</span><span class="">s</span><span class="">i</span><span class="">p</span><span class="">_</span><span class="">c</span><span class="">o</span><span class="">r</span><span class="">e</span><span class="">w</span><span class="">x</span><span class="">P</span><span class="">y</span><span class="">E</span><span class="">v</span><span class="">e</span><span class="">n</span><span class="">t</span><span class="">.</span><span class="">c</span><span class="">p</span><span class="">p</span><span class="">:</span><span class="">2</span><span class="">6</span><span class="">1</span><span class="">
</span><span class="">#</span><span class="">6</span><span class=""> </span><span class=""> </span><span class="">0</span><span class="">x</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">e</span><span class="">7</span><span class="">2</span><span class="">f</span><span class="">f</span><span class="">4</span><span class="">c</span><span class="">e</span><span class=""> </span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">?</span><span class="">?</span><span class=""> </span><span class="">(</span><span class="">)</span><span class=""> </span><span class="">f</span><span class="">r</span><span class="">o</span><span class="">m</span><span class=""> </span><span class="">/</span><span class="">u</span><span class="">s</span><span class="">r</span><span class="">/</span><span class="">l</span><span class="">i</span><span class="">b</span><span class="">6</span><span class="">4</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">/</span><span class="">s</span><span class="">i</span><span class="">t</span><span class="">e</span><span class="">-</span><span class="">p</span><span class="">a</span><span class="">c</span><span class="">k</span><span class="">a</span><span class="">g</span><span class="">e</span><span class="">s</span><span class="">/</span><span class="">s</span><span class="">i</span><span class="">p</span><span class="">.</span><span class="">s</span><span class="">o</span><span class="">
</span><span class="">#</span><span class="">7</span><span class=""> </span><span class=""> </span><span class="">0</span><span class="">x</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">e</span><span class="">7</span><span class="">2</span><span class="">f</span><span class="">f</span><span class="">5</span><span class="">1</span><span class="">d</span><span class=""> </span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">?</span><span class="">?</span><span class=""> </span><span class="">(</span><span class="">)</span><span class=""> </span><span class="">f</span><span class="">r</span><span class="">o</span><span class="">m</span><span class=""> </span><span class="">/</span><span class="">u</span><span class="">s</span><span class="">r</span><span class="">/</span><span class="">l</span><span class="">i</span><span class="">b</span><span class="">6</span><span class="">4</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">/</span><span class="">s</span><span class="">i</span><span class="">t</span><span class="">e</span><span class="">-</span><span class="">p</span><span class="">a</span><span class="">c</span><span class="">k</span><span class="">a</span><span class="">g</span><span class="">e</span><span class="">s</span><span class="">/</span><span class="">s</span><span class="">i</span><span class="">p</span><span class="">.</span><span class="">s</span><span class="">o</span><span class="">
</span><span class="">#</span><span class="">8</span><span class=""> </span><span class=""> </span><span class="">0</span><span class="">x</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">7</span><span class="">c</span><span class="">1</span><span class="">4</span><span class="">8</span><span class="">6</span><span class="">9</span><span class=""> </span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">s</span><span class="">u</span><span class="">b</span><span class="">t</span><span class="">y</span><span class="">p</span><span class="">e</span><span class="">_</span><span class="">d</span><span class="">e</span><span class="">a</span><span class="">l</span><span class="">l</span><span class="">o</span><span class="">c</span><span class=""> </span><span class="">(</span><span class="">s</span><span class="">e</span><span class="">l</span><span class="">f</span><span class="">=</span><span class="">&lt;</span><span class="">_</span><span class="">E</span><span class="">v</span><span class="">e</span><span class="">n</span><span class="">t</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">m</span><span class="">o</span><span class="">t</span><span class="">e</span><span class=""> </span><span class="">0</span><span class="">x</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">e</span><span class="">a</span><span class="">4</span><span class="">d</span><span class="">d</span><span class="">d</span><span class="">3</span><span class="">8</span><span class="">&gt;</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">/</span><span class="">u</span><span class="">s</span><span class="">r</span><span class="">/</span><span class="">s</span><span class="">r</span><span class="">c</span><span class="">/</span><span class="">d</span><span class="">e</span><span class="">b</span><span class="">u</span><span class="">g</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">-</span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">.</span><span class="">3</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class="">/</span><span class="">O</span><span class="">b</span><span class="">j</span><span class="">e</span><span class="">c</span><span class="">t</span><span class="">s</span><span class="">/</span><span class="">t</span><span class="">y</span><span class="">p</span><span class="">e</span><span class="">o</span><span class="">b</span><span class="">j</span><span class="">e</span><span class="">c</span><span class="">t</span><span class="">.</span><span class="">c</span><span class="">:</span><span class="">1</span><span class="">2</span><span class="">5</span><span class="">6</span><span class="">
</span><span class="">#</span><span class="">9</span><span class=""> </span><span class=""> </span><span class="">0</span><span class="">x</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">7</span><span class="">b</span><span class="">8</span><span class="">8</span><span class="">9</span><span class="">2</span><span class="">b</span><span class=""> </span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">t</span><span class="">u</span><span class="">p</span><span class="">l</span><span class="">e</span><span class="">d</span><span class="">e</span><span class="">a</span><span class="">l</span><span class="">l</span><span class="">o</span><span class="">c</span><span class=""> </span><span class="">(</span><span class="">o</span><span class="">p</span><span class="">=</span><span class="">0</span><span class="">x</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">e</span><span class="">7</span><span class="">1</span><span class="">2</span><span class="">c</span><span class="">d</span><span class="">a</span><span class="">0</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">/</span><span class="">u</span><span class="">s</span><span class="">r</span><span class="">/</span><span class="">s</span><span class="">r</span><span class="">c</span><span class="">/</span><span class="">d</span><span class="">e</span><span class="">b</span><span class="">u</span><span class="">g</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">-</span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">.</span><span class="">3</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class="">/</span><span class="">O</span><span class="">b</span><span class="">j</span><span class="">e</span><span class="">c</span><span class="">t</span><span class="">s</span><span class="">/</span><span class="">t</span><span class="">u</span><span class="">p</span><span class="">l</span><span class="">e</span><span class="">o</span><span class="">b</span><span class="">j</span><span class="">e</span><span class="">c</span><span class="">t</span><span class="">.</span><span class="">c</span><span class="">:</span><span class="">2</span><span class="">4</span><span class="">6</span><span class="">
</span><span class="">#</span><span class="">1</span><span class="">0</span><span class=""> </span><span class="">0</span><span class="">x</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">7</span><span class="">b</span><span class="">8</span><span class="">8</span><span class="">9</span><span class="">2</span><span class="">b</span><span class=""> </span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">t</span><span class="">u</span><span class="">p</span><span class="">l</span><span class="">e</span><span class="">d</span><span class="">e</span><span class="">a</span><span class="">l</span><span class="">l</span><span class="">o</span><span class="">c</span><span class=""> </span><span class="">(</span><span class="">o</span><span class="">p</span><span class="">=</span><span class="">0</span><span class="">x</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">e</span><span class="">a</span><span class="">4</span><span class="">d</span><span class="">7</span><span class="">6</span><span class="">2</span><span class="">0</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">/</span><span class="">u</span><span class="">s</span><span class="">r</span><span class="">/</span><span class="">s</span><span class="">r</span><span class="">c</span><span class="">/</span><span class="">d</span><span class="">e</span><span class="">b</span><span class="">u</span><span class="">g</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">-</span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">.</span><span class="">3</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class="">/</span><span class="">O</span><span class="">b</span><span class="">j</span><span class="">e</span><span class="">c</span><span class="">t</span><span class="">s</span><span class="">/</span><span class="">t</span><span class="">u</span><span class="">p</span><span class="">l</span><span class="">e</span><span class="">o</span><span class="">b</span><span class="">j</span><span class="">e</span><span class="">c</span><span class="">t</span><span class="">.</span><span class="">c</span><span class="">:</span><span class="">2</span><span class="">4</span><span class="">6</span><span class="">
</span><span class="">#</span><span class="">1</span><span class="">1</span><span class=""> </span><span class="">0</span><span class="">x</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">7</span><span class="">c</span><span class="">1</span><span class="">4</span><span class="">8</span><span class="">6</span><span class="">9</span><span class=""> </span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">s</span><span class="">u</span><span class="">b</span><span class="">t</span><span class="">y</span><span class="">p</span><span class="">e</span><span class="">_</span><span class="">d</span><span class="">e</span><span class="">a</span><span class="">l</span><span class="">l</span><span class="">o</span><span class="">c</span><span class=""> </span><span class="">(</span><span class="">s</span><span class="">e</span><span class="">l</span><span class="">f</span><span class="">=</span><span class="">&lt;</span><span class="">_</span><span class="">C</span><span class="">a</span><span class="">l</span><span class="">l</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">m</span><span class="">o</span><span class="">t</span><span class="">e</span><span class=""> </span><span class="">0</span><span class="">x</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">e</span><span class="">a</span><span class="">4</span><span class="">d</span><span class="">7</span><span class="">6</span><span class="">2</span><span class="">0</span><span class="">&gt;</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">/</span><span class="">u</span><span class="">s</span><span class="">r</span><span class="">/</span><span class="">s</span><span class="">r</span><span class="">c</span><span class="">/</span><span class="">d</span><span class="">e</span><span class="">b</span><span class="">u</span><span class="">g</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">-</span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">.</span><span class="">3</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class="">/</span><span class="">O</span><span class="">b</span><span class="">j</span><span class="">e</span><span class="">c</span><span class="">t</span><span class="">s</span><span class="">/</span><span class="">t</span><span class="">y</span><span class="">p</span><span class="">e</span><span class="">o</span><span class="">b</span><span class="">j</span><span class="">e</span><span class="">c</span><span class="">t</span><span class="">.</span><span class="">c</span><span class="">:</span><span class="">1</span><span class="">2</span><span class="">5</span><span class="">6</span><span class="">
</span><span class="">#</span><span class="">1</span><span class="">2</span><span class=""> </span><span class="">0</span><span class="">x</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">7</span><span class="">b</span><span class="">8</span><span class="">8</span><span class="">2</span><span class="">a</span><span class="">e</span><span class=""> </span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">l</span><span class="">i</span><span class="">s</span><span class="">t</span><span class="">_</span><span class="">d</span><span class="">e</span><span class="">a</span><span class="">l</span><span class="">l</span><span class="">o</span><span class="">c</span><span class=""> </span><span class="">(</span><span class="">o</span><span class="">p</span><span class="">=</span><span class="">0</span><span class="">x</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">e</span><span class="">7</span><span class="">0</span><span class="">b</span><span class="">a</span><span class="">2</span><span class="">2</span><span class="">8</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">/</span><span class="">u</span><span class="">s</span><span class="">r</span><span class="">/</span><span class="">s</span><span class="">r</span><span class="">c</span><span class="">/</span><span class="">d</span><span class="">e</span><span class="">b</span><span class="">u</span><span class="">g</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">-</span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">.</span><span class="">3</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class="">/</span><span class="">O</span><span class="">b</span><span class="">j</span><span class="">e</span><span class="">c</span><span class="">t</span><span class="">s</span><span class="">/</span><span class="">l</span><span class="">i</span><span class="">s</span><span class="">t</span><span class="">o</span><span class="">b</span><span class="">j</span><span class="">e</span><span class="">c</span><span class="">t</span><span class="">.</span><span class="">c</span><span class="">:</span><span class="">3</span><span class="">2</span><span class="">4</span><span class="">
</span><span class="">#</span><span class="">1</span><span class="">3</span><span class=""> </span><span class="">0</span><span class="">x</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">7</span><span class="">c</span><span class="">1</span><span class="">4</span><span class="">8</span><span class="">6</span><span class="">9</span><span class=""> </span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">s</span><span class="">u</span><span class="">b</span><span class="">t</span><span class="">y</span><span class="">p</span><span class="">e</span><span class="">_</span><span class="">d</span><span class="">e</span><span class="">a</span><span class="">l</span><span class="">l</span><span class="">o</span><span class="">c</span><span class=""> </span><span class="">(</span><span class="">s</span><span class="">e</span><span class="">l</span><span class="">f</span><span class="">=</span><span class="">&lt;</span><span class="">_</span><span class="">C</span><span class="">a</span><span class="">l</span><span class="">l</span><span class="">L</span><span class="">i</span><span class="">s</span><span class="">t</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">m</span><span class="">o</span><span class="">t</span><span class="">e</span><span class=""> </span><span class="">0</span><span class="">x</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">e</span><span class="">7</span><span class="">0</span><span class="">b</span><span class="">a</span><span class="">2</span><span class="">2</span><span class="">8</span><span class="">&gt;</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">/</span><span class="">u</span><span class="">s</span><span class="">r</span><span class="">/</span><span class="">s</span><span class="">r</span><span class="">c</span><span class="">/</span><span class="">d</span><span class="">e</span><span class="">b</span><span class="">u</span><span class="">g</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">-</span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">.</span><span class="">3</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class="">/</span><span class="">O</span><span class="">b</span><span class="">j</span><span class="">e</span><span class="">c</span><span class="">t</span><span class="">s</span><span class="">/</span><span class="">t</span><span class="">y</span><span class="">p</span><span class="">e</span><span class="">o</span><span class="">b</span><span class="">j</span><span class="">e</span><span class="">c</span><span class="">t</span><span class="">.</span><span class="">c</span><span class="">:</span><span class="">1</span><span class="">2</span><span class="">5</span><span class="">6</span><span class="">
</span><span class="">#</span><span class="">1</span><span class="">4</span><span class=""> </span><span class="">0</span><span class="">x</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">7</span><span class="">b</span><span class="">8</span><span class="">c</span><span class="">8</span><span class="">1</span><span class="">3</span><span class=""> </span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">f</span><span class="">r</span><span class="">e</span><span class="">e</span><span class="">_</span><span class="">k</span><span class="">e</span><span class="">y</span><span class="">s</span><span class="">_</span><span class="">o</span><span class="">b</span><span class="">j</span><span class="">e</span><span class="">c</span><span class="">t</span><span class=""> </span><span class="">(</span><span class="">k</span><span class="">e</span><span class="">y</span><span class="">s</span><span class="">=</span><span class="">0</span><span class="">x</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">8</span><span class="">5</span><span class="">5</span><span class="">0</span><span class="">8</span><span class="">0</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">/</span><span class="">u</span><span class="">s</span><span class="">r</span><span class="">/</span><span class="">s</span><span class="">r</span><span class="">c</span><span class="">/</span><span class="">d</span><span class="">e</span><span class="">b</span><span class="">u</span><span class="">g</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">-</span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">.</span><span class="">3</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class="">/</span><span class="">M</span><span class="">o</span><span class="">d</span><span class="">u</span><span class="">l</span><span class="">e</span><span class="">s</span><span class="">/</span><span class="">g</span><span class="">c</span><span class="">m</span><span class="">o</span><span class="">d</span><span class="">u</span><span class="">l</span><span class="">e</span><span class="">.</span><span class="">c</span><span class="">:</span><span class="">7</span><span class="">7</span><span class="">6</span><span class="">
</span><span class="">#</span><span class="">1</span><span class="">5</span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">c</span><span class="">t</span><span class="">_</span><span class="">d</span><span class="">e</span><span class="">a</span><span class="">l</span><span class="">l</span><span class="">o</span><span class="">c</span><span class=""> </span><span class="">(</span><span class="">m</span><span class="">p</span><span class="">=</span><span class="">0</span><span class="">x</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">e</span><span class="">7</span><span class="">1</span><span class="">2</span><span class="">f</span><span class="">6</span><span class="">3</span><span class="">0</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">/</span><span class="">u</span><span class="">s</span><span class="">r</span><span class="">/</span><span class="">s</span><span class="">r</span><span class="">c</span><span class="">/</span><span class="">d</span><span class="">e</span><span class="">b</span><span class="">u</span><span class="">g</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">-</span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">.</span><span class="">3</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class="">/</span><span class="">O</span><span class="">b</span><span class="">j</span><span class="">e</span><span class="">c</span><span class="">t</span><span class="">s</span><span class="">/</span><span class="">d</span><span class="">i</span><span class="">c</span><span class="">t</span><span class="">o</span><span class="">b</span><span class="">j</span><span class="">e</span><span class="">c</span><span class="">t</span><span class="">.</span><span class="">c</span><span class="">:</span><span class="">1</span><span class="">9</span><span class="">1</span><span class="">3</span><span class="">
</span><span class="">#</span><span class="">1</span><span class="">6</span><span class=""> </span><span class="">s</span><span class="">u</span><span class="">b</span><span class="">t</span><span class="">y</span><span class="">p</span><span class="">e</span><span class="">_</span><span class="">c</span><span class="">l</span><span class="">e</span><span class="">a</span><span class="">r</span><span class=""> </span><span class="">(</span><span class="">s</span><span class="">e</span><span class="">l</span><span class="">f</span><span class="">=</span><span class="">&lt;</span><span class="">o</span><span class="">p</span><span class="">t</span><span class="">i</span><span class="">m</span><span class="">i</span><span class="">z</span><span class="">e</span><span class="">d</span><span class=""> </span><span class="">o</span><span class="">u</span><span class="">t</span><span class="">&gt;</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">/</span><span class="">u</span><span class="">s</span><span class="">r</span><span class="">/</span><span class="">s</span><span class="">r</span><span class="">c</span><span class="">/</span><span class="">d</span><span class="">e</span><span class="">b</span><span class="">u</span><span class="">g</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">-</span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">.</span><span class="">3</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class="">/</span><span class="">O</span><span class="">b</span><span class="">j</span><span class="">e</span><span class="">c</span><span class="">t</span><span class="">s</span><span class="">/</span><span class="">t</span><span class="">y</span><span class="">p</span><span class="">e</span><span class="">o</span><span class="">b</span><span class="">j</span><span class="">e</span><span class="">c</span><span class="">t</span><span class="">.</span><span class="">c</span><span class="">:</span><span class="">1</span><span class="">1</span><span class="">0</span><span class="">1</span><span class="">
</span><span class="">#</span><span class="">1</span><span class="">7</span><span class=""> </span><span class="">d</span><span class="">e</span><span class="">l</span><span class="">e</span><span class="">t</span><span class="">e</span><span class="">_</span><span class="">g</span><span class="">a</span><span class="">r</span><span class="">b</span><span class="">a</span><span class="">g</span><span class="">e</span><span class=""> </span><span class="">(</span><span class="">o</span><span class="">l</span><span class="">d</span><span class="">=</span><span class="">&lt;</span><span class="">o</span><span class="">p</span><span class="">t</span><span class="">i</span><span class="">m</span><span class="">i</span><span class="">z</span><span class="">e</span><span class="">d</span><span class=""> </span><span class="">o</span><span class="">u</span><span class="">t</span><span class="">&gt;</span><span class="">,</span><span class=""> </span><span class="">c</span><span class="">o</span><span class="">l</span><span class="">l</span><span class="">e</span><span class="">c</span><span class="">t</span><span class="">a</span><span class="">b</span><span class="">l</span><span class="">e</span><span class="">=</span><span class="">&lt;</span><span class="">o</span><span class="">p</span><span class="">t</span><span class="">i</span><span class="">m</span><span class="">i</span><span class="">z</span><span class="">e</span><span class="">d</span><span class=""> </span><span class="">o</span><span class="">u</span><span class="">t</span><span class="">&gt;</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">/</span><span class="">u</span><span class="">s</span><span class="">r</span><span class="">/</span><span class="">s</span><span class="">r</span><span class="">c</span><span class="">/</span><span class="">d</span><span class="">e</span><span class="">b</span><span class="">u</span><span class="">g</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">-</span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">.</span><span class="">3</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class="">/</span><span class="">M</span><span class="">o</span><span class="">d</span><span class="">u</span><span class="">l</span><span class="">e</span><span class="">s</span><span class="">/</span><span class="">g</span><span class="">c</span><span class="">m</span><span class="">o</span><span class="">d</span><span class="">u</span><span class="">l</span><span class="">e</span><span class="">.</span><span class="">c</span><span class="">:</span><span class="">7</span><span class="">6</span><span class="">9</span><span class="">
</span><span class="">#</span><span class="">1</span><span class="">8</span><span class=""> </span><span class="">c</span><span class="">o</span><span class="">l</span><span class="">l</span><span class="">e</span><span class="">c</span><span class="">t</span><span class=""> </span><span class="">(</span><span class="">g</span><span class="">e</span><span class="">n</span><span class="">e</span><span class="">r</span><span class="">a</span><span class="">t</span><span class="">i</span><span class="">o</span><span class="">n</span><span class="">=</span><span class="">2</span><span class="">,</span><span class=""> </span><span class="">n</span><span class="">_</span><span class="">c</span><span class="">o</span><span class="">l</span><span class="">l</span><span class="">e</span><span class="">c</span><span class="">t</span><span class="">e</span><span class="">d</span><span class="">=</span><span class="">0</span><span class="">x</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">d</span><span class="">2</span><span class="">3</span><span class="">0</span><span class="">,</span><span class=""> </span><span class="">n</span><span class="">_</span><span class="">u</span><span class="">n</span><span class="">c</span><span class="">o</span><span class="">l</span><span class="">l</span><span class="">e</span><span class="">c</span><span class="">t</span><span class="">a</span><span class="">b</span><span class="">l</span><span class="">e</span><span class="">=</span><span class="">0</span><span class="">x</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">d</span><span class="">2</span><span class="">2</span><span class="">8</span><span class="">,</span><span class=""> </span><span class="">n</span><span class="">o</span><span class="">f</span><span class="">a</span><span class="">i</span><span class="">l</span><span class="">=</span><span class="">0</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">/</span><span class="">u</span><span class="">s</span><span class="">r</span><span class="">/</span><span class="">s</span><span class="">r</span><span class="">c</span><span class="">/</span><span class="">d</span><span class="">e</span><span class="">b</span><span class="">u</span><span class="">g</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">-</span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">.</span><span class="">3</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class="">/</span><span class="">M</span><span class="">o</span><span class="">d</span><span class="">u</span><span class="">l</span><span class="">e</span><span class="">s</span><span class="">/</span><span class="">g</span><span class="">c</span><span class="">m</span><span class="">o</span><span class="">d</span><span class="">u</span><span class="">l</span><span class="">e</span><span class="">.</span><span class="">c</span><span class="">:</span><span class="">9</span><span class="">2</span><span class="">4</span><span class="">
</span><span class="">#</span><span class="">1</span><span class="">9</span><span class=""> </span><span class="">0</span><span class="">x</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">7</span><span class="">c</span><span class="">4</span><span class="">a</span><span class="">c</span><span class="">4</span><span class="">e</span><span class=""> </span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">c</span><span class="">o</span><span class="">l</span><span class="">l</span><span class="">e</span><span class="">c</span><span class="">t</span><span class="">_</span><span class="">w</span><span class="">i</span><span class="">t</span><span class="">h</span><span class="">_</span><span class="">c</span><span class="">a</span><span class="">l</span><span class="">l</span><span class="">b</span><span class="">a</span><span class="">c</span><span class="">k</span><span class=""> </span><span class="">(</span><span class="">g</span><span class="">e</span><span class="">n</span><span class="">e</span><span class="">r</span><span class="">a</span><span class="">t</span><span class="">i</span><span class="">o</span><span class="">n</span><span class="">=</span><span class="">g</span><span class="">e</span><span class="">n</span><span class="">e</span><span class="">r</span><span class="">a</span><span class="">t</span><span class="">i</span><span class="">o</span><span class="">n</span><span class="">@</span><span class="">e</span><span class="">n</span><span class="">t</span><span class="">r</span><span class="">y</span><span class="">=</span><span class="">2</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">/</span><span class="">u</span><span class="">s</span><span class="">r</span><span class="">/</span><span class="">s</span><span class="">r</span><span class="">c</span><span class="">/</span><span class="">d</span><span class="">e</span><span class="">b</span><span class="">u</span><span class="">g</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">-</span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">.</span><span class="">3</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class="">/</span><span class="">M</span><span class="">o</span><span class="">d</span><span class="">u</span><span class="">l</span><span class="">e</span><span class="">s</span><span class="">/</span><span class="">g</span><span class="">c</span><span class="">m</span><span class="">o</span><span class="">d</span><span class="">u</span><span class="">l</span><span class="">e</span><span class="">.</span><span class="">c</span><span class="">:</span><span class="">1</span><span class="">0</span><span class="">3</span><span class="">6</span><span class="">
</span><span class="">#</span><span class="">2</span><span class="">0</span><span class=""> </span><span class="">0</span><span class="">x</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">7</span><span class="">c</span><span class="">a</span><span class="">7</span><span class="">3</span><span class="">3</span><span class="">1</span><span class=""> </span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">P</span><span class="">y</span><span class="">G</span><span class="">C</span><span class="">_</span><span class="">C</span><span class="">o</span><span class="">l</span><span class="">l</span><span class="">e</span><span class="">c</span><span class="">t</span><span class=""> </span><span class="">(</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">/</span><span class="">u</span><span class="">s</span><span class="">r</span><span class="">/</span><span class="">s</span><span class="">r</span><span class="">c</span><span class="">/</span><span class="">d</span><span class="">e</span><span class="">b</span><span class="">u</span><span class="">g</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">-</span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">.</span><span class="">3</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class="">/</span><span class="">M</span><span class="">o</span><span class="">d</span><span class="">u</span><span class="">l</span><span class="">e</span><span class="">s</span><span class="">/</span><span class="">g</span><span class="">c</span><span class="">m</span><span class="">o</span><span class="">d</span><span class="">u</span><span class="">l</span><span class="">e</span><span class="">.</span><span class="">c</span><span class="">:</span><span class="">1</span><span class="">5</span><span class="">8</span><span class="">1</span><span class="">
</span><span class="">#</span><span class="">2</span><span class="">1</span><span class=""> </span><span class="">0</span><span class="">x</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">7</span><span class="">c</span><span class="">a</span><span class="">a</span><span class="">f</span><span class="">0</span><span class="">3</span><span class=""> </span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">P</span><span class="">y</span><span class="">_</span><span class="">F</span><span class="">i</span><span class="">n</span><span class="">a</span><span class="">l</span><span class="">i</span><span class="">z</span><span class="">e</span><span class="">E</span><span class="">x</span><span class=""> </span><span class="">(</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">/</span><span class="">u</span><span class="">s</span><span class="">r</span><span class="">/</span><span class="">s</span><span class="">r</span><span class="">c</span><span class="">/</span><span class="">d</span><span class="">e</span><span class="">b</span><span class="">u</span><span class="">g</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">-</span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">.</span><span class="">3</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class="">/</span><span class="">P</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">l</span><span class="">i</span><span class="">f</span><span class="">e</span><span class="">c</span><span class="">y</span><span class="">c</span><span class="">l</span><span class="">e</span><span class="">.</span><span class="">c</span><span class="">:</span><span class="">1</span><span class="">1</span><span class="">8</span><span class="">5</span><span class="">
</span><span class="">#</span><span class="">2</span><span class="">2</span><span class=""> </span><span class="">0</span><span class="">x</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">7</span><span class="">c</span><span class="">a</span><span class="">b</span><span class="">0</span><span class="">4</span><span class="">8</span><span class=""> </span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">P</span><span class="">y</span><span class="">_</span><span class="">E</span><span class="">x</span><span class="">i</span><span class="">t</span><span class=""> </span><span class="">(</span><span class="">s</span><span class="">t</span><span class="">s</span><span class="">=</span><span class="">s</span><span class="">t</span><span class="">s</span><span class="">@</span><span class="">e</span><span class="">n</span><span class="">t</span><span class="">r</span><span class="">y</span><span class="">=</span><span class="">0</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">/</span><span class="">u</span><span class="">s</span><span class="">r</span><span class="">/</span><span class="">s</span><span class="">r</span><span class="">c</span><span class="">/</span><span class="">d</span><span class="">e</span><span class="">b</span><span class="">u</span><span class="">g</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">-</span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">.</span><span class="">3</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class="">/</span><span class="">P</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">l</span><span class="">i</span><span class="">f</span><span class="">e</span><span class="">c</span><span class="">y</span><span class="">c</span><span class="">l</span><span class="">e</span><span class="">.</span><span class="">c</span><span class="">:</span><span class="">2</span><span class="">2</span><span class="">7</span><span class="">8</span><span class="">
</span><span class="">#</span><span class="">2</span><span class="">3</span><span class=""> </span><span class="">0</span><span class="">x</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">7</span><span class="">c</span><span class="">a</span><span class="">b</span><span class="">0</span><span class="">f</span><span class="">f</span><span class=""> </span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">h</span><span class="">a</span><span class="">n</span><span class="">d</span><span class="">l</span><span class="">e</span><span class="">_</span><span class="">s</span><span class="">y</span><span class="">s</span><span class="">t</span><span class="">e</span><span class="">m</span><span class="">_</span><span class="">e</span><span class="">x</span><span class="">i</span><span class="">t</span><span class=""> </span><span class="">(</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">/</span><span class="">u</span><span class="">s</span><span class="">r</span><span class="">/</span><span class="">s</span><span class="">r</span><span class="">c</span><span class="">/</span><span class="">d</span><span class="">e</span><span class="">b</span><span class="">u</span><span class="">g</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">-</span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">.</span><span class="">3</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class="">/</span><span class="">P</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">r</span><span class="">u</span><span class="">n</span><span class="">.</span><span class="">c</span><span class="">:</span><span class="">6</span><span class="">3</span><span class="">6</span><span class="">
</span><span class="">#</span><span class="">2</span><span class="">4</span><span class=""> </span><span class="">0</span><span class="">x</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">7</span><span class="">c</span><span class="">a</span><span class="">b</span><span class="">1</span><span class="">e</span><span class="">6</span><span class=""> </span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">P</span><span class="">y</span><span class="">E</span><span class="">r</span><span class="">r</span><span class="">_</span><span class="">P</span><span class="">r</span><span class="">i</span><span class="">n</span><span class="">t</span><span class="">E</span><span class="">x</span><span class=""> </span><span class="">(</span><span class="">s</span><span class="">e</span><span class="">t</span><span class="">_</span><span class="">s</span><span class="">y</span><span class="">s</span><span class="">_</span><span class="">l</span><span class="">a</span><span class="">s</span><span class="">t</span><span class="">_</span><span class="">v</span><span class="">a</span><span class="">r</span><span class="">s</span><span class="">=</span><span class="">1</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">/</span><span class="">u</span><span class="">s</span><span class="">r</span><span class="">/</span><span class="">s</span><span class="">r</span><span class="">c</span><span class="">/</span><span class="">d</span><span class="">e</span><span class="">b</span><span class="">u</span><span class="">g</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">-</span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">.</span><span class="">3</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class="">/</span><span class="">P</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">r</span><span class="">u</span><span class="">n</span><span class="">.</span><span class="">c</span><span class="">:</span><span class="">6</span><span class="">4</span><span class="">6</span><span class="">
</span><span class="">#</span><span class="">2</span><span class="">5</span><span class=""> </span><span class="">0</span><span class="">x</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">7</span><span class="">c</span><span class="">a</span><span class="">b</span><span class="">6</span><span class="">5</span><span class="">1</span><span class=""> </span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">P</span><span class="">y</span><span class="">R</span><span class="">u</span><span class="">n</span><span class="">_</span><span class="">S</span><span class="">i</span><span class="">m</span><span class="">p</span><span class="">l</span><span class="">e</span><span class="">F</span><span class="">i</span><span class="">l</span><span class="">e</span><span class="">E</span><span class="">x</span><span class="">F</span><span class="">l</span><span class="">a</span><span class="">g</span><span class="">s</span><span class=""> </span><span class="">(</span><span class="">f</span><span class="">p</span><span class="">=</span><span class="">&lt;</span><span class="">o</span><span class="">p</span><span class="">t</span><span class="">i</span><span class="">m</span><span class="">i</span><span class="">z</span><span class="">e</span><span class="">d</span><span class=""> </span><span class="">o</span><span class="">u</span><span class="">t</span><span class="">&gt;</span><span class="">,</span><span class=""> </span><span class="">f</span><span class="">i</span><span class="">l</span><span class="">e</span><span class="">n</span><span class="">a</span><span class="">m</span><span class="">e</span><span class="">=</span><span class="">&lt;</span><span class="">o</span><span class="">p</span><span class="">t</span><span class="">i</span><span class="">m</span><span class="">i</span><span class="">z</span><span class="">e</span><span class="">d</span><span class=""> </span><span class="">o</span><span class="">u</span><span class="">t</span><span class="">&gt;</span><span class="">,</span><span class=""> </span><span class="">c</span><span class="">l</span><span class="">o</span><span class="">s</span><span class="">e</span><span class="">i</span><span class="">t</span><span class="">=</span><span class="">&lt;</span><span class="">o</span><span class="">p</span><span class="">t</span><span class="">i</span><span class="">m</span><span class="">i</span><span class="">z</span><span class="">e</span><span class="">d</span><span class=""> </span><span class="">o</span><span class="">u</span><span class="">t</span><span class="">&gt;</span><span class="">,</span><span class=""> </span><span class="">f</span><span class="">l</span><span class="">a</span><span class="">g</span><span class="">s</span><span class="">=</span><span class="">0</span><span class="">x</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">d</span><span class="">4</span><span class="">1</span><span class="">0</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">/</span><span class="">u</span><span class="">s</span><span class="">r</span><span class="">/</span><span class="">s</span><span class="">r</span><span class="">c</span><span class="">/</span><span class="">d</span><span class="">e</span><span class="">b</span><span class="">u</span><span class="">g</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">-</span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">.</span><span class="">3</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class="">/</span><span class="">P</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">r</span><span class="">u</span><span class="">n</span><span class="">.</span><span class="">c</span><span class="">:</span><span class="">4</span><span class="">3</span><span class="">5</span><span class="">
</span><span class="">#</span><span class="">2</span><span class="">6</span><span class=""> </span><span class="">0</span><span class="">x</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">7</span><span class="">c</span><span class="">a</span><span class="">d</span><span class="">8</span><span class="">6</span><span class="">4</span><span class=""> </span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">p</span><span class="">y</span><span class="">m</span><span class="">a</span><span class="">i</span><span class="">n</span><span class="">_</span><span class="">r</span><span class="">u</span><span class="">n</span><span class="">_</span><span class="">f</span><span class="">i</span><span class="">l</span><span class="">e</span><span class=""> </span><span class="">(</span><span class="">p</span><span class="">_</span><span class="">c</span><span class="">f</span><span class="">=</span><span class="">0</span><span class="">x</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">d</span><span class="">4</span><span class="">1</span><span class="">0</span><span class="">,</span><span class=""> </span><span class="">f</span><span class="">i</span><span class="">l</span><span class="">e</span><span class="">n</span><span class="">a</span><span class="">m</span><span class="">e</span><span class="">=</span><span class="">&lt;</span><span class="">o</span><span class="">p</span><span class="">t</span><span class="">i</span><span class="">m</span><span class="">i</span><span class="">z</span><span class="">e</span><span class="">d</span><span class=""> </span><span class="">o</span><span class="">u</span><span class="">t</span><span class="">&gt;</span><span class="">,</span><span class=""> </span><span class="">f</span><span class="">p</span><span class="">=</span><span class="">0</span><span class="">x</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">a</span><span class="">2</span><span class="">0</span><span class="">d</span><span class="">0</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">/</span><span class="">u</span><span class="">s</span><span class="">r</span><span class="">/</span><span class="">s</span><span class="">r</span><span class="">c</span><span class="">/</span><span class="">d</span><span class="">e</span><span class="">b</span><span class="">u</span><span class="">g</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">-</span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">.</span><span class="">3</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class="">/</span><span class="">M</span><span class="">o</span><span class="">d</span><span class="">u</span><span class="">l</span><span class="">e</span><span class="">s</span><span class="">/</span><span class="">m</span><span class="">a</span><span class="">i</span><span class="">n</span><span class="">.</span><span class="">c</span><span class="">:</span><span class="">4</span><span class="">2</span><span class="">7</span><span class="">
</span><span class="">#</span><span class="">2</span><span class="">7</span><span class=""> </span><span class="">p</span><span class="">y</span><span class="">m</span><span class="">a</span><span class="">i</span><span class="">n</span><span class="">_</span><span class="">r</span><span class="">u</span><span class="">n</span><span class="">_</span><span class="">f</span><span class="">i</span><span class="">l</span><span class="">e</span><span class="">n</span><span class="">a</span><span class="">m</span><span class="">e</span><span class=""> </span><span class="">(</span><span class="">c</span><span class="">f</span><span class="">=</span><span class="">0</span><span class="">x</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">d</span><span class="">4</span><span class="">1</span><span class="">0</span><span class="">,</span><span class=""> </span><span class="">p</span><span class="">y</span><span class="">m</span><span class="">a</span><span class="">i</span><span class="">n</span><span class="">=</span><span class="">0</span><span class="">x</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">d</span><span class="">5</span><span class="">2</span><span class="">0</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">/</span><span class="">u</span><span class="">s</span><span class="">r</span><span class="">/</span><span class="">s</span><span class="">r</span><span class="">c</span><span class="">/</span><span class="">d</span><span class="">e</span><span class="">b</span><span class="">u</span><span class="">g</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">-</span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">.</span><span class="">3</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class="">/</span><span class="">M</span><span class="">o</span><span class="">d</span><span class="">u</span><span class="">l</span><span class="">e</span><span class="">s</span><span class="">/</span><span class="">m</span><span class="">a</span><span class="">i</span><span class="">n</span><span class="">.</span><span class="">c</span><span class="">:</span><span class="">1</span><span class="">6</span><span class="">2</span><span class="">7</span><span class="">
</span><span class="">#</span><span class="">2</span><span class="">8</span><span class=""> </span><span class="">p</span><span class="">y</span><span class="">m</span><span class="">a</span><span class="">i</span><span class="">n</span><span class="">_</span><span class="">r</span><span class="">u</span><span class="">n</span><span class="">_</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class=""> </span><span class="">(</span><span class="">p</span><span class="">y</span><span class="">m</span><span class="">a</span><span class="">i</span><span class="">n</span><span class="">=</span><span class="">0</span><span class="">x</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">d</span><span class="">5</span><span class="">2</span><span class="">0</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">/</span><span class="">u</span><span class="">s</span><span class="">r</span><span class="">/</span><span class="">s</span><span class="">r</span><span class="">c</span><span class="">/</span><span class="">d</span><span class="">e</span><span class="">b</span><span class="">u</span><span class="">g</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">-</span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">.</span><span class="">3</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class="">/</span><span class="">M</span><span class="">o</span><span class="">d</span><span class="">u</span><span class="">l</span><span class="">e</span><span class="">s</span><span class="">/</span><span class="">m</span><span class="">a</span><span class="">i</span><span class="">n</span><span class="">.</span><span class="">c</span><span class="">:</span><span class="">2</span><span class="">8</span><span class="">7</span><span class="">7</span><span class="">
</span><span class="">#</span><span class="">2</span><span class="">9</span><span class=""> </span><span class="">p</span><span class="">y</span><span class="">m</span><span class="">a</span><span class="">i</span><span class="">n</span><span class="">_</span><span class="">m</span><span class="">a</span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">(</span><span class="">p</span><span class="">y</span><span class="">m</span><span class="">a</span><span class="">i</span><span class="">n</span><span class="">=</span><span class="">0</span><span class="">x</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">d</span><span class="">5</span><span class="">2</span><span class="">0</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">/</span><span class="">u</span><span class="">s</span><span class="">r</span><span class="">/</span><span class="">s</span><span class="">r</span><span class="">c</span><span class="">/</span><span class="">d</span><span class="">e</span><span class="">b</span><span class="">u</span><span class="">g</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">-</span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">.</span><span class="">3</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class="">/</span><span class="">M</span><span class="">o</span><span class="">d</span><span class="">u</span><span class="">l</span><span class="">e</span><span class="">s</span><span class="">/</span><span class="">m</span><span class="">a</span><span class="">i</span><span class="">n</span><span class="">.</span><span class="">c</span><span class="">:</span><span class="">3</span><span class="">0</span><span class="">3</span><span class="">8</span><span class="">
</span><span class="">#</span><span class="">3</span><span class="">0</span><span class=""> </span><span class="">0</span><span class="">x</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">7</span><span class="">c</span><span class="">a</span><span class="">d</span><span class="">c</span><span class="">0</span><span class="">c</span><span class=""> </span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">_</span><span class="">P</span><span class="">y</span><span class="">_</span><span class="">U</span><span class="">n</span><span class="">i</span><span class="">x</span><span class="">M</span><span class="">a</span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">(</span><span class="">a</span><span class="">r</span><span class="">g</span><span class="">c</span><span class="">=</span><span class="">&lt;</span><span class="">o</span><span class="">p</span><span class="">t</span><span class="">i</span><span class="">m</span><span class="">i</span><span class="">z</span><span class="">e</span><span class="">d</span><span class=""> </span><span class="">o</span><span class="">u</span><span class="">t</span><span class="">&gt;</span><span class="">,</span><span class=""> </span><span class="">a</span><span class="">r</span><span class="">g</span><span class="">v</span><span class="">=</span><span class="">&lt;</span><span class="">o</span><span class="">p</span><span class="">t</span><span class="">i</span><span class="">m</span><span class="">i</span><span class="">z</span><span class="">e</span><span class="">d</span><span class=""> </span><span class="">o</span><span class="">u</span><span class="">t</span><span class="">&gt;</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">/</span><span class="">u</span><span class="">s</span><span class="">r</span><span class="">/</span><span class="">s</span><span class="">r</span><span class="">c</span><span class="">/</span><span class="">d</span><span class="">e</span><span class="">b</span><span class="">u</span><span class="">g</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">-</span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">.</span><span class="">3</span><span class="">-</span><span class="">1</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class="">/</span><span class="">M</span><span class="">o</span><span class="">d</span><span class="">u</span><span class="">l</span><span class="">e</span><span class="">s</span><span class="">/</span><span class="">m</span><span class="">a</span><span class="">i</span><span class="">n</span><span class="">.</span><span class="">c</span><span class="">:</span><span class="">3</span><span class="">0</span><span class="">7</span><span class="">3</span><span class="">
</span><span class="">#</span><span class="">3</span><span class="">1</span><span class=""> </span><span class="">0</span><span class="">x</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">7</span><span class="">e</span><span class="">1</span><span class="">2</span><span class="">f</span><span class="">3</span><span class="">3</span><span class=""> </span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">_</span><span class="">_</span><span class="">l</span><span class="">i</span><span class="">b</span><span class="">c</span><span class="">_</span><span class="">s</span><span class="">t</span><span class="">a</span><span class="">r</span><span class="">t</span><span class="">_</span><span class="">m</span><span class="">a</span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">(</span><span class="">m</span><span class="">a</span><span class="">i</span><span class="">n</span><span class="">=</span><span class="">0</span><span class="">x</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">0</span><span class="">5</span><span class="">0</span><span class=""> </span><span class="">&lt;</span><span class="">m</span><span class="">a</span><span class="">i</span><span class="">n</span><span class="">&gt;</span><span class="">,</span><span class=""> </span><span class="">a</span><span class="">r</span><span class="">g</span><span class="">c</span><span class="">=</span><span class="">2</span><span class="">,</span><span class=""> </span><span class="">a</span><span class="">r</span><span class="">g</span><span class="">v</span><span class="">=</span><span class="">0</span><span class="">x</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">d</span><span class="">6</span><span class="">7</span><span class="">8</span><span class="">,</span><span class=""> </span><span class="">i</span><span class="">n</span><span class="">i</span><span class="">t</span><span class="">=</span><span class="">&lt;</span><span class="">o</span><span class="">p</span><span class="">t</span><span class="">i</span><span class="">m</span><span class="">i</span><span class="">z</span><span class="">e</span><span class="">d</span><span class=""> </span><span class="">o</span><span class="">u</span><span class="">t</span><span class="">&gt;</span><span class="">,</span><span class=""> </span><span class="">f</span><span class="">i</span><span class="">n</span><span class="">i</span><span class="">=</span><span class="">&lt;</span><span class="">o</span><span class="">p</span><span class="">t</span><span class="">i</span><span class="">m</span><span class="">i</span><span class="">z</span><span class="">e</span><span class="">d</span><span class=""> </span><span class="">o</span><span class="">u</span><span class="">t</span><span class="">&gt;</span><span class="">,</span><span class=""> </span><span class="">r</span><span class="">t</span><span class="">l</span><span class="">d</span><span class="">_</span><span class="">f</span><span class="">i</span><span class="">n</span><span class="">i</span><span class="">=</span><span class="">&lt;</span><span class="">o</span><span class="">p</span><span class="">t</span><span class="">i</span><span class="">m</span><span class="">i</span><span class="">z</span><span class="">e</span><span class="">d</span><span class=""> </span><span class="">o</span><span class="">u</span><span class="">t</span><span class="">&gt;</span><span class="">,</span><span class=""> </span><span class="">s</span><span class="">t</span><span class="">a</span><span class="">c</span><span class="">k</span><span class="">_</span><span class="">e</span><span class="">n</span><span class="">d</span><span class="">=</span><span class="">0</span><span class="">x</span><span class="">7</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">f</span><span class="">d</span><span class="">6</span><span class="">6</span><span class="">8</span><span class="">)</span><span class=""> </span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">.</span><span class="">.</span><span class="">/</span><span class="">c</span><span class="">s</span><span class="">u</span><span class="">/</span><span class="">l</span><span class="">i</span><span class="">b</span><span class="">c</span><span class="">-</span><span class="">s</span><span class="">t</span><span class="">a</span><span class="">r</span><span class="">t</span><span class="">.</span><span class="">c</span><span class="">:</span><span class="">3</span><span class="">0</span><span class="">8</span><span class="">
</span><span class="">#</span><span class="">3</span><span class="">2</span><span class=""> </span><span class="">0</span><span class="">x</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">0</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">5</span><span class="">0</span><span class="">8</span><span class="">e</span><span class=""> </span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">_</span><span class="">s</span><span class="">t</span><span class="">a</span><span class="">r</span><span class="">t</span><span class=""> </span><span class="">(</span><span class="">)</span><span class="">
</span></pre></div>

</div>

<p>Somewhere in the middle, there is a call to <code>PyGC_Collect</code> followed, a bit higher up, by a call to <code>release_wxPyEvent</code>. This indicates that the error occurs during garbage collection of the custom wx event.</p>

<p>The machine I run the example on is running Python 3.7.3, and wxPython 4.0.4:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">$</span><span class=""> </span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">
</span><span class="">P</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class=""> </span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">.</span><span class="">3</span><span class=""> </span><span class="">(</span><span class="">d</span><span class="">e</span><span class="">f</span><span class="">a</span><span class="">u</span><span class="">l</span><span class="">t</span><span class="">,</span><span class=""> </span><span class="">M</span><span class="">a</span><span class="">r</span><span class=""> </span><span class="">2</span><span class="">7</span><span class=""> </span><span class="">2</span><span class="">0</span><span class="">1</span><span class="">9</span><span class="">,</span><span class=""> </span><span class="">1</span><span class="">3</span><span class="">:</span><span class="">3</span><span class="">6</span><span class="">:</span><span class="">3</span><span class="">5</span><span class="">)</span><span class="">
</span><span class="">[</span><span class="">G</span><span class="">C</span><span class="">C</span><span class=""> </span><span class="">9</span><span class="">.</span><span class="">0</span><span class="">.</span><span class="">1</span><span class=""> </span><span class="">2</span><span class="">0</span><span class="">1</span><span class="">9</span><span class="">0</span><span class="">2</span><span class="">2</span><span class="">7</span><span class=""> </span><span class="">(</span><span class="">R</span><span class="">e</span><span class="">d</span><span class=""> </span><span class="">H</span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">9</span><span class="">.</span><span class="">0</span><span class="">.</span><span class="">1</span><span class="">-</span><span class="">0</span><span class="">.</span><span class="">8</span><span class="">)</span><span class="">]</span><span class=""> </span><span class="">o</span><span class="">n</span><span class=""> </span><span class="">l</span><span class="">i</span><span class="">n</span><span class="">u</span><span class="">x</span><span class="">
</span><span class="">T</span><span class="">y</span><span class="">p</span><span class="">e</span><span class=""> </span><span class="">"</span><span class="">h</span><span class="">e</span><span class="">l</span><span class="">p</span><span class="">"</span><span class="">,</span><span class=""> </span><span class="">"</span><span class="">c</span><span class="">o</span><span class="">p</span><span class="">y</span><span class="">r</span><span class="">i</span><span class="">g</span><span class="">h</span><span class="">t</span><span class="">"</span><span class="">,</span><span class=""> </span><span class="">"</span><span class="">c</span><span class="">r</span><span class="">e</span><span class="">d</span><span class="">i</span><span class="">t</span><span class="">s</span><span class="">"</span><span class=""> </span><span class="">o</span><span class="">r</span><span class=""> </span><span class="">"</span><span class="">l</span><span class="">i</span><span class="">c</span><span class="">e</span><span class="">n</span><span class="">s</span><span class="">e</span><span class="">"</span><span class=""> </span><span class="">f</span><span class="">o</span><span class="">r</span><span class=""> </span><span class="">m</span><span class="">o</span><span class="">r</span><span class="">e</span><span class=""> </span><span class="">i</span><span class="">n</span><span class="">f</span><span class="">o</span><span class="">r</span><span class="">m</span><span class="">a</span><span class="">t</span><span class="">i</span><span class="">o</span><span class="">n</span><span class="">.</span><span class="">
</span><span class="">&gt;</span><span class="">&gt;</span><span class="">&gt;</span><span class=""> </span><span class="">i</span><span class="">m</span><span class="">p</span><span class="">o</span><span class="">r</span><span class="">t</span><span class=""> </span><span class="">w</span><span class="">x</span><span class="">
</span><span class="">&gt;</span><span class="">&gt;</span><span class="">&gt;</span><span class=""> </span><span class="">w</span><span class="">x</span><span class="">.</span><span class="">v</span><span class="">e</span><span class="">r</span><span class="">s</span><span class="">i</span><span class="">o</span><span class="">n</span><span class="">(</span><span class="">)</span><span class="">
</span><span class="">'</span><span class="">4</span><span class="">.</span><span class="">0</span><span class="">.</span><span class="">4</span><span class=""> </span><span class="">g</span><span class="">t</span><span class="">k</span><span class="">3</span><span class=""> </span><span class="">(</span><span class="">p</span><span class="">h</span><span class="">o</span><span class="">e</span><span class="">n</span><span class="">i</span><span class="">x</span><span class="">)</span><span class=""> </span><span class="">w</span><span class="">x</span><span class="">W</span><span class="">i</span><span class="">d</span><span class="">g</span><span class="">e</span><span class="">t</span><span class="">s</span><span class=""> </span><span class="">3</span><span class="">.</span><span class="">0</span><span class="">.</span><span class="">4</span><span class="">'</span><span class="">
</span></pre></div>

</div>

<p>To solve this problem, I replaced the mock function <code>PostEvent</code> with one that simply discards its input like this:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="n">m</span><span class="n">o</span><span class="n">c</span><span class="n">k</span><span class="o">.</span><span class="n">P</span><span class="n">o</span><span class="n">s</span><span class="n">t</span><span class="n">E</span><span class="n">v</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">l</span><span class="k">a</span><span class="k">m</span><span class="k">b</span><span class="k">d</span><span class="k">a</span><span class=""> </span><span class="n">x</span><span class="p">:</span><span class=""> </span><span class="bp">N</span><span class="bp">o</span><span class="bp">n</span><span class="bp">e</span><span class="">
</span></pre></div>

</div>

<p>This way there is no custom wx event to garbage collect. In Timeline's case, it was not important to store the event in the mock object anyway.</p>

<p>If you have any idea why this example causes a segfault, I would be interested to know. It feels like an error in the wxPython wrapper.</p>

]]></summary>
</entry>
<entry>
    <title>Alan Kay notes</title>
    <link href="http://rickardlindberg.me/writing/alan-kay-notes/" />
    <id>http://rickardlindberg.me/writing/alan-kay-notes/</id>
    <published>2019-09-25T00:00:00Z</published>
    <updated>2019-09-25T00:00:00Z</updated>
    <summary type="html"><![CDATA[<h1>Alan Kay notes</h1>

<p><em>Published on 25 September 2019.</em></p>

<p>Back in 2012 I watched a talk by Alan Kay called <a href="https://youtu.be/YyIQKBzIuBY">Programming and Scaling</a> in which he talks about how software today has gotten so complex that we can’t comprehend it. Ever since then I’ve been interested in his ideas. In this post I summarize notes and quotes that I’ve gathered while studying Kay and related topics. Fogus did a similar post to this called <a href="http://blog.fogus.me/2018/10/25/soup/">Soup</a>.</p>
<h2 id="how-to-tackle-complexity">How to tackle complexity?</h2>
<p>In the talk Kay hints at one way to tackle complexity which involves solving problems in higher level languages. After listening to his talk and also reading <a href="https://mitpress.mit.edu/sites/default/files/sicp/full-text/book/book.html">SICP</a> in university, I had the following though about how to tackle complexity in software:</p>
<p>Different coordinate systems are suited for different math problems. Choosing the right coordinate system makes the problem easier to solve. The same should be true for programming problems. Each problem probably has an ideal programming language in which it can be solved. The task for a programmer should be to find that language, implement it, and solve the problem in that language.</p>
<p>The ideal language is found if no accidental complexity is present when the problem is solved in that language. That will also make the problem be expressed in few lines of code. So a crude metric of well written software is its size.</p>
<h2 id="steps-project">STEPS project</h2>
<p>Then I found out about the STEPS project (from <a href="http://vpri.org/">VPRI</a>) initiated by Kay in which they try to significantly reduce the number of lines of code required to implement “personal computing”. They do it partly by inventing new languages suited to the problems at hand.</p>
<p>The best overview of the STEPS project I think is the NSF proposal and the progress reports:</p>
<ul>
<li><p><a href="http://www.vpri.org/pdf/rn2006002_nsfprop.pdf">Proposal to NSF – Granted on August 31st 2006</a> (<a href="rn2006002_nsfprop.pdf">mirror</a>)</p></li>
<li><p><a href="http://www.vpri.org/pdf/tr2007008_steps.pdf">STEPS Toward The Reinvention of Programming</a> (<a href="tr2007008_steps.pdf">mirror</a>) (First Year Progress Report, December 2007.)</p></li>
<li><p><a href="http://www.vpri.org/pdf/tr2008004_steps08.pdf">STEPS Toward The Reinvention of Programming, 2008 Progress Report Submitted to the National Science Foundation (NSF), October 2008</a> (<a href="tr2008004_steps08.pdf">mirror</a>)</p></li>
<li><p><a href="http://www.vpri.org/pdf/tr2009016_steps09.pdf">STEPS Toward The Reinvention of Programming, 2009 Progress Report Submitted to the National Science Foundation (NSF) October 2009</a> (<a href="tr2009016_steps09.pdf">mirror</a>)</p></li>
<li><p><a href="http://www.vpri.org/pdf/tr2010004_steps10.pdf">STEPS Toward Expressive Programming Systems, 2010 Progress Report Submitted to the National Science Foundation (NSF) October 2010</a> (<a href="tr2010004_steps10.pdf">mirror</a>)</p></li>
<li><p><a href="http://www.vpri.org/pdf/tr2011004_steps11.pdf">Steps Toward Expressive Programming Systems</a> (<a href="tr2011004_steps11.pdf">mirror</a>) (Annual report to the NSF)</p></li>
<li><p><a href="http://www.vpri.org/pdf/tr2012001_steps.pdf">STEPS Toward the Reinvention of Programming, 2012 Final Report Submitted to the National Science Foundation (NSF) October 2012</a> (<a href="tr2012001_steps.pdf">mirror</a>)</p></li>
</ul>
<p>All their writings can be found <a href="http://vpri.org/writings.php">here</a>. Some favorites of mine:</p>
<ul>
<li><a href="http://www.vpri.org/pdf/tr2008003_experimenting.pdf">Experimenting With Programming Languages</a> (<a href="tr2008003_experimenting.pdf">mirror</a>)</li>
<li><a href="http://www.vpri.org/pdf/rn2010001_programm.pdf">Programming and Programming Languages</a> (<a href="rn2010001_programm.pdf">mirror</a>)</li>
<li><a href="http://www.vpri.org/pdf/tr2006003a_objmod.pdf">Open Reusable Object Models</a> (<a href="tr2006003a_objmod.pdf">mirror</a>)</li>
<li><a href="http://www.vpri.org/pdf/tr2009002_active_essays.pdf">Active Essays on the Web</a> (<a href="tr2009002_active_essays.pdf">mirror</a>)</li>
<li><a href="http://www.vpri.org/pdf/m2009011_chns_mng.pdf">Chains of meaning in the STEPS system</a> (<a href="m2009011_chns_mng.pdf">mirror</a>)</li>
<li><a href="http://www.vpri.org/pdf/m2013003_ksapps.pdf">Making Applications in KSWorld</a> (<a href="m2013003_ksapps.pdf">mirror</a>)</li>
<li><a href="http://www.vpri.org/pdf/tr2013002_KSonward.pdf">KScript and KSworld: A Time-Aware and Mostly Declarative Language and Interactive GUI Framework</a> (<a href="tr2013002_KSonward.pdf">mirror</a>)</li>
</ul>
<p>The STEPS project has many components. One of them is OMeta (described in <em>Experimenting With Programming Languages</em>) which inspired me to implement <a href="/tags/rlmeta/index.html">RLMeta</a>.</p>
<p>A blog post series mentioning the STEPS project and related ideas:</p>
<ul>
<li><a href="https://www.moserware.com/2008/04/towards-moores-law-software-part-1-of-3.html">Towards Moore’s Law Software: Part 1 of 3</a></li>
<li><a href="https://www.moserware.com/2008/04/towards-moores-law-software-part-2-of-3.html">Towards Moore’s Law Software: Part 2 of 3</a></li>
<li><a href="https://www.moserware.com/2008/04/towards-moores-law-software-part-3-of-3.html">Towards Moore’s Law Software: Part 3 of 3</a></li>
</ul>
<h2 id="object-oriented-programming">Object oriented programming</h2>
<p>Kay invented the term object oriented. But I get the feeling that mainstream object oriented programming today is not what he meant it to be. I tried to figure out what he meant it to be. Here are some quotes that I found relevant:</p>
<p>From Kay from <a href="http://worrydream.com/EarlyHistoryOfSmalltalk/">The Early History Of Smalltalk - Bret Victor</a>:</p>
<blockquote>
<p>Somewhere in all of this, I realized that the bridge to an object-based system could be in terms of each object as a syntax directed interpreter of messages sent to it. In one fell swoop this would unify object-oriented semantics with the ideal of a completely extensible language. The mental image was one of separate computers sending requests to other computers that had to be accepted and understood by the receivers before anything could happen. In today’s terms every object would be a server offering services whose deployment and discretion depended entirely on the server’s notion of relationship with the servee.</p>
</blockquote>
<p>From Kay from <a href="http://worrydream.com/EarlyHistoryOfSmalltalk/">The Early History Of Smalltalk - Bret Victor</a>:</p>
<blockquote>
<p>Again, the whole point of OOP is not to have to worry about what is inside an object. Objects made on different machines and with different languages should be able to talk to each other—and will have to in the future. Late-binding here involves trapping incompatibilities into recompatibility methods—a good discussion of some of the issues is found in [Popek 1984].</p>
</blockquote>
<p>From Kay from <a href="http://lists.squeakfoundation.org/pipermail/squeak-dev/1998-October/017019.html">prototypes vs classes was: Re: Sun’s HotSpot</a>:</p>
<blockquote>
<p>Just a gentle reminder that I took some pains at the last OOPSLA to try to remind everyone that Smalltalk is not only NOT its syntax or the class library, it is not even about classes. I’m sorry that I long ago coined the term “objects” for this topic because it gets many people to focus on the lesser idea.</p>
<p>The big idea is “messaging” – that is what the kernal of Smalltalk/Squeak is all about (and it’s something that was never quite completed in our Xerox PARC phase).</p>
</blockquote>
<p>From Kay from <a href="http://www.purl.org/stefan_ram/pub/doc_kay_oop_en">Dr. Alan Kay on the Meaning of “Object-Oriented Programming”</a>:</p>
<blockquote>
<p>I thought of objects being like biological cells and/or individual computers on a network, only able to communicate with messages (so messaging came at the very beginning – it took a while to see how to do messaging in a programming language efficiently enough to be useful).</p>
</blockquote>
<p>From Kay from <a href="http://www.purl.org/stefan_ram/pub/doc_kay_oop_en">Dr. Alan Kay on the Meaning of “Object-Oriented Programming”</a>:</p>
<blockquote>
<p>I wanted to get rid of data. The B5000 almost did this via its almost unbelievable HW architecture. I realized that the cell/whole-computer metaphor would get rid of data, and that “&lt;-” would be just another message token (it took me quite a while to think this out because I really thought of all these symbols as names for functions and procedures.</p>
</blockquote>
<p>From Kay from <a href="http://www.purl.org/stefan_ram/pub/doc_kay_oop_en">Dr. Alan Kay on the Meaning of “Object-Oriented Programming”</a>:</p>
<blockquote>
<p>The original Smalltalk at Xerox PARC came out of the above. The subsequent Smalltalk’s are complained about in the end of the History chapter: they backslid towards Simula and did not replace the extension mechanisms with safer ones that were anywhere near as useful.</p>
</blockquote>
<p>From Kay from <a href="http://www.purl.org/stefan_ram/pub/doc_kay_oop_en">Dr. Alan Kay on the Meaning of “Object-Oriented Programming”</a>:</p>
<blockquote>
<p>OOP to me means only messaging, local retention and protection and hiding of state-process, and extreme late-binding of all things. It can be done in Smalltalk and in LISP. There are possibly other systems in which this is possible, but I’m not aware of them.</p>
</blockquote>
<p>From a user in the <a href="https://news.ycombinator.com/item?id=19415983">Hacker News thread</a> discussing the above article:</p>
<blockquote>
<p>Containers are a validation of Kay’s idea that sharing encapsulated objects is easier than sharing data.</p>
</blockquote>
<p>From a user in the <a href="https://news.ycombinator.com/item?id=19415983">Hacker News thread</a> discussing the above article:</p>
<blockquote>
<p>Because a lot of people (including me) have a Simula based view of “object oriented”, we tend to think of objects as data structures with functions attached to them. Alan Kay had a different view, as far as I can tell. He viewed objects as being a collection of abilities. You could invoke these abilities by sending the object a “message”. How you send that message is irrelevant. The important thing is that the object is not a collection of data, but rather the object contains the program state necessary to provide the ability (and nothing more). One of the things he talks about (I can’t remember if he does in this specific email exchange, though) is the idea that once the data is inside the object, you can’t actually access it any more. It becomes a detail that the programmer doesn’t have to worry about.</p>
</blockquote>
<p>From a user in the <a href="https://news.ycombinator.com/item?id=19415983">Hacker News thread</a> discussing the above article:</p>
<blockquote>
<p>Smalltalk had to cut corners with messaging due to the limited processing of the time, nevertheless it has fully reified messages; one can express the sending of messages between objects.</p>
<p>Smalltalk inspired Erlang, which is the fully-asynchronous messaging/independent threads of execution part of OO only.</p>
<p>Self did OO without inheritance (composition by prototypes).</p>
</blockquote>
<h2 id="late-binding">Late binding</h2>
<p>Late-binding is another idea that Kay talks about that I want to understand better.</p>
<p>From Kay from <a href="http://worrydream.com/EarlyHistoryOfSmalltalk/">The Early History Of Smalltalk - Bret Victor</a>:</p>
<blockquote>
<p>Staying with the metaphor of late-binding, what further late-binding schemes might we expect to see? One of the nicest late-binding schemes that is being experimented with is the metaobject protocol work at Xerox PARC [Kiczales 1991]. The notion is that the language designer’s choice for the internal representation of instances, variables, etc., may not cover what the implementer needs, so within a fixed semantics they allow the implementer to give the system strategies—for example, using a hashed lookup for slots in an instance instead of direct indexing. These are then efficiently compiled and extend the base implementation of the system.</p>
</blockquote>
<h2 id="direct-manipulation">Direct manipulation</h2>
<p>From Kay from <a href="https://www.quora.com/What-exactly-is-WYSIWYG/answer/Alan-Kay-11">What exactly is WYSIWYG?</a>:</p>
<blockquote>
<p>In programming, you don’t want to go through a edit in an editor, submit to a compiler, which submits to a loader, which requires your system to intiialize, and so forth. You just want to be able to deal directly and safely with what you are trying to achieve.</p>
</blockquote>
<p>A related idea about no modes is presented by Larry Tesler in <a href="http://worrydream.com/refs/Tesler%20-%20A%20Personal%20History%20of%20Modeless%20Text%20Editing%20and%20Cut-Copy-Paste.pdf">A Personal History of Modeless Text Editing and Cut/Copy-Paste</a>.</p>
<h2 id="random-topics">Random topics</h2>
<p>Other topics that I got from Kay:</p>
<ul>
<li>What vs. How Programming: State the problem, then let the computer solve the problem: what programming instead of how programming.</li>
<li>Living in the Future: University students need powerful machines so that they can code like they live in the future. So that they can code without caring about optimizations.</li>
<li>Most people can only see the future through the past.</li>
<li>Learning to See:
<ul>
<li>Drawing without “parsing” the object.</li>
<li>Turn it upside down and just draw it like you see it.</li>
<li>Measure instead of perceive.</li>
</ul></li>
<li>Engineering Vs. Science Vs. Tinkering.</li>
<li>T-shirt Programming.</li>
<li>Meta Language.</li>
<li>Computing History.</li>
<li>Inventing Future.</li>
</ul>
<h2 id="further-reading">Further reading</h2>
<ul>
<li><a href="https://news.ycombinator.com/item?id=11808551">Ask HN: Relationship between OO and functional programming?</a></li>
<li><a href="https://news.ycombinator.com/item?id=11939851">Alan Kay has agreed to do an AMA today</a></li>
<li><a href="http://www.chilton-computing.org.uk/inf/pdfs/kay.htm">The Reactive Engine</a></li>
<li><a href="https://www.youtube.com/results?search_query=alan+kay">Alan Kay search on Youtube</a></li>
<li><a href="https://github.com/d-cook/SomethingNew">SomethingNew</a></li>
</ul>
]]></summary>
</entry>
<entry>
    <title>Parsing left associative operators using RLMeta</title>
    <link href="http://rickardlindberg.me/writing/rlmeta-left-associativity/" />
    <id>http://rickardlindberg.me/writing/rlmeta-left-associativity/</id>
    <published>2019-09-07T00:00:00Z</published>
    <updated>2019-09-07T00:00:00Z</updated>
    <summary type="html"><![CDATA[<h1>Parsing left associative operators using RLMeta</h1>

<p><em>Published on 2019-09-07.</em></p>

<p>The <a href="/writing/rlmeta/index.html">first article</a> about RLMeta has this example grammar implementing a simple calculator:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">C</span><span class="">a</span><span class="">l</span><span class="">c</span><span class="">u</span><span class="">l</span><span class="">a</span><span class="">t</span><span class="">o</span><span class="">r</span><span class=""> </span><span class="">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class="">e</span><span class="">s</span><span class="">s</span><span class="">i</span><span class="">o</span><span class="">n</span><span class=""> </span><span class="nb">=</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">i</span><span class="">t</span><span class="">i</span><span class="">v</span><span class="">e</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">i</span><span class="">t</span><span class="">i</span><span class="">v</span><span class="">e</span><span class=""> </span><span class="nb">=</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">m</span><span class="">u</span><span class="">l</span><span class="">t</span><span class="">i</span><span class="">t</span><span class="">i</span><span class="">v</span><span class="">e</span><span class="nb">:</span><span class="">x</span><span class=""> </span><span class="sc">'</span><span class="sc">+</span><span class="sc">'</span><span class=""> </span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">i</span><span class="">t</span><span class="">i</span><span class="">v</span><span class="">e</span><span class="nb">:</span><span class="">y</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">(</span><span class="">x</span><span class=""> </span><span class="">y</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">m</span><span class="">u</span><span class="">l</span><span class="">t</span><span class="">i</span><span class="">t</span><span class="">i</span><span class="">v</span><span class="">e</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">m</span><span class="">u</span><span class="">l</span><span class="">t</span><span class="">i</span><span class="">t</span><span class="">i</span><span class="">v</span><span class="">e</span><span class=""> </span><span class="nb">=</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class="nb">:</span><span class="">x</span><span class=""> </span><span class="sc">'</span><span class="sc">*</span><span class="sc">'</span><span class=""> </span><span class="">m</span><span class="">u</span><span class="">l</span><span class="">t</span><span class="">i</span><span class="">t</span><span class="">i</span><span class="">v</span><span class="">e</span><span class="nb">:</span><span class="">y</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">m</span><span class="">u</span><span class="">l</span><span class="">(</span><span class="">x</span><span class=""> </span><span class="">y</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class=""> </span><span class="nb">=</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="sc">'</span><span class="sc">0</span><span class="sc">'</span><span class="nc">-</span><span class="sc">'</span><span class="sc">9</span><span class="sc">'</span><span class="nb">:</span><span class="">x</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">i</span><span class="">n</span><span class="">t</span><span class="">(</span><span class="">x</span><span class="">)</span><span class="">
</span><span class="">}</span><span class="">
</span></pre></div>

</div>

<p>It works, but if we were to add a second case to support subtraction, it would break because subtraction is a left associate operator but the calculator creates a right associative parse. In this article I show how it would brake and how it can be solved.</p>

<ul><li><a href="#37144d09790c48a3bbdc3485473b5416">What is operator associativity?</a>

</li>

<li><a href="#cb24f5d3a7df423e9081889d4a2d3785">Right associative calculator</a>

</li>

<li><a href="#8366ac579e1e4be9930317242abd5dd6">Left associative calculator</a>

</li>

<li><a href="#855b50c552e54c0895128e7e86da55e9">Correct left associative calculator</a>

</li>

<li><a href="#736626ed0c3c4fea922cc4f14c5cda38">Right associative calculator without recursion</a>

</li>

<li><a href="#ae39c406658e4cd287411ab2c76710f8">Calculator combining operators</a>

</li>

<li><a href="#063f23a343574259bf31debb9b8425bf">Cleaner handling of precedence</a>

</li>

<li><a href="#24d9bf94e3b64dfba2841df8b3cf00b1">Comparison of operator parsers</a>

</li>

<li><a href="#5cca99df2e2c4c78ab4bfe4cb946d89a">Resources</a>

</li>

<li><a href="#c1716e6e63034983a86a1c9f621b2a52">Appendix: Test script</a>

</li>

</ul><h2><a name="37144d09790c48a3bbdc3485473b5416"></a>What is operator associativity?</h2>

<p>Operator associativity has to do with the order that operators are evaluated. The following expression can be evaluated in two ways:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">1</span><span class="">-</span><span class="">2</span><span class="">-</span><span class="">3</span><span class="">
</span></pre></div>

</div>

<p>Either as this (if the operator is left associative):</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">(</span><span class="">1</span><span class="">-</span><span class="">2</span><span class="">)</span><span class="">-</span><span class="">3</span><span class="">
</span></pre></div>

</div>

<p>Or as this (if the operator is right associative):</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">1</span><span class="">-</span><span class="">(</span><span class="">2</span><span class="">-</span><span class="">3</span><span class="">)</span><span class="">
</span></pre></div>

</div>

<p>Let's see how the calculator evaluates expressions.</p>

<h2><a name="cb24f5d3a7df423e9081889d4a2d3785"></a>Right associative calculator</h2>

<p>The following grammar works like the calculator but only supports subtraction:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>right.rlmeta</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="">C</span><span class="">a</span><span class="">l</span><span class="">c</span><span class="">u</span><span class="">l</span><span class="">a</span><span class="">t</span><span class="">o</span><span class="">r</span><span class=""> </span><span class="">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class="nb">:</span><span class="">x</span><span class=""> </span><span class="sc">'</span><span class="sc">-</span><span class="sc">'</span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class="nb">:</span><span class="">y</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">s</span><span class="">u</span><span class="">b</span><span class="">(</span><span class="">x</span><span class=""> </span><span class="">y</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="sc">'</span><span class="sc">0</span><span class="sc">'</span><span class="nc">-</span><span class="sc">'</span><span class="sc">9</span><span class="sc">'</span><span class="nb">:</span><span class="">x</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">i</span><span class="">n</span><span class="">t</span><span class="">(</span><span class="">x</span><span class="">)</span><span class="">
</span><span class="">}</span><span class="">
</span></pre></div>

</div>

<p>The <code>sub</code> function is implemented in two ways. The first creates an AST node representing a subtraction:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>ast.py</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">s</span><span class="nf">u</span><span class="nf">b</span><span class="p">(</span><span class="n">l</span><span class="n">e</span><span class="n">f</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">h</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="p">[</span><span class="s2">"</span><span class="s2">-</span><span class="s2">"</span><span class="p">,</span><span class=""> </span><span class="n">l</span><span class="n">e</span><span class="n">f</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">h</span><span class="n">t</span><span class="p">]</span><span class="">
</span></pre></div>

</div>

<p>The second evaluates the subtraction expression:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>eval.py</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">s</span><span class="nf">u</span><span class="nf">b</span><span class="p">(</span><span class="n">l</span><span class="n">e</span><span class="n">f</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">h</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">l</span><span class="n">e</span><span class="n">f</span><span class="n">t</span><span class=""> </span><span class="o">-</span><span class=""> </span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">h</span><span class="n">t</span><span class="">
</span></pre></div>

</div>

<p>Let's see how the calculator handles the following two expressions:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">1</span><span class="">-</span><span class="">2</span><span class="">
</span><span class="">1</span><span class="">-</span><span class="">2</span><span class="">-</span><span class="">3</span><span class="">
</span></pre></div>

</div>

<p>Below are the ASTs and the evaluated results:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">[</span><span class="">'</span><span class="">-</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">1</span><span class="">,</span><span class=""> </span><span class="">2</span><span class="">]</span><span class="">
</span><span class="">=</span><span class="">&gt;</span><span class="">
</span><span class="">-</span><span class="">1</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">'</span><span class="">-</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">-</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">2</span><span class="">,</span><span class=""> </span><span class="">3</span><span class="">]</span><span class="">]</span><span class="">
</span><span class="">=</span><span class="">&gt;</span><span class="">
</span><span class="">2</span><span class="">
</span></pre></div>

</div>

<p>For an expression with only two numbers, the calculator works as expected. But with more numbers, the parse is incorrect. The calculator parses <code>1-2-3</code> as <code>1-(2-3)</code> which is incorrect because subtraction is left associative and should thus be parsed as <code>(1-2)-3</code>.</p>

<p>The original calculator does not have this problem because it only supports operators that evaluate the same no matter if parsed as left associative or right associative.</p>

<p>If we strip the semantic actions from the <code>expr</code> rule it is easier to see what creates this right associative parse:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class=""> </span><span class="sc">'</span><span class="sc">-</span><span class="sc">'</span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class="">
</span></pre></div>

</div>

<p>The topmost expression will be parsed as a digit followed by an arbitrary complex expression: <code>(digit - (...))</code>.</p>

<p>Let's see if we can get a left associative parse instead.</p>

<h2><a name="8366ac579e1e4be9930317242abd5dd6"></a>Left associative calculator</h2>

<p>In order to get a left associate parse (that we need for subtraction) we would like to write the <code>expr</code> rule like this instead:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class=""> </span><span class="sc">'</span><span class="sc">-</span><span class="sc">'</span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class="">
</span></pre></div>

</div>

<p>The whole grammar would then look like this:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>left.rlmeta</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="">C</span><span class="">a</span><span class="">l</span><span class="">c</span><span class="">u</span><span class="">l</span><span class="">a</span><span class="">t</span><span class="">o</span><span class="">r</span><span class=""> </span><span class="">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class="nb">:</span><span class="">x</span><span class=""> </span><span class="sc">'</span><span class="sc">-</span><span class="sc">'</span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class="nb">:</span><span class="">y</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">s</span><span class="">u</span><span class="">b</span><span class="">(</span><span class="">x</span><span class=""> </span><span class="">y</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="sc">'</span><span class="sc">0</span><span class="sc">'</span><span class="nc">-</span><span class="sc">'</span><span class="sc">9</span><span class="sc">'</span><span class="nb">:</span><span class="">x</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">i</span><span class="">n</span><span class="">t</span><span class="">(</span><span class="">x</span><span class="">)</span><span class="">
</span><span class="">}</span><span class="">
</span></pre></div>

</div>

<p>Unfortunately, this will not work with the parsing algorithm that RLMeta uses. In order to parse an <code>expr</code> it first has to parse an <code>expr</code> and so on, and it will get stuck in an infinite loop. The parsing algorithm is based on recursive descent parsing and the first choice in the <code>expr</code> rule will thus be translated into something like this:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">e</span><span class="nf">x</span><span class="nf">p</span><span class="nf">r</span><span class="p">(</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">x</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">a</span><span class="n">t</span><span class="n">o</span><span class="n">m</span><span class="p">(</span><span class="s2">"</span><span class="s2">-</span><span class="s2">"</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">y</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">d</span><span class="n">i</span><span class="n">g</span><span class="n">i</span><span class="n">t</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">s</span><span class="n">u</span><span class="n">b</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class=""> </span><span class="n">y</span><span class="p">)</span><span class="">
</span></pre></div>

</div>

<p>We need to handle left associative operators differently.</p>

<h2><a name="855b50c552e54c0895128e7e86da55e9"></a>Correct left associative calculator</h2>

<p>The right associative parse that we saw earlier can be rewritten using a repetition:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class=""> </span><span class="sc">'</span><span class="sc">-</span><span class="sc">'</span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class="">
</span></pre></div>

</div>

<p>It then becomes this:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class=""> </span><span class="">(</span><span class="sc">'</span><span class="sc">-</span><span class="sc">'</span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class="">)</span><span class="nc">*</span><span class="">
</span></pre></div>

</div>

<p>It parses the same expressions, but it does not create a right associative parse. What does it create? Something that consist of a digit and a list of something. We can turn this into a parse tree using a function that we call <code>leftAssoc</code>. Here is the complete grammar:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>left_correct.rlmeta</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="">C</span><span class="">a</span><span class="">l</span><span class="">c</span><span class="">u</span><span class="">l</span><span class="">a</span><span class="">t</span><span class="">o</span><span class="">r</span><span class=""> </span><span class="">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class="nb">:</span><span class="">x</span><span class=""> </span><span class="">(</span><span class="">o</span><span class="">p</span><span class="nb">:</span><span class="">y</span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class="nb">:</span><span class="">z</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">y</span><span class=""> </span><span class="">z</span><span class="">]</span><span class="">)</span><span class="nc">*</span><span class="nb">:</span><span class="">x</span><span class="">s</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">l</span><span class="">e</span><span class="">f</span><span class="">t</span><span class="">A</span><span class="">s</span><span class="">s</span><span class="">o</span><span class="">c</span><span class="">(</span><span class="">x</span><span class=""> </span><span class="">x</span><span class="">s</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="sc">'</span><span class="sc">0</span><span class="sc">'</span><span class="nc">-</span><span class="sc">'</span><span class="sc">9</span><span class="sc">'</span><span class="nb">:</span><span class="">x</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">i</span><span class="">n</span><span class="">t</span><span class="">(</span><span class="">x</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">o</span><span class="">p</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="sc">'</span><span class="sc">-</span><span class="sc">'</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">m</span><span class="">a</span><span class="">k</span><span class="">e</span><span class="">S</span><span class="">u</span><span class="">b</span><span class="">(</span><span class="">)</span><span class="">
</span><span class="">}</span><span class="">
</span></pre></div>

</div>

<p>In the semantic action for <code>expr</code>, <code>x</code> is bound to a digit, and <code>xs</code> is bound to a list of pairs consisting of an operator and a digit: <code>[[op, digit], [op, digit], ...]</code>. The operator is a function that takes two arguments: the left hand side and the right hand side. (<code>makeSub</code> returns the <code>sub</code> function. It is used because currently global variables can not be referenced from semantic actions. Only global functions.) The function <code>leftAssoc</code> turns this into a left associative tree:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>support.py</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">l</span><span class="nf">e</span><span class="nf">f</span><span class="nf">t</span><span class="nf">A</span><span class="nf">s</span><span class="nf">s</span><span class="nf">o</span><span class="nf">c</span><span class="p">(</span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="p">,</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">w</span><span class="k">h</span><span class="k">i</span><span class="k">l</span><span class="k">e</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">o</span><span class="n">p</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">h</span><span class="n">s</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="o">.</span><span class="n">p</span><span class="n">o</span><span class="n">p</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">o</span><span class="n">p</span><span class="p">(</span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">h</span><span class="n">s</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="">
</span></pre></div>

</div>

<p>Here is how the expression <code>1-2-3</code> is parsed:</p>

<ul><li><code>leftAssoc</code> is called with <code>expr=1</code> and <code>items=[[sub, 2], [sub, 3]]</code>.</li>

<li>Since there are still items, the loop is entered<ul><li><code>op=sub</code> and <code>rhs=2</code></li>

<li><code>expr=sub(1, 2)</code></li>

</ul>

</li>

<li>Since there are still items, the loop is entered<ul><li><code>op=sub</code> and <code>rhs=3</code></li>

<li><code>expr=sub(sub(1, 2), 3)</code></li>

</ul>

</li>

<li>Since there are no more items, <code>sub(sub(1, 2), 3)</code> is returned</li>

</ul>

<p>Let's verify that the calculator handles the following expressions as intended:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">1</span><span class="">-</span><span class="">2</span><span class="">
</span><span class="">1</span><span class="">-</span><span class="">2</span><span class="">-</span><span class="">3</span><span class="">
</span></pre></div>

</div>

<p>Below are the ASTs and the evaluated results:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">[</span><span class="">'</span><span class="">-</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">1</span><span class="">,</span><span class=""> </span><span class="">2</span><span class="">]</span><span class="">
</span><span class="">=</span><span class="">&gt;</span><span class="">
</span><span class="">-</span><span class="">1</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">'</span><span class="">-</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">-</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">1</span><span class="">,</span><span class=""> </span><span class="">2</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">3</span><span class="">]</span><span class="">
</span><span class="">=</span><span class="">&gt;</span><span class="">
</span><span class="">-</span><span class="">4</span><span class="">
</span></pre></div>

</div>

<p>And indeed it does. We have now successfully parsed a left associate operator using RLMeta.</p>

<h2><a name="736626ed0c3c4fea922cc4f14c5cda38"></a>Right associative calculator without recursion</h2>

<p>We can handle a right associative parse in RLMeta with a recursive rule as we have seen before:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class=""> </span><span class="sc">'</span><span class="sc">-</span><span class="sc">'</span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class="">
</span></pre></div>

</div>

<p>However, we can also obtain a right associative parse by parsing operators as a list and then converting them into an AST with a <code>rightAssoc</code> function. Here is a grammar that supports only exponentiation which is right associative:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>right_no_recursion.rlmeta</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="">C</span><span class="">a</span><span class="">l</span><span class="">c</span><span class="">u</span><span class="">l</span><span class="">a</span><span class="">t</span><span class="">o</span><span class="">r</span><span class=""> </span><span class="">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class="nb">:</span><span class="">x</span><span class=""> </span><span class="">(</span><span class="">o</span><span class="">p</span><span class="nb">:</span><span class="">y</span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class="nb">:</span><span class="">z</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">y</span><span class=""> </span><span class="">z</span><span class="">]</span><span class="">)</span><span class="nc">*</span><span class="nb">:</span><span class="">x</span><span class="">s</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">r</span><span class="">i</span><span class="">g</span><span class="">h</span><span class="">t</span><span class="">A</span><span class="">s</span><span class="">s</span><span class="">o</span><span class="">c</span><span class="">(</span><span class="">x</span><span class=""> </span><span class="">x</span><span class="">s</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="sc">'</span><span class="sc">0</span><span class="sc">'</span><span class="nc">-</span><span class="sc">'</span><span class="sc">9</span><span class="sc">'</span><span class="nb">:</span><span class="">x</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">i</span><span class="">n</span><span class="">t</span><span class="">(</span><span class="">x</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">o</span><span class="">p</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="sc">'</span><span class="sc">^</span><span class="sc">'</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">m</span><span class="">a</span><span class="">k</span><span class="">e</span><span class="">P</span><span class="">o</span><span class="">w</span><span class="">(</span><span class="">)</span><span class="">
</span><span class="">}</span><span class="">
</span></pre></div>

</div>

<p>It has the exact same structure as the previous calculator, only now a different function is called to create the parse tree. The <code>rightAssoc</code> function is also similar in structure to the <code>leftAssoc</code> function, but the loop is replaced with an if statement followed by a recursive call:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>support.py</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">r</span><span class="nf">i</span><span class="nf">g</span><span class="nf">h</span><span class="nf">t</span><span class="nf">A</span><span class="nf">s</span><span class="nf">s</span><span class="nf">o</span><span class="nf">c</span><span class="p">(</span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="p">,</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">o</span><span class="n">p</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">h</span><span class="n">s</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="o">.</span><span class="n">p</span><span class="n">o</span><span class="n">p</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">o</span><span class="n">p</span><span class="p">(</span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">h</span><span class="n">t</span><span class="n">A</span><span class="n">s</span><span class="n">s</span><span class="n">o</span><span class="n">c</span><span class="p">(</span><span class="n">r</span><span class="n">h</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="">
</span></pre></div>

</div>

<p>Here is how the expression <code>3^2^2</code> is parsed:</p>

<ul><li><code>rightAssoc</code> is called with <code>expr=3</code> and <code>items=[[pow, 2], [pow, 2]]</code></li>

<li>Since there are still items, the if statement is entered<ul><li><code>op=pow</code> and <code>rhs=2</code></li>

<li><code>expr=pow(3, rightAssoc(2, [[pow, 2]])</code></li>

</ul>

</li>

<li><code>rightAssoc</code> is called with <code>expr=2</code> and <code>items=[[pow, 2]]</code></li>

<li>Since there are still items, the if statement is entered<ul><li><code>op=pow</code> and <code>rhs=2</code></li>

<li><code>expr=pow(2, rightAssoc(2, [])</code></li>

</ul>

</li>

<li><code>rightAssoc</code> is called with <code>expr=2</code> and <code>items=[]</code></li>

<li>Since there are no more items, <code>2</code> is returned</li>

<li>The parent call returns <code>pow(2, 2)</code></li>

<li>The parent call returns <code>pow(3, pow(2, 2))</code></li>

</ul>

<p>The two <code>pow</code> functions are defined like this:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>ast.py</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">p</span><span class="nf">o</span><span class="nf">w</span><span class="p">(</span><span class="n">l</span><span class="n">e</span><span class="n">f</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">h</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="p">[</span><span class="s2">"</span><span class="s2">^</span><span class="s2">"</span><span class="p">,</span><span class=""> </span><span class="n">l</span><span class="n">e</span><span class="n">f</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">h</span><span class="n">t</span><span class="p">]</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>eval.py</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">p</span><span class="nf">o</span><span class="nf">w</span><span class="p">(</span><span class="n">l</span><span class="n">e</span><span class="n">f</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">h</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">l</span><span class="n">e</span><span class="n">f</span><span class="n">t</span><span class=""> </span><span class="o">*</span><span class="o">*</span><span class=""> </span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">h</span><span class="n">t</span><span class="">
</span></pre></div>

</div>

<p>Let's verify that the calculator handles the following expressions as intended:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">3</span><span class="">^</span><span class="">2</span><span class="">
</span><span class="">3</span><span class="">^</span><span class="">2</span><span class="">^</span><span class="">2</span><span class="">
</span></pre></div>

</div>

<p>Below are the ASTs and the evaluated results:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">[</span><span class="">'</span><span class="">^</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">3</span><span class="">,</span><span class=""> </span><span class="">2</span><span class="">]</span><span class="">
</span><span class="">=</span><span class="">&gt;</span><span class="">
</span><span class="">9</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">'</span><span class="">^</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">3</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">^</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">2</span><span class="">,</span><span class=""> </span><span class="">2</span><span class="">]</span><span class="">]</span><span class="">
</span><span class="">=</span><span class="">&gt;</span><span class="">
</span><span class="">8</span><span class="">1</span><span class="">
</span></pre></div>

</div>

<p>And indeed it does.</p>

<h2><a name="ae39c406658e4cd287411ab2c76710f8"></a>Calculator combining operators</h2>

<p>Now that we know how to handle both left and right associative operators, we can extend the calculator to handle more operators:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>calculator.rlmeta</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="">C</span><span class="">a</span><span class="">l</span><span class="">c</span><span class="">u</span><span class="">l</span><span class="">a</span><span class="">t</span><span class="">o</span><span class="">r</span><span class=""> </span><span class="">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class="">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class="">1</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class="">2</span><span class="nb">:</span><span class="">x</span><span class=""> </span><span class="">(</span><span class="">o</span><span class="">p</span><span class="">1</span><span class="nb">:</span><span class="">y</span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class="">2</span><span class="nb">:</span><span class="">z</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">y</span><span class=""> </span><span class="">z</span><span class="">]</span><span class="">)</span><span class="nc">*</span><span class="nb">:</span><span class="">x</span><span class="">s</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">l</span><span class="">e</span><span class="">f</span><span class="">t</span><span class="">A</span><span class="">s</span><span class="">s</span><span class="">o</span><span class="">c</span><span class="">(</span><span class="">x</span><span class=""> </span><span class="">x</span><span class="">s</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class="">2</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class="">3</span><span class="nb">:</span><span class="">x</span><span class=""> </span><span class="">(</span><span class="">o</span><span class="">p</span><span class="">2</span><span class="nb">:</span><span class="">y</span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class="">3</span><span class="nb">:</span><span class="">z</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">y</span><span class=""> </span><span class="">z</span><span class="">]</span><span class="">)</span><span class="nc">*</span><span class="nb">:</span><span class="">x</span><span class="">s</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">l</span><span class="">e</span><span class="">f</span><span class="">t</span><span class="">A</span><span class="">s</span><span class="">s</span><span class="">o</span><span class="">c</span><span class="">(</span><span class="">x</span><span class=""> </span><span class="">x</span><span class="">s</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class="">3</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class="nb">:</span><span class="">x</span><span class=""> </span><span class="">(</span><span class="">o</span><span class="">p</span><span class="">3</span><span class="nb">:</span><span class="">y</span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class="nb">:</span><span class="">z</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">y</span><span class=""> </span><span class="">z</span><span class="">]</span><span class="">)</span><span class="nc">*</span><span class="nb">:</span><span class="">x</span><span class="">s</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">r</span><span class="">i</span><span class="">g</span><span class="">h</span><span class="">t</span><span class="">A</span><span class="">s</span><span class="">s</span><span class="">o</span><span class="">c</span><span class="">(</span><span class="">x</span><span class=""> </span><span class="">x</span><span class="">s</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="sc">'</span><span class="sc">0</span><span class="sc">'</span><span class="nc">-</span><span class="sc">'</span><span class="sc">9</span><span class="sc">'</span><span class="nb">:</span><span class="">x</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">i</span><span class="">n</span><span class="">t</span><span class="">(</span><span class="">x</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">o</span><span class="">p</span><span class="">1</span><span class=""> </span><span class="nb">=</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="sc">'</span><span class="sc">+</span><span class="sc">'</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">m</span><span class="">a</span><span class="">k</span><span class="">e</span><span class="">A</span><span class="">d</span><span class="">d</span><span class="">(</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="sc">'</span><span class="sc">-</span><span class="sc">'</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">m</span><span class="">a</span><span class="">k</span><span class="">e</span><span class="">S</span><span class="">u</span><span class="">b</span><span class="">(</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">o</span><span class="">p</span><span class="">2</span><span class=""> </span><span class="nb">=</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="sc">'</span><span class="sc">*</span><span class="sc">'</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">m</span><span class="">a</span><span class="">k</span><span class="">e</span><span class="">M</span><span class="">u</span><span class="">l</span><span class="">(</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="sc">'</span><span class="sc">/</span><span class="sc">'</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">m</span><span class="">a</span><span class="">k</span><span class="">e</span><span class="">D</span><span class="">i</span><span class="">v</span><span class="">(</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">o</span><span class="">p</span><span class="">3</span><span class=""> </span><span class="nb">=</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="sc">'</span><span class="sc">^</span><span class="sc">'</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">m</span><span class="">a</span><span class="">k</span><span class="">e</span><span class="">P</span><span class="">o</span><span class="">w</span><span class="">(</span><span class="">)</span><span class="">
</span><span class="">}</span><span class="">
</span></pre></div>

</div>

<p>Different levels of expressions are used to handle operators having different precedence (multiplication is done before subtraction for example).</p>

<p>The additional arithmetic functions are defined like this:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>ast.py</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">a</span><span class="nf">d</span><span class="nf">d</span><span class="p">(</span><span class="n">l</span><span class="n">e</span><span class="n">f</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">h</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="p">[</span><span class="s2">"</span><span class="s2">+</span><span class="s2">"</span><span class="p">,</span><span class=""> </span><span class="n">l</span><span class="n">e</span><span class="n">f</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">h</span><span class="n">t</span><span class="p">]</span><span class="">
</span><span class="">
</span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">m</span><span class="nf">u</span><span class="nf">l</span><span class="p">(</span><span class="n">l</span><span class="n">e</span><span class="n">f</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">h</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="p">[</span><span class="s2">"</span><span class="s2">*</span><span class="s2">"</span><span class="p">,</span><span class=""> </span><span class="n">l</span><span class="n">e</span><span class="n">f</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">h</span><span class="n">t</span><span class="p">]</span><span class="">
</span><span class="">
</span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">d</span><span class="nf">i</span><span class="nf">v</span><span class="p">(</span><span class="n">l</span><span class="n">e</span><span class="n">f</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">h</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="p">[</span><span class="s2">"</span><span class="s2">/</span><span class="s2">"</span><span class="p">,</span><span class=""> </span><span class="n">l</span><span class="n">e</span><span class="n">f</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">h</span><span class="n">t</span><span class="p">]</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>eval.py</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">a</span><span class="nf">d</span><span class="nf">d</span><span class="p">(</span><span class="n">l</span><span class="n">e</span><span class="n">f</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">h</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">l</span><span class="n">e</span><span class="n">f</span><span class="n">t</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">h</span><span class="n">t</span><span class="">
</span><span class="">
</span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">m</span><span class="nf">u</span><span class="nf">l</span><span class="p">(</span><span class="n">l</span><span class="n">e</span><span class="n">f</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">h</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">l</span><span class="n">e</span><span class="n">f</span><span class="n">t</span><span class=""> </span><span class="o">*</span><span class=""> </span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">h</span><span class="n">t</span><span class="">
</span><span class="">
</span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">d</span><span class="nf">i</span><span class="nf">v</span><span class="p">(</span><span class="n">l</span><span class="n">e</span><span class="n">f</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">h</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">l</span><span class="n">e</span><span class="n">f</span><span class="n">t</span><span class=""> </span><span class="o">/</span><span class=""> </span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">h</span><span class="n">t</span><span class="">
</span></pre></div>

</div>

<p>Let's see how the calculator handles the following expression:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">1</span><span class="">+</span><span class="">2</span><span class="">-</span><span class="">3</span><span class="">^</span><span class="">2</span><span class="">^</span><span class="">2</span><span class="">-</span><span class="">5</span><span class="">
</span></pre></div>

</div>

<p>Below is the AST and the evaluated result:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">[</span><span class="">'</span><span class="">-</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">-</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">+</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">1</span><span class="">,</span><span class=""> </span><span class="">2</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">^</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">3</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">^</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">2</span><span class="">,</span><span class=""> </span><span class="">2</span><span class="">]</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">5</span><span class="">]</span><span class="">
</span><span class="">=</span><span class="">&gt;</span><span class="">
</span><span class="">-</span><span class="">8</span><span class="">3</span><span class="">
</span></pre></div>

</div>

<p>If we enter the same expression in the Python prompt, but replace <code>^</code> with <code>**</code> as Python uses, we get the same result:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">&gt;</span><span class="">&gt;</span><span class="">&gt;</span><span class=""> </span><span class="">1</span><span class="">+</span><span class="">2</span><span class="">-</span><span class="">3</span><span class="">*</span><span class="">*</span><span class="">2</span><span class="">*</span><span class="">*</span><span class="">2</span><span class="">-</span><span class="">5</span><span class="">
</span><span class="">-</span><span class="">8</span><span class="">3</span><span class="">
</span></pre></div>

</div>

<p>We can now parse complicated expressions correctly. However, if there are many precedence levels in a grammar, it might become difficult to read. Can we do better?</p>

<h2><a name="063f23a343574259bf31debb9b8425bf"></a>Cleaner handling of precedence</h2>

<p>Here is the calculator grammar from the previous section rewritten in a cleaner way:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>calculator_ops.rlmeta</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="">C</span><span class="">a</span><span class="">l</span><span class="">c</span><span class="">u</span><span class="">l</span><span class="">a</span><span class="">t</span><span class="">o</span><span class="">r</span><span class=""> </span><span class="">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class="nb">:</span><span class="">x</span><span class=""> </span><span class="">(</span><span class="">o</span><span class="">p</span><span class="nb">:</span><span class="">y</span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class="nb">:</span><span class="">z</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">y</span><span class=""> </span><span class="">z</span><span class="">]</span><span class="">)</span><span class="nc">*</span><span class="nb">:</span><span class="">x</span><span class="">s</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">p</span><span class="">a</span><span class="">r</span><span class="">s</span><span class="">e</span><span class="">O</span><span class="">p</span><span class="">s</span><span class="">(</span><span class="">x</span><span class=""> </span><span class="">x</span><span class="">s</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="sc">'</span><span class="sc">0</span><span class="sc">'</span><span class="nc">-</span><span class="sc">'</span><span class="sc">9</span><span class="sc">'</span><span class="nb">:</span><span class="">x</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">i</span><span class="">n</span><span class="">t</span><span class="">(</span><span class="">x</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">o</span><span class="">p</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="sc">'</span><span class="sc">+</span><span class="sc">'</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">O</span><span class="">p</span><span class="">(</span><span class="">m</span><span class="">a</span><span class="">k</span><span class="">e</span><span class="">A</span><span class="">d</span><span class="">d</span><span class="">(</span><span class="">)</span><span class=""> </span><span class="s">"</span><span class="s">1</span><span class="s">"</span><span class=""> </span><span class="s">"</span><span class="s">l</span><span class="s">e</span><span class="s">f</span><span class="s">t</span><span class="s">"</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="sc">'</span><span class="sc">-</span><span class="sc">'</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">O</span><span class="">p</span><span class="">(</span><span class="">m</span><span class="">a</span><span class="">k</span><span class="">e</span><span class="">S</span><span class="">u</span><span class="">b</span><span class="">(</span><span class="">)</span><span class=""> </span><span class="s">"</span><span class="s">1</span><span class="s">"</span><span class=""> </span><span class="s">"</span><span class="s">l</span><span class="s">e</span><span class="s">f</span><span class="s">t</span><span class="s">"</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="sc">'</span><span class="sc">*</span><span class="sc">'</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">O</span><span class="">p</span><span class="">(</span><span class="">m</span><span class="">a</span><span class="">k</span><span class="">e</span><span class="">M</span><span class="">u</span><span class="">l</span><span class="">(</span><span class="">)</span><span class=""> </span><span class="s">"</span><span class="s">2</span><span class="s">"</span><span class=""> </span><span class="s">"</span><span class="s">l</span><span class="s">e</span><span class="s">f</span><span class="s">t</span><span class="s">"</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="sc">'</span><span class="sc">/</span><span class="sc">'</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">O</span><span class="">p</span><span class="">(</span><span class="">m</span><span class="">a</span><span class="">k</span><span class="">e</span><span class="">D</span><span class="">i</span><span class="">v</span><span class="">(</span><span class="">)</span><span class=""> </span><span class="s">"</span><span class="s">2</span><span class="s">"</span><span class=""> </span><span class="s">"</span><span class="s">l</span><span class="s">e</span><span class="s">f</span><span class="s">t</span><span class="s">"</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="sc">'</span><span class="sc">^</span><span class="sc">'</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">O</span><span class="">p</span><span class="">(</span><span class="">m</span><span class="">a</span><span class="">k</span><span class="">e</span><span class="">P</span><span class="">o</span><span class="">w</span><span class="">(</span><span class="">)</span><span class=""> </span><span class="s">"</span><span class="s">3</span><span class="s">"</span><span class=""> </span><span class="s">"</span><span class="s">r</span><span class="s">i</span><span class="s">g</span><span class="s">h</span><span class="s">t</span><span class="s">"</span><span class="">)</span><span class="">
</span><span class="">}</span><span class="">
</span></pre></div>

</div>

<p>In this version all operators are parsed as a list and then handed over to the <code>parseOps</code> function. The operators also return an <code>Op</code> object instead of just a function to evaluate the operator. The <code>Op</code> object has information about the operator's precedence (given as a string only because RLMeta can not express integers in semantic actions) and associativity:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>support.py</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">O</span><span class="nc">p</span><span class="p">(</span><span class="nb">o</span><span class="nb">b</span><span class="nb">j</span><span class="nb">e</span><span class="nb">c</span><span class="nb">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">f</span><span class="n">n</span><span class="p">,</span><span class=""> </span><span class="n">p</span><span class="n">r</span><span class="n">e</span><span class="n">c</span><span class="p">,</span><span class=""> </span><span class="n">a</span><span class="n">s</span><span class="n">s</span><span class="n">o</span><span class="n">c</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">f</span><span class="n">n</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">f</span><span class="n">n</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">p</span><span class="n">r</span><span class="n">e</span><span class="n">c</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="nb">i</span><span class="nb">n</span><span class="nb">t</span><span class="p">(</span><span class="n">p</span><span class="n">r</span><span class="n">e</span><span class="n">c</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">a</span><span class="n">s</span><span class="n">s</span><span class="n">o</span><span class="n">c</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">a</span><span class="n">s</span><span class="n">s</span><span class="n">o</span><span class="n">c</span><span class="">
</span></pre></div>

</div>

<p>The <code>parseOps</code> function uses that information to create a parse tree:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>support.py</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">p</span><span class="nf">a</span><span class="nf">r</span><span class="nf">s</span><span class="nf">e</span><span class="nf">O</span><span class="nf">p</span><span class="nf">s</span><span class="p">(</span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="p">,</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="n">m</span><span class="n">i</span><span class="n">n</span><span class="n">_</span><span class="n">l</span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">l</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">w</span><span class="k">h</span><span class="k">i</span><span class="k">l</span><span class="k">e</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class=""> </span><span class="ow">a</span><span class="ow">n</span><span class="ow">d</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">p</span><span class="n">r</span><span class="n">e</span><span class="n">c</span><span class=""> </span><span class="o">&gt;</span><span class="o">=</span><span class=""> </span><span class="n">m</span><span class="n">i</span><span class="n">n</span><span class="n">_</span><span class="n">l</span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">l</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">o</span><span class="n">p</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">h</span><span class="n">s</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="o">.</span><span class="n">p</span><span class="n">o</span><span class="n">p</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">o</span><span class="n">p</span><span class="o">.</span><span class="n">a</span><span class="n">s</span><span class="n">s</span><span class="n">o</span><span class="n">c</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">l</span><span class="s2">e</span><span class="s2">f</span><span class="s2">t</span><span class="s2">"</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">l</span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">l</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">o</span><span class="n">p</span><span class="o">.</span><span class="n">p</span><span class="n">r</span><span class="n">e</span><span class="n">c</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">l</span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">l</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">o</span><span class="n">p</span><span class="o">.</span><span class="n">p</span><span class="n">r</span><span class="n">e</span><span class="n">c</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">o</span><span class="n">p</span><span class="o">.</span><span class="n">f</span><span class="n">n</span><span class="p">(</span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="p">,</span><span class=""> </span><span class="n">p</span><span class="n">a</span><span class="n">r</span><span class="n">s</span><span class="n">e</span><span class="n">O</span><span class="n">p</span><span class="n">s</span><span class="p">(</span><span class="n">r</span><span class="n">h</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">l</span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">l</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="">
</span></pre></div>

</div>

<p>It combines the functionality of <code>leftAssoc</code> and <code>rightAssoc</code> and additionally also handles precedence. The increment of level if the operator is left associative ensures that only operators of higher precedence are parsed in the recursive call. If the next operator is of the same precedence, the recursive call will return immediately, and <code>parseOps</code> will behave like <code>leftAssoc</code>.</p>

<p>Here is how the expression 1+2+3*4 is parsed:</p>

<ul><li><code>parseOps</code> is called with <code>expr=1</code>, <code>items=[[OpAdd, 2], [OpAdd, 3], [OpMul, 4]]</code> and <code>min_level=0</code></li>

<li>Since there are still items and the add operator has <code>prec &gt;= 0</code>, the loop is entered<ul><li><code>op=OpAdd</code> and <code>rhs=2</code></li>

<li>Since the add operator is left associative, <code>next_level=2</code></li>

<li><code>expr=add(1, parseOps(2, [[OpAdd, 3], [OpMul, 4]], 2))</code></li>

</ul>

</li>

<li><code>parseOps</code> is called with <code>expr=2</code>, <code>items=[[OpAdd, 3], [OpMul, 4]]</code> and <code>min_level=2</code></li>

<li>Since the add operator has <code>prec &lt; 2</code>, the loop is not entered, and <code>2</code> is returned</li>

<li>The outer loop continues with <code>expr=add(1, 2)</code><ul><li><code>op=OpAdd</code> and <code>rhs=3</code></li>

<li>Since the add operator is left associative, <code>next_level=2</code></li>

<li><code>expr=add(add(1, 2), parseOps(3, [[OpMul, 4]], 2))</code></li>

</ul>

</li>

<li><code>parseOps</code> is called with <code>expr=3</code>, <code>items=[[OpMul, 4]]</code> and <code>min_level=2</code></li>

<li>Since there are still items and the mul operator has <code>prec &gt;= 2</code>, the loop is entered<ul><li><code>op=OpMul</code> and <code>rhs=4</code></li>

<li>Since the mul operator is left associative, <code>next_level=3</code></li>

<li><code>expr=mul(3, parseOps(4, [], 3))</code></li>

</ul>

</li>

<li><code>parseOps</code> is called with <code>expr=4</code>, <code>items=[]</code> and <code>min_level=3</code></li>

<li>Since there are no more items, <code>4</code> is returned</li>

<li>The parent returns <code>mul(3, 4)</code></li>

<li>The parent returns <code>add(add(1, 2), mul(3, 4))</code></li>

</ul>

<p>Let's see how the calculator handles the following expressions:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">1</span><span class="">+</span><span class="">2</span><span class="">-</span><span class="">3</span><span class="">
</span><span class="">1</span><span class="">+</span><span class="">2</span><span class="">-</span><span class="">3</span><span class="">^</span><span class="">2</span><span class="">^</span><span class="">2</span><span class="">-</span><span class="">5</span><span class="">
</span></pre></div>

</div>

<p>Below are the ASTs and the evaluated results:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">[</span><span class="">'</span><span class="">-</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">+</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">1</span><span class="">,</span><span class=""> </span><span class="">2</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">3</span><span class="">]</span><span class="">
</span><span class="">=</span><span class="">&gt;</span><span class="">
</span><span class="">0</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">'</span><span class="">-</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">-</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">+</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">1</span><span class="">,</span><span class=""> </span><span class="">2</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">^</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">3</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">^</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">2</span><span class="">,</span><span class=""> </span><span class="">2</span><span class="">]</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">5</span><span class="">]</span><span class="">
</span><span class="">=</span><span class="">&gt;</span><span class="">
</span><span class="">-</span><span class="">8</span><span class="">3</span><span class="">
</span></pre></div>

</div>

<p>This looks correct. We now have a calculator whose grammar is more cleanly written and only uses one support function instead of two.</p>

<h2><a name="24d9bf94e3b64dfba2841df8b3cf00b1"></a>Comparison of operator parsers</h2>

<p>All three operator parser functions have a similar structure to them. Here they are for comparison:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">l</span><span class="nf">e</span><span class="nf">f</span><span class="nf">t</span><span class="nf">A</span><span class="nf">s</span><span class="nf">s</span><span class="nf">o</span><span class="nf">c</span><span class="p">(</span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="p">,</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">w</span><span class="k">h</span><span class="k">i</span><span class="k">l</span><span class="k">e</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">o</span><span class="n">p</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">h</span><span class="n">s</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="o">.</span><span class="n">p</span><span class="n">o</span><span class="n">p</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">o</span><span class="n">p</span><span class="p">(</span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">h</span><span class="n">s</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">r</span><span class="nf">i</span><span class="nf">g</span><span class="nf">h</span><span class="nf">t</span><span class="nf">A</span><span class="nf">s</span><span class="nf">s</span><span class="nf">o</span><span class="nf">c</span><span class="p">(</span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="p">,</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">o</span><span class="n">p</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">h</span><span class="n">s</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="o">.</span><span class="n">p</span><span class="n">o</span><span class="n">p</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">o</span><span class="n">p</span><span class="p">(</span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">h</span><span class="n">t</span><span class="n">A</span><span class="n">s</span><span class="n">s</span><span class="n">o</span><span class="n">c</span><span class="p">(</span><span class="n">r</span><span class="n">h</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">p</span><span class="nf">a</span><span class="nf">r</span><span class="nf">s</span><span class="nf">e</span><span class="nf">O</span><span class="nf">p</span><span class="nf">s</span><span class="p">(</span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="p">,</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="n">m</span><span class="n">i</span><span class="n">n</span><span class="n">_</span><span class="n">l</span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">l</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">w</span><span class="k">h</span><span class="k">i</span><span class="k">l</span><span class="k">e</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class=""> </span><span class="ow">a</span><span class="ow">n</span><span class="ow">d</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">p</span><span class="n">r</span><span class="n">e</span><span class="n">c</span><span class=""> </span><span class="o">&gt;</span><span class="o">=</span><span class=""> </span><span class="n">m</span><span class="n">i</span><span class="n">n</span><span class="n">_</span><span class="n">l</span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">l</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">o</span><span class="n">p</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">h</span><span class="n">s</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="o">.</span><span class="n">p</span><span class="n">o</span><span class="n">p</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">o</span><span class="n">p</span><span class="o">.</span><span class="n">a</span><span class="n">s</span><span class="n">s</span><span class="n">o</span><span class="n">c</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">l</span><span class="s2">e</span><span class="s2">f</span><span class="s2">t</span><span class="s2">"</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">l</span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">l</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">o</span><span class="n">p</span><span class="o">.</span><span class="n">p</span><span class="n">r</span><span class="n">e</span><span class="n">c</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">l</span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">l</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">o</span><span class="n">p</span><span class="o">.</span><span class="n">p</span><span class="n">r</span><span class="n">e</span><span class="n">c</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">o</span><span class="n">p</span><span class="o">.</span><span class="n">f</span><span class="n">n</span><span class="p">(</span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="p">,</span><span class=""> </span><span class="n">p</span><span class="n">a</span><span class="n">r</span><span class="n">s</span><span class="n">e</span><span class="n">O</span><span class="n">p</span><span class="n">s</span><span class="p">(</span><span class="n">r</span><span class="n">h</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">l</span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">l</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="">
</span></pre></div>

</div>

<h2><a name="5cca99df2e2c4c78ab4bfe4cb946d89a"></a>Resources</h2>

<p>The following articles helped me understand how to handle left associative operators in recursive descent parsers:</p>

<ul><li><a href="http://beastie.cs.ua.edu/proglan/readings/precedence.pdf">Implementing Associativity and Precedence in Recursive Descent Expression Grammars</a></li>

<li><a href="https://eli.thegreenplace.net/2008/09/26/recursive-descent-ll-and-predictive-parsers">Recursive descent, LL and predictive parsers</a></li>

<li><a href="https://eli.thegreenplace.net/2009/03/14/some-problems-of-recursive-descent-parsers">Some problems of recursive descent parsers</a></li>

<li><a href="https://eli.thegreenplace.net/2009/03/20/a-recursive-descent-parser-with-an-infix-expression-evaluator">A recursive descent parser with an infix expression evaluator</a></li>

<li><a href="https://eli.thegreenplace.net/2010/01/02/top-down-operator-precedence-parsing">Top-Down operator precedence parsing</a></li>

<li><a href="https://eli.thegreenplace.net/2012/08/02/parsing-expressions-by-precedence-climbing">Parsing expressions by precedence climbing</a></li>

<li><a href="http://journal.stuffwithstuff.com/2011/03/19/pratt-parsers-expression-parsing-made-easy/">Pratt Parsers: Expression Parsing Made Easy</a></li>

</ul>

<h2><a name="c1716e6e63034983a86a1c9f621b2a52"></a>Appendix: Test script</h2>

<p>I used the following Bash script to run the examples:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>expr.sh</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="">c</span><span class="">o</span><span class="">m</span><span class="">p</span><span class="">i</span><span class="">l</span><span class="">e</span><span class="o">(</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">e</span><span class="nb">c</span><span class="nb">h</span><span class="nb">o</span><span class=""> </span><span class="s2">"</span><span class="s2">i</span><span class="s2">m</span><span class="s2">p</span><span class="s2">o</span><span class="s2">r</span><span class="s2">t</span><span class="s2"> </span><span class="s2">s</span><span class="s2">y</span><span class="s2">s</span><span class="s2">"</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">e</span><span class="nb">c</span><span class="nb">h</span><span class="nb">o</span><span class=""> </span><span class="s2">"</span><span class="s2">i</span><span class="s2">m</span><span class="s2">p</span><span class="s2">o</span><span class="s2">r</span><span class="s2">t</span><span class="s2"> </span><span class="s2">p</span><span class="s2">p</span><span class="s2">r</span><span class="s2">i</span><span class="s2">n</span><span class="s2">t</span><span class="s2">"</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">r</span><span class="">l</span><span class="">m</span><span class="">e</span><span class="">t</span><span class="">a</span><span class=""> </span><span class="">-</span><span class="">-</span><span class="">s</span><span class="">u</span><span class="">p</span><span class="">p</span><span class="">o</span><span class="">r</span><span class="">t</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">r</span><span class="">l</span><span class="">m</span><span class="">e</span><span class="">t</span><span class="">a</span><span class=""> </span><span class="">&lt;</span><span class=""> </span><span class="s2">"</span><span class="nv">$</span><span class="nv">1</span><span class="s2">"</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">c</span><span class="">a</span><span class="">t</span><span class=""> </span><span class="s2">"</span><span class="s2">s</span><span class="s2">u</span><span class="s2">p</span><span class="s2">p</span><span class="s2">o</span><span class="s2">r</span><span class="s2">t</span><span class="s2">.</span><span class="s2">p</span><span class="s2">y</span><span class="s2">"</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">c</span><span class="">a</span><span class="">t</span><span class=""> </span><span class="s2">"</span><span class="nv">$</span><span class="nv">2</span><span class="s2">"</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">e</span><span class="nb">c</span><span class="nb">h</span><span class="nb">o</span><span class=""> </span><span class="s2">"</span><span class="s2">m</span><span class="s2">a</span><span class="s2">k</span><span class="s2">e</span><span class="s2">A</span><span class="s2">d</span><span class="s2">d</span><span class="s2"> </span><span class="s2">=</span><span class="s2"> </span><span class="s2">l</span><span class="s2">a</span><span class="s2">m</span><span class="s2">b</span><span class="s2">d</span><span class="s2">a</span><span class="s2">:</span><span class="s2"> </span><span class="s2">a</span><span class="s2">d</span><span class="s2">d</span><span class="s2">"</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">e</span><span class="nb">c</span><span class="nb">h</span><span class="nb">o</span><span class=""> </span><span class="s2">"</span><span class="s2">m</span><span class="s2">a</span><span class="s2">k</span><span class="s2">e</span><span class="s2">S</span><span class="s2">u</span><span class="s2">b</span><span class="s2"> </span><span class="s2">=</span><span class="s2"> </span><span class="s2">l</span><span class="s2">a</span><span class="s2">m</span><span class="s2">b</span><span class="s2">d</span><span class="s2">a</span><span class="s2">:</span><span class="s2"> </span><span class="s2">s</span><span class="s2">u</span><span class="s2">b</span><span class="s2">"</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">e</span><span class="nb">c</span><span class="nb">h</span><span class="nb">o</span><span class=""> </span><span class="s2">"</span><span class="s2">m</span><span class="s2">a</span><span class="s2">k</span><span class="s2">e</span><span class="s2">M</span><span class="s2">u</span><span class="s2">l</span><span class="s2"> </span><span class="s2">=</span><span class="s2"> </span><span class="s2">l</span><span class="s2">a</span><span class="s2">m</span><span class="s2">b</span><span class="s2">d</span><span class="s2">a</span><span class="s2">:</span><span class="s2"> </span><span class="s2">m</span><span class="s2">u</span><span class="s2">l</span><span class="s2">"</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">e</span><span class="nb">c</span><span class="nb">h</span><span class="nb">o</span><span class=""> </span><span class="s2">"</span><span class="s2">m</span><span class="s2">a</span><span class="s2">k</span><span class="s2">e</span><span class="s2">D</span><span class="s2">i</span><span class="s2">v</span><span class="s2"> </span><span class="s2">=</span><span class="s2"> </span><span class="s2">l</span><span class="s2">a</span><span class="s2">m</span><span class="s2">b</span><span class="s2">d</span><span class="s2">a</span><span class="s2">:</span><span class="s2"> </span><span class="s2">d</span><span class="s2">i</span><span class="s2">v</span><span class="s2">"</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">e</span><span class="nb">c</span><span class="nb">h</span><span class="nb">o</span><span class=""> </span><span class="s2">"</span><span class="s2">m</span><span class="s2">a</span><span class="s2">k</span><span class="s2">e</span><span class="s2">P</span><span class="s2">o</span><span class="s2">w</span><span class="s2"> </span><span class="s2">=</span><span class="s2"> </span><span class="s2">l</span><span class="s2">a</span><span class="s2">m</span><span class="s2">b</span><span class="s2">d</span><span class="s2">a</span><span class="s2">:</span><span class="s2"> </span><span class="s2">p</span><span class="s2">o</span><span class="s2">w</span><span class="s2">"</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">e</span><span class="nb">c</span><span class="nb">h</span><span class="nb">o</span><span class=""> </span><span class="s2">"</span><span class="s2">t</span><span class="s2">r</span><span class="s2">y</span><span class="s2">:</span><span class="s2">"</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">e</span><span class="nb">c</span><span class="nb">h</span><span class="nb">o</span><span class=""> </span><span class="s2">"</span><span class="s2"> </span><span class="s2"> </span><span class="s2"> </span><span class="s2"> </span><span class="s2">f</span><span class="s2">o</span><span class="s2">r</span><span class="s2"> </span><span class="s2">e</span><span class="s2">x</span><span class="s2">p</span><span class="s2">r</span><span class="s2"> </span><span class="s2">i</span><span class="s2">n</span><span class="s2"> </span><span class="s2">s</span><span class="s2">y</span><span class="s2">s</span><span class="s2">.</span><span class="s2">s</span><span class="s2">t</span><span class="s2">d</span><span class="s2">i</span><span class="s2">n</span><span class="s2">.</span><span class="s2">r</span><span class="s2">e</span><span class="s2">a</span><span class="s2">d</span><span class="s2">(</span><span class="s2">)</span><span class="s2">.</span><span class="s2">s</span><span class="s2">p</span><span class="s2">l</span><span class="s2">i</span><span class="s2">t</span><span class="s2">l</span><span class="s2">i</span><span class="s2">n</span><span class="s2">e</span><span class="s2">s</span><span class="s2">(</span><span class="s2">)</span><span class="s2">:</span><span class="s2">"</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">e</span><span class="nb">c</span><span class="nb">h</span><span class="nb">o</span><span class=""> </span><span class="s2">"</span><span class="s2"> </span><span class="s2"> </span><span class="s2"> </span><span class="s2"> </span><span class="s2"> </span><span class="s2"> </span><span class="s2"> </span><span class="s2"> </span><span class="s2">p</span><span class="s2">p</span><span class="s2">r</span><span class="s2">i</span><span class="s2">n</span><span class="s2">t</span><span class="s2">.</span><span class="s2">p</span><span class="s2">p</span><span class="s2">r</span><span class="s2">i</span><span class="s2">n</span><span class="s2">t</span><span class="s2">(</span><span class="s2">C</span><span class="s2">a</span><span class="s2">l</span><span class="s2">c</span><span class="s2">u</span><span class="s2">l</span><span class="s2">a</span><span class="s2">t</span><span class="s2">o</span><span class="s2">r</span><span class="s2">(</span><span class="s2">)</span><span class="s2">.</span><span class="s2">r</span><span class="s2">u</span><span class="s2">n</span><span class="s2">(</span><span class="s2">'</span><span class="s2">e</span><span class="s2">x</span><span class="s2">p</span><span class="s2">r</span><span class="s2">'</span><span class="s2">,</span><span class="s2"> </span><span class="s2">e</span><span class="s2">x</span><span class="s2">p</span><span class="s2">r</span><span class="s2">)</span><span class="s2">,</span><span class="s2"> </span><span class="s2">w</span><span class="s2">i</span><span class="s2">d</span><span class="s2">t</span><span class="s2">h</span><span class="s2">=</span><span class="s2">2</span><span class="s2">0</span><span class="s2">)</span><span class="s2">"</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">e</span><span class="nb">c</span><span class="nb">h</span><span class="nb">o</span><span class=""> </span><span class="s2">"</span><span class="s2">e</span><span class="s2">x</span><span class="s2">c</span><span class="s2">e</span><span class="s2">p</span><span class="s2">t</span><span class="s2"> </span><span class="s2">_</span><span class="s2">M</span><span class="s2">a</span><span class="s2">t</span><span class="s2">c</span><span class="s2">h</span><span class="s2">E</span><span class="s2">r</span><span class="s2">r</span><span class="s2">o</span><span class="s2">r</span><span class="s2"> </span><span class="s2">a</span><span class="s2">s</span><span class="s2"> </span><span class="s2">e</span><span class="s2">:</span><span class="s2">"</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">e</span><span class="nb">c</span><span class="nb">h</span><span class="nb">o</span><span class=""> </span><span class="s2">"</span><span class="s2"> </span><span class="s2"> </span><span class="s2"> </span><span class="s2"> </span><span class="s2">s</span><span class="s2">y</span><span class="s2">s</span><span class="s2">.</span><span class="s2">s</span><span class="s2">t</span><span class="s2">d</span><span class="s2">e</span><span class="s2">r</span><span class="s2">r</span><span class="s2">.</span><span class="s2">w</span><span class="s2">r</span><span class="s2">i</span><span class="s2">t</span><span class="s2">e</span><span class="s2">(</span><span class="s2">e</span><span class="s2">.</span><span class="s2">d</span><span class="s2">e</span><span class="s2">s</span><span class="s2">c</span><span class="s2">r</span><span class="s2">i</span><span class="s2">b</span><span class="s2">e</span><span class="s2">(</span><span class="s2">)</span><span class="s2">)</span><span class="s2">"</span><span class="">
</span><span class="o">}</span><span class="">
</span><span class="">
</span><span class="o">(</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">w</span><span class="k">h</span><span class="k">i</span><span class="k">l</span><span class="k">e</span><span class=""> </span><span class="nb">r</span><span class="nb">e</span><span class="nb">a</span><span class="nb">d</span><span class=""> </span><span class="">-</span><span class="">e</span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class="p">;</span><span class=""> </span><span class="k">d</span><span class="k">o</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">e</span><span class="nb">c</span><span class="nb">h</span><span class="nb">o</span><span class=""> </span><span class="s2">"</span><span class="nv">$</span><span class="nv">e</span><span class="nv">x</span><span class="nv">p</span><span class="nv">r</span><span class="s2">"</span><span class=""> </span><span class="p">|</span><span class=""> </span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class=""> </span><span class="">&lt;</span><span class="o">(</span><span class="">c</span><span class="">o</span><span class="">m</span><span class="">p</span><span class="">i</span><span class="">l</span><span class="">e</span><span class=""> </span><span class="s2">"</span><span class="nv">$</span><span class="nv">1</span><span class="s2">"</span><span class=""> </span><span class="s2">"</span><span class="s2">a</span><span class="s2">s</span><span class="s2">t</span><span class="s2">.</span><span class="s2">p</span><span class="s2">y</span><span class="s2">"</span><span class="o">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">e</span><span class="nb">c</span><span class="nb">h</span><span class="nb">o</span><span class=""> </span><span class="s2">"</span><span class="s2">=</span><span class="s2">&gt;</span><span class="s2">"</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">e</span><span class="nb">c</span><span class="nb">h</span><span class="nb">o</span><span class=""> </span><span class="s2">"</span><span class="nv">$</span><span class="nv">e</span><span class="nv">x</span><span class="nv">p</span><span class="nv">r</span><span class="s2">"</span><span class=""> </span><span class="p">|</span><span class=""> </span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class=""> </span><span class="">&lt;</span><span class="o">(</span><span class="">c</span><span class="">o</span><span class="">m</span><span class="">p</span><span class="">i</span><span class="">l</span><span class="">e</span><span class=""> </span><span class="s2">"</span><span class="nv">$</span><span class="nv">1</span><span class="s2">"</span><span class=""> </span><span class="s2">"</span><span class="s2">e</span><span class="s2">v</span><span class="s2">a</span><span class="s2">l</span><span class="s2">.</span><span class="s2">p</span><span class="s2">y</span><span class="s2">"</span><span class="o">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">e</span><span class="nb">c</span><span class="nb">h</span><span class="nb">o</span><span class=""> </span><span class="s2">"</span><span class="s2">"</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">o</span><span class="k">n</span><span class="k">e</span><span class="">
</span><span class="o">)</span><span class=""> </span><span class="p">|</span><span class=""> </span><span class="">h</span><span class="">e</span><span class="">a</span><span class="">d</span><span class=""> </span><span class="">-</span><span class="">n</span><span class="">-</span><span class="">1</span><span class="">
</span></pre></div>

</div>

<p>It reads expressions from stdin one per line. Then it evaluates them both using the AST function and the eval function and prints the result. The <code>make*</code> functions are also defined here to just return the respective function.</p>

]]></summary>
</entry>
<entry>
    <title>Doctest fails in Python 3 with wxPython</title>
    <link href="http://rickardlindberg.me/writing/timeline-doctest-wxpython/" />
    <id>http://rickardlindberg.me/writing/timeline-doctest-wxpython/</id>
    <published>2019-08-31T00:00:00Z</published>
    <updated>2019-08-31T00:00:00Z</updated>
    <summary type="html"><![CDATA[<h1>Doctest fails in Python 3 with wxPython</h1>

<p><em>Published on 2019-08-31.</em></p>

<p>When working on porting <a href="/projects/timeline/index.html">Timeline</a> to Python 3, I ran into a problem where a <a href="https://docs.python.org/3/library/doctest.html">doctest</a> failed under certain circumstances. I managed to create a small example that reproduces the failure. I describe the example below and show how I solved the test failure.</p>

<p>The example consists of a test runner and two test cases. The test runner is a slimmed down version of the one used in Timeline:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>testrunner.py</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="kn">i</span><span class="kn">m</span><span class="kn">p</span><span class="kn">o</span><span class="kn">r</span><span class="kn">t</span><span class=""> </span><span class="nn">d</span><span class="nn">o</span><span class="nn">c</span><span class="nn">t</span><span class="nn">e</span><span class="nn">s</span><span class="nn">t</span><span class="">
</span><span class="kn">i</span><span class="kn">m</span><span class="kn">p</span><span class="kn">o</span><span class="kn">r</span><span class="kn">t</span><span class=""> </span><span class="nn">s</span><span class="nn">y</span><span class="nn">s</span><span class="">
</span><span class="kn">i</span><span class="kn">m</span><span class="kn">p</span><span class="kn">o</span><span class="kn">r</span><span class="kn">t</span><span class=""> </span><span class="nn">u</span><span class="nn">n</span><span class="nn">i</span><span class="nn">t</span><span class="nn">t</span><span class="nn">e</span><span class="nn">s</span><span class="nn">t</span><span class="">
</span><span class="">
</span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">l</span><span class="nf">o</span><span class="nf">a</span><span class="nf">d</span><span class="nf">_</span><span class="nf">t</span><span class="nf">e</span><span class="nf">s</span><span class="nf">t</span><span class="nf">_</span><span class="nf">c</span><span class="nf">a</span><span class="nf">s</span><span class="nf">e</span><span class="nf">s</span><span class="nf">_</span><span class="nf">f</span><span class="nf">r</span><span class="nf">o</span><span class="nf">m</span><span class="nf">_</span><span class="nf">m</span><span class="nf">o</span><span class="nf">d</span><span class="nf">u</span><span class="nf">l</span><span class="nf">e</span><span class="nf">_</span><span class="nf">n</span><span class="nf">a</span><span class="nf">m</span><span class="nf">e</span><span class="p">(</span><span class="n">s</span><span class="n">u</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="p">,</span><span class=""> </span><span class="n">m</span><span class="n">o</span><span class="n">d</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="n">_</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">_</span><span class="nb">_</span><span class="nb">i</span><span class="nb">m</span><span class="nb">p</span><span class="nb">o</span><span class="nb">r</span><span class="nb">t</span><span class="nb">_</span><span class="nb">_</span><span class="p">(</span><span class="n">m</span><span class="n">o</span><span class="n">d</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="n">_</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">m</span><span class="n">o</span><span class="n">d</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">s</span><span class="n">y</span><span class="n">s</span><span class="o">.</span><span class="n">m</span><span class="n">o</span><span class="n">d</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="n">s</span><span class="p">[</span><span class="n">m</span><span class="n">o</span><span class="n">d</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="n">_</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">m</span><span class="n">o</span><span class="n">d</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="n">_</span><span class="n">s</span><span class="n">u</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">u</span><span class="n">n</span><span class="n">i</span><span class="n">t</span><span class="n">t</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="o">.</span><span class="n">d</span><span class="n">e</span><span class="n">f</span><span class="n">a</span><span class="n">u</span><span class="n">l</span><span class="n">t</span><span class="n">T</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">L</span><span class="n">o</span><span class="n">a</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="o">.</span><span class="n">l</span><span class="n">o</span><span class="n">a</span><span class="n">d</span><span class="n">T</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">s</span><span class="n">F</span><span class="n">r</span><span class="n">o</span><span class="n">m</span><span class="n">M</span><span class="n">o</span><span class="n">d</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="p">(</span><span class="n">m</span><span class="n">o</span><span class="n">d</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">u</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="o">.</span><span class="n">a</span><span class="n">d</span><span class="n">d</span><span class="n">T</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="p">(</span><span class="n">m</span><span class="n">o</span><span class="n">d</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="n">_</span><span class="n">s</span><span class="n">u</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">l</span><span class="nf">o</span><span class="nf">a</span><span class="nf">d</span><span class="nf">_</span><span class="nf">d</span><span class="nf">o</span><span class="nf">c</span><span class="nf">_</span><span class="nf">t</span><span class="nf">e</span><span class="nf">s</span><span class="nf">t</span><span class="nf">s</span><span class="nf">_</span><span class="nf">f</span><span class="nf">r</span><span class="nf">o</span><span class="nf">m</span><span class="nf">_</span><span class="nf">m</span><span class="nf">o</span><span class="nf">d</span><span class="nf">u</span><span class="nf">l</span><span class="nf">e</span><span class="nf">_</span><span class="nf">n</span><span class="nf">a</span><span class="nf">m</span><span class="nf">e</span><span class="p">(</span><span class="n">s</span><span class="n">u</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="p">,</span><span class=""> </span><span class="n">m</span><span class="n">o</span><span class="n">d</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="n">_</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">_</span><span class="nb">_</span><span class="nb">i</span><span class="nb">m</span><span class="nb">p</span><span class="nb">o</span><span class="nb">r</span><span class="nb">t</span><span class="nb">_</span><span class="nb">_</span><span class="p">(</span><span class="n">m</span><span class="n">o</span><span class="n">d</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="n">_</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">m</span><span class="n">o</span><span class="n">d</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">s</span><span class="n">y</span><span class="n">s</span><span class="o">.</span><span class="n">m</span><span class="n">o</span><span class="n">d</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="n">s</span><span class="p">[</span><span class="n">m</span><span class="n">o</span><span class="n">d</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="n">_</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">t</span><span class="k">r</span><span class="k">y</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">m</span><span class="n">o</span><span class="n">d</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="n">_</span><span class="n">s</span><span class="n">u</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">d</span><span class="n">o</span><span class="n">c</span><span class="n">t</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="o">.</span><span class="n">D</span><span class="n">o</span><span class="n">c</span><span class="n">T</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">S</span><span class="n">u</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="p">(</span><span class="n">m</span><span class="n">o</span><span class="n">d</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">x</span><span class="k">c</span><span class="k">e</span><span class="k">p</span><span class="k">t</span><span class=""> </span><span class="ne">V</span><span class="ne">a</span><span class="ne">l</span><span class="ne">u</span><span class="ne">e</span><span class="ne">E</span><span class="ne">r</span><span class="ne">r</span><span class="ne">o</span><span class="ne">r</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="c1">#</span><span class="c1"> </span><span class="c1">N</span><span class="c1">o</span><span class="c1"> </span><span class="c1">t</span><span class="c1">e</span><span class="c1">s</span><span class="c1">t</span><span class="c1">s</span><span class="c1"> </span><span class="c1">f</span><span class="c1">o</span><span class="c1">u</span><span class="c1">n</span><span class="c1">d</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">u</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="o">.</span><span class="n">a</span><span class="n">d</span><span class="n">d</span><span class="n">T</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="p">(</span><span class="n">m</span><span class="n">o</span><span class="n">d</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="n">_</span><span class="n">s</span><span class="n">u</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="p">)</span><span class="">
</span><span class="">
</span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="vm">_</span><span class="vm">_</span><span class="vm">n</span><span class="vm">a</span><span class="vm">m</span><span class="vm">e</span><span class="vm">_</span><span class="vm">_</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">_</span><span class="s2">_</span><span class="s2">m</span><span class="s2">a</span><span class="s2">i</span><span class="s2">n</span><span class="s2">_</span><span class="s2">_</span><span class="s2">"</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">u</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">u</span><span class="n">n</span><span class="n">i</span><span class="n">t</span><span class="n">t</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="o">.</span><span class="n">T</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">S</span><span class="n">u</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">l</span><span class="n">o</span><span class="n">a</span><span class="n">d</span><span class="n">_</span><span class="n">t</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">_</span><span class="n">c</span><span class="n">a</span><span class="n">s</span><span class="n">e</span><span class="n">s</span><span class="n">_</span><span class="n">f</span><span class="n">r</span><span class="n">o</span><span class="n">m</span><span class="n">_</span><span class="n">m</span><span class="n">o</span><span class="n">d</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="n">_</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">(</span><span class="n">s</span><span class="n">u</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="p">,</span><span class=""> </span><span class="s2">"</span><span class="s2">t</span><span class="s2">e</span><span class="s2">s</span><span class="s2">t</span><span class="s2">_</span><span class="s2">w</span><span class="s2">x</span><span class="s2">"</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">l</span><span class="n">o</span><span class="n">a</span><span class="n">d</span><span class="n">_</span><span class="n">d</span><span class="n">o</span><span class="n">c</span><span class="n">_</span><span class="n">t</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">s</span><span class="n">_</span><span class="n">f</span><span class="n">r</span><span class="n">o</span><span class="n">m</span><span class="n">_</span><span class="n">m</span><span class="n">o</span><span class="n">d</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="n">_</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">(</span><span class="n">s</span><span class="n">u</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="p">,</span><span class=""> </span><span class="s2">"</span><span class="s2">t</span><span class="s2">e</span><span class="s2">s</span><span class="s2">t</span><span class="s2">_</span><span class="s2">d</span><span class="s2">o</span><span class="s2">c</span><span class="s2">"</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">r</span><span class="k">i</span><span class="k">n</span><span class="k">t</span><span class="p">(</span><span class="n">u</span><span class="n">n</span><span class="n">i</span><span class="n">t</span><span class="n">t</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="o">.</span><span class="n">T</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">T</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">R</span><span class="n">u</span><span class="n">n</span><span class="n">n</span><span class="n">e</span><span class="n">r</span><span class="p">(</span><span class="p">)</span><span class="o">.</span><span class="n">r</span><span class="n">u</span><span class="n">n</span><span class="p">(</span><span class="n">s</span><span class="n">u</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="p">)</span><span class="p">)</span><span class="">
</span></pre></div>

</div>

<p>It creates a test suite with test cases from two modules: one with a unit test and one with a doctests. It then runs the tests.</p>

<p>The first test is a unit test that needs an instance of <code>wx.App</code>:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>test_wx.py</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="kn">i</span><span class="kn">m</span><span class="kn">p</span><span class="kn">o</span><span class="kn">r</span><span class="kn">t</span><span class=""> </span><span class="nn">c</span><span class="nn">o</span><span class="nn">n</span><span class="nn">t</span><span class="nn">e</span><span class="nn">x</span><span class="nn">t</span><span class="nn">l</span><span class="nn">i</span><span class="nn">b</span><span class="">
</span><span class="kn">i</span><span class="kn">m</span><span class="kn">p</span><span class="kn">o</span><span class="kn">r</span><span class="kn">t</span><span class=""> </span><span class="nn">u</span><span class="nn">n</span><span class="nn">i</span><span class="nn">t</span><span class="nn">t</span><span class="nn">e</span><span class="nn">s</span><span class="nn">t</span><span class="">
</span><span class="">
</span><span class="kn">i</span><span class="kn">m</span><span class="kn">p</span><span class="kn">o</span><span class="kn">r</span><span class="kn">t</span><span class=""> </span><span class="nn">w</span><span class="nn">x</span><span class="">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">W</span><span class="nc">x</span><span class="nc">T</span><span class="nc">e</span><span class="nc">s</span><span class="nc">t</span><span class="p">(</span><span class="n">u</span><span class="n">n</span><span class="n">i</span><span class="n">t</span><span class="n">t</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="o">.</span><span class="n">T</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">C</span><span class="n">a</span><span class="n">s</span><span class="n">e</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">t</span><span class="nf">e</span><span class="nf">s</span><span class="nf">t</span><span class="nf">_</span><span class="nf">w</span><span class="nf">x</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">w</span><span class="k">i</span><span class="k">t</span><span class="k">h</span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">w</span><span class="n">x</span><span class="n">a</span><span class="n">p</span><span class="n">p</span><span class="p">(</span><span class="p">)</span><span class=""> </span><span class="k">a</span><span class="k">s</span><span class=""> </span><span class="n">a</span><span class="n">p</span><span class="n">p</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="c1">#</span><span class="c1"> </span><span class="c1">T</span><span class="c1">e</span><span class="c1">s</span><span class="c1">t</span><span class="c1"> </span><span class="c1">s</span><span class="c1">o</span><span class="c1">m</span><span class="c1">e</span><span class="c1">t</span><span class="c1">h</span><span class="c1">i</span><span class="c1">n</span><span class="c1">g</span><span class="c1"> </span><span class="c1">t</span><span class="c1">h</span><span class="c1">a</span><span class="c1">t</span><span class="c1"> </span><span class="c1">r</span><span class="c1">e</span><span class="c1">q</span><span class="c1">u</span><span class="c1">i</span><span class="c1">r</span><span class="c1">e</span><span class="c1">s</span><span class="c1"> </span><span class="c1">a</span><span class="c1"> </span><span class="c1">w</span><span class="c1">x</span><span class="c1">.</span><span class="c1">A</span><span class="c1">p</span><span class="c1">p</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nd">@</span><span class="nd">c</span><span class="nd">o</span><span class="nd">n</span><span class="nd">t</span><span class="nd">e</span><span class="nd">x</span><span class="nd">t</span><span class="nd">l</span><span class="nd">i</span><span class="nd">b</span><span class="nd">.</span><span class="nd">c</span><span class="nd">o</span><span class="nd">n</span><span class="nd">t</span><span class="nd">e</span><span class="nd">x</span><span class="nd">t</span><span class="nd">m</span><span class="nd">a</span><span class="nd">n</span><span class="nd">a</span><span class="nd">g</span><span class="nd">e</span><span class="nd">r</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">w</span><span class="nf">x</span><span class="nf">a</span><span class="nf">p</span><span class="nf">p</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">a</span><span class="n">p</span><span class="n">p</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">A</span><span class="n">p</span><span class="n">p</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">t</span><span class="k">r</span><span class="k">y</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">y</span><span class="k">i</span><span class="k">e</span><span class="k">l</span><span class="k">d</span><span class=""> </span><span class="n">a</span><span class="n">p</span><span class="n">p</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">f</span><span class="k">i</span><span class="k">n</span><span class="k">a</span><span class="k">l</span><span class="k">l</span><span class="k">y</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">a</span><span class="n">p</span><span class="n">p</span><span class="o">.</span><span class="n">D</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">o</span><span class="n">y</span><span class="p">(</span><span class="p">)</span><span class="">
</span></pre></div>

</div>

<p>This example doesn't test anything, but is enough to reproduce the failure.</p>

<p>The second test is a doctest that asserts that a function prints a string:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>test_doc.py</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="sd">"</span><span class="sd">"</span><span class="sd">"</span><span class="sd">
</span><span class="sd">&gt;</span><span class="sd">&gt;</span><span class="sd">&gt;</span><span class="sd"> </span><span class="sd">p</span><span class="sd">r</span><span class="sd">i</span><span class="sd">n</span><span class="sd">t</span><span class="sd">_</span><span class="sd">f</span><span class="sd">u</span><span class="sd">n</span><span class="sd">_</span><span class="sd">s</span><span class="sd">t</span><span class="sd">u</span><span class="sd">f</span><span class="sd">f</span><span class="sd">(</span><span class="sd">)</span><span class="sd">
</span><span class="sd">T</span><span class="sd">h</span><span class="sd">i</span><span class="sd">s</span><span class="sd"> </span><span class="sd">i</span><span class="sd">s</span><span class="sd"> </span><span class="sd">f</span><span class="sd">u</span><span class="sd">n</span><span class="sd">!</span><span class="sd">
</span><span class="sd">"</span><span class="sd">"</span><span class="sd">"</span><span class="">
</span><span class="">
</span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">p</span><span class="nf">r</span><span class="nf">i</span><span class="nf">n</span><span class="nf">t</span><span class="nf">_</span><span class="nf">f</span><span class="nf">u</span><span class="nf">n</span><span class="nf">_</span><span class="nf">s</span><span class="nf">t</span><span class="nf">u</span><span class="nf">f</span><span class="nf">f</span><span class="p">(</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">r</span><span class="k">i</span><span class="k">n</span><span class="k">t</span><span class="p">(</span><span class="s2">"</span><span class="s2">T</span><span class="s2">h</span><span class="s2">i</span><span class="s2">s</span><span class="s2"> </span><span class="s2">i</span><span class="s2">s</span><span class="s2"> </span><span class="s2">f</span><span class="s2">u</span><span class="s2">n</span><span class="s2">!</span><span class="s2">"</span><span class="p">)</span><span class="">
</span></pre></div>

</div>

<p>When I run this example, I get the failure:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">$</span><span class=""> </span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class=""> </span><span class="">t</span><span class="">e</span><span class="">s</span><span class="">t</span><span class="">r</span><span class="">u</span><span class="">n</span><span class="">n</span><span class="">e</span><span class="">r</span><span class="">.</span><span class="">p</span><span class="">y</span><span class="">
</span><span class="">.</span><span class="">T</span><span class="">h</span><span class="">i</span><span class="">s</span><span class=""> </span><span class="">i</span><span class="">s</span><span class=""> </span><span class="">f</span><span class="">u</span><span class="">n</span><span class="">!</span><span class="">
</span><span class="">F</span><span class="">
</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">F</span><span class="">A</span><span class="">I</span><span class="">L</span><span class="">:</span><span class=""> </span><span class="">t</span><span class="">e</span><span class="">s</span><span class="">t</span><span class="">_</span><span class="">d</span><span class="">o</span><span class="">c</span><span class=""> </span><span class="">(</span><span class="">)</span><span class="">
</span><span class="">D</span><span class="">o</span><span class="">c</span><span class="">t</span><span class="">e</span><span class="">s</span><span class="">t</span><span class="">:</span><span class=""> </span><span class="">t</span><span class="">e</span><span class="">s</span><span class="">t</span><span class="">_</span><span class="">d</span><span class="">o</span><span class="">c</span><span class="">
</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">
</span><span class="">T</span><span class="">r</span><span class="">a</span><span class="">c</span><span class="">e</span><span class="">b</span><span class="">a</span><span class="">c</span><span class="">k</span><span class=""> </span><span class="">(</span><span class="">m</span><span class="">o</span><span class="">s</span><span class="">t</span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">c</span><span class="">e</span><span class="">n</span><span class="">t</span><span class=""> </span><span class="">c</span><span class="">a</span><span class="">l</span><span class="">l</span><span class=""> </span><span class="">l</span><span class="">a</span><span class="">s</span><span class="">t</span><span class="">)</span><span class="">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">F</span><span class="">i</span><span class="">l</span><span class="">e</span><span class=""> </span><span class="">"</span><span class="">/</span><span class="">u</span><span class="">s</span><span class="">r</span><span class="">/</span><span class="">l</span><span class="">i</span><span class="">b</span><span class="">6</span><span class="">4</span><span class="">/</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">/</span><span class="">d</span><span class="">o</span><span class="">c</span><span class="">t</span><span class="">e</span><span class="">s</span><span class="">t</span><span class="">.</span><span class="">p</span><span class="">y</span><span class="">"</span><span class="">,</span><span class=""> </span><span class="">l</span><span class="">i</span><span class="">n</span><span class="">e</span><span class=""> </span><span class="">2</span><span class="">1</span><span class="">9</span><span class="">6</span><span class="">,</span><span class=""> </span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">r</span><span class="">u</span><span class="">n</span><span class="">T</span><span class="">e</span><span class="">s</span><span class="">t</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">r</span><span class="">a</span><span class="">i</span><span class="">s</span><span class="">e</span><span class=""> </span><span class="">s</span><span class="">e</span><span class="">l</span><span class="">f</span><span class="">.</span><span class="">f</span><span class="">a</span><span class="">i</span><span class="">l</span><span class="">u</span><span class="">r</span><span class="">e</span><span class="">E</span><span class="">x</span><span class="">c</span><span class="">e</span><span class="">p</span><span class="">t</span><span class="">i</span><span class="">o</span><span class="">n</span><span class="">(</span><span class="">s</span><span class="">e</span><span class="">l</span><span class="">f</span><span class="">.</span><span class="">f</span><span class="">o</span><span class="">r</span><span class="">m</span><span class="">a</span><span class="">t</span><span class="">_</span><span class="">f</span><span class="">a</span><span class="">i</span><span class="">l</span><span class="">u</span><span class="">r</span><span class="">e</span><span class="">(</span><span class="">n</span><span class="">e</span><span class="">w</span><span class="">.</span><span class="">g</span><span class="">e</span><span class="">t</span><span class="">v</span><span class="">a</span><span class="">l</span><span class="">u</span><span class="">e</span><span class="">(</span><span class="">)</span><span class="">)</span><span class="">)</span><span class="">
</span><span class="">A</span><span class="">s</span><span class="">s</span><span class="">e</span><span class="">r</span><span class="">t</span><span class="">i</span><span class="">o</span><span class="">n</span><span class="">E</span><span class="">r</span><span class="">r</span><span class="">o</span><span class="">r</span><span class="">:</span><span class=""> </span><span class="">F</span><span class="">a</span><span class="">i</span><span class="">l</span><span class="">e</span><span class="">d</span><span class=""> </span><span class="">d</span><span class="">o</span><span class="">c</span><span class="">t</span><span class="">e</span><span class="">s</span><span class="">t</span><span class=""> </span><span class="">t</span><span class="">e</span><span class="">s</span><span class="">t</span><span class=""> </span><span class="">f</span><span class="">o</span><span class="">r</span><span class=""> </span><span class="">t</span><span class="">e</span><span class="">s</span><span class="">t</span><span class="">_</span><span class="">d</span><span class="">o</span><span class="">c</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">F</span><span class="">i</span><span class="">l</span><span class="">e</span><span class=""> </span><span class="">"</span><span class="">t</span><span class="">e</span><span class="">s</span><span class="">t</span><span class="">_</span><span class="">d</span><span class="">o</span><span class="">c</span><span class="">.</span><span class="">p</span><span class="">y</span><span class="">"</span><span class="">,</span><span class=""> </span><span class="">l</span><span class="">i</span><span class="">n</span><span class="">e</span><span class=""> </span><span class="">0</span><span class="">,</span><span class=""> </span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">t</span><span class="">e</span><span class="">s</span><span class="">t</span><span class="">_</span><span class="">d</span><span class="">o</span><span class="">c</span><span class="">
</span><span class="">
</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">
</span><span class="">F</span><span class="">i</span><span class="">l</span><span class="">e</span><span class=""> </span><span class="">"</span><span class="">t</span><span class="">e</span><span class="">s</span><span class="">t</span><span class="">_</span><span class="">d</span><span class="">o</span><span class="">c</span><span class="">.</span><span class="">p</span><span class="">y</span><span class="">"</span><span class="">,</span><span class=""> </span><span class="">l</span><span class="">i</span><span class="">n</span><span class="">e</span><span class=""> </span><span class="">2</span><span class="">,</span><span class=""> </span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">t</span><span class="">e</span><span class="">s</span><span class="">t</span><span class="">_</span><span class="">d</span><span class="">o</span><span class="">c</span><span class="">
</span><span class="">F</span><span class="">a</span><span class="">i</span><span class="">l</span><span class="">e</span><span class="">d</span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">a</span><span class="">m</span><span class="">p</span><span class="">l</span><span class="">e</span><span class="">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">p</span><span class="">r</span><span class="">i</span><span class="">n</span><span class="">t</span><span class="">_</span><span class="">f</span><span class="">u</span><span class="">n</span><span class="">_</span><span class="">s</span><span class="">t</span><span class="">u</span><span class="">f</span><span class="">f</span><span class="">(</span><span class="">)</span><span class="">
</span><span class="">E</span><span class="">x</span><span class="">p</span><span class="">e</span><span class="">c</span><span class="">t</span><span class="">e</span><span class="">d</span><span class="">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">T</span><span class="">h</span><span class="">i</span><span class="">s</span><span class=""> </span><span class="">i</span><span class="">s</span><span class=""> </span><span class="">f</span><span class="">u</span><span class="">n</span><span class="">!</span><span class="">
</span><span class="">G</span><span class="">o</span><span class="">t</span><span class=""> </span><span class="">n</span><span class="">o</span><span class="">t</span><span class="">h</span><span class="">i</span><span class="">n</span><span class="">g</span><span class="">
</span><span class="">
</span><span class="">
</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">-</span><span class="">
</span><span class="">R</span><span class="">a</span><span class="">n</span><span class=""> </span><span class="">2</span><span class=""> </span><span class="">t</span><span class="">e</span><span class="">s</span><span class="">t</span><span class="">s</span><span class=""> </span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">0</span><span class="">.</span><span class="">0</span><span class="">7</span><span class="">4</span><span class="">s</span><span class="">
</span><span class="">
</span><span class="">F</span><span class="">A</span><span class="">I</span><span class="">L</span><span class="">E</span><span class="">D</span><span class=""> </span><span class="">(</span><span class="">f</span><span class="">a</span><span class="">i</span><span class="">l</span><span class="">u</span><span class="">r</span><span class="">e</span><span class="">s</span><span class="">=</span><span class="">1</span><span class="">)</span><span class="">
</span><span class="">&lt;</span><span class="">u</span><span class="">n</span><span class="">i</span><span class="">t</span><span class="">t</span><span class="">e</span><span class="">s</span><span class="">t</span><span class="">.</span><span class="">r</span><span class="">u</span><span class="">n</span><span class="">n</span><span class="">e</span><span class="">r</span><span class="">.</span><span class="">T</span><span class="">e</span><span class="">x</span><span class="">t</span><span class="">T</span><span class="">e</span><span class="">s</span><span class="">t</span><span class="">R</span><span class="">e</span><span class="">s</span><span class="">u</span><span class="">l</span><span class="">t</span><span class=""> </span><span class="">r</span><span class="">u</span><span class="">n</span><span class="">=</span><span class="">2</span><span class=""> </span><span class="">e</span><span class="">r</span><span class="">r</span><span class="">o</span><span class="">r</span><span class="">s</span><span class="">=</span><span class="">0</span><span class=""> </span><span class="">f</span><span class="">a</span><span class="">i</span><span class="">l</span><span class="">u</span><span class="">r</span><span class="">e</span><span class="">s</span><span class="">=</span><span class="">1</span><span class="">&gt;</span><span class="">
</span></pre></div>

</div>

<p>What appears to happen is that the expected string in the doctest is written to the console (or perhaps stderr) instead of being captured by doctest. When I run the doctest in isolation, it passes, so there is nothing wrong with the test itself. It is the sequence of these two tests that causes the problem.</p>

<p>My guess is that something in the wx test interferes with the doctest. Perhaps instantiating a <code>wx.App</code> has some effects on streams and redirection. But shouldn't the <code>app.Destroy()</code> call reset any such effects? It would seem reasonable. But what if the <code>wx.App</code> is not completely destroyed when the doctest is run? To test this, I modify the example to force a garbage collection after the <code>app.Destroy()</code> call like this:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="kn">i</span><span class="kn">m</span><span class="kn">p</span><span class="kn">o</span><span class="kn">r</span><span class="kn">t</span><span class=""> </span><span class="nn">g</span><span class="nn">c</span><span class="p">;</span><span class=""> </span><span class="n">g</span><span class="n">c</span><span class="o">.</span><span class="n">c</span><span class="n">o</span><span class="n">l</span><span class="n">l</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="p">(</span><span class="p">)</span><span class="">
</span></pre></div>

</div>

<p>This gets rid of the failure and the tests pass consistently. This is also the solution that I adopted for Timeline.</p>

<p>The machine I run the example on is running Fedora 30, Python 3.7.3, and wxPython 4.0.4:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">$</span><span class=""> </span><span class="">u</span><span class="">n</span><span class="">a</span><span class="">m</span><span class="">e</span><span class=""> </span><span class="">-</span><span class="">a</span><span class="">
</span><span class="">L</span><span class="">i</span><span class="">n</span><span class="">u</span><span class="">x</span><span class=""> </span><span class="">l</span><span class="">o</span><span class="">c</span><span class="">a</span><span class="">l</span><span class="">h</span><span class="">o</span><span class="">s</span><span class="">t</span><span class="">.</span><span class="">l</span><span class="">o</span><span class="">c</span><span class="">a</span><span class="">l</span><span class="">d</span><span class="">o</span><span class="">m</span><span class="">a</span><span class="">i</span><span class="">n</span><span class=""> </span><span class="">5</span><span class="">.</span><span class="">0</span><span class="">.</span><span class="">9</span><span class="">-</span><span class="">3</span><span class="">0</span><span class="">1</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">3</span><span class="">0</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class=""> </span><span class="">#</span><span class="">1</span><span class=""> </span><span class="">S</span><span class="">M</span><span class="">P</span><span class=""> </span><span class="">T</span><span class="">u</span><span class="">e</span><span class=""> </span><span class="">A</span><span class="">p</span><span class="">r</span><span class=""> </span><span class="">2</span><span class="">3</span><span class=""> </span><span class="">2</span><span class="">3</span><span class="">:</span><span class="">5</span><span class="">7</span><span class="">:</span><span class="">3</span><span class="">5</span><span class="">
</span><span class="">U</span><span class="">T</span><span class="">C</span><span class=""> </span><span class="">2</span><span class="">0</span><span class="">1</span><span class="">9</span><span class=""> </span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class=""> </span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class=""> </span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class=""> </span><span class="">G</span><span class="">N</span><span class="">U</span><span class="">/</span><span class="">L</span><span class="">i</span><span class="">n</span><span class="">u</span><span class="">x</span><span class="">
</span><span class="">$</span><span class=""> </span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">
</span><span class="">P</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class=""> </span><span class="">3</span><span class="">.</span><span class="">7</span><span class="">.</span><span class="">3</span><span class=""> </span><span class="">(</span><span class="">d</span><span class="">e</span><span class="">f</span><span class="">a</span><span class="">u</span><span class="">l</span><span class="">t</span><span class="">,</span><span class=""> </span><span class="">M</span><span class="">a</span><span class="">r</span><span class=""> </span><span class="">2</span><span class="">7</span><span class=""> </span><span class="">2</span><span class="">0</span><span class="">1</span><span class="">9</span><span class="">,</span><span class=""> </span><span class="">1</span><span class="">3</span><span class="">:</span><span class="">3</span><span class="">6</span><span class="">:</span><span class="">3</span><span class="">5</span><span class="">)</span><span class="">
</span><span class="">[</span><span class="">G</span><span class="">C</span><span class="">C</span><span class=""> </span><span class="">9</span><span class="">.</span><span class="">0</span><span class="">.</span><span class="">1</span><span class=""> </span><span class="">2</span><span class="">0</span><span class="">1</span><span class="">9</span><span class="">0</span><span class="">2</span><span class="">2</span><span class="">7</span><span class=""> </span><span class="">(</span><span class="">R</span><span class="">e</span><span class="">d</span><span class=""> </span><span class="">H</span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">9</span><span class="">.</span><span class="">0</span><span class="">.</span><span class="">1</span><span class="">-</span><span class="">0</span><span class="">.</span><span class="">8</span><span class="">)</span><span class="">]</span><span class=""> </span><span class="">o</span><span class="">n</span><span class=""> </span><span class="">l</span><span class="">i</span><span class="">n</span><span class="">u</span><span class="">x</span><span class="">
</span><span class="">T</span><span class="">y</span><span class="">p</span><span class="">e</span><span class=""> </span><span class="">"</span><span class="">h</span><span class="">e</span><span class="">l</span><span class="">p</span><span class="">"</span><span class="">,</span><span class=""> </span><span class="">"</span><span class="">c</span><span class="">o</span><span class="">p</span><span class="">y</span><span class="">r</span><span class="">i</span><span class="">g</span><span class="">h</span><span class="">t</span><span class="">"</span><span class="">,</span><span class=""> </span><span class="">"</span><span class="">c</span><span class="">r</span><span class="">e</span><span class="">d</span><span class="">i</span><span class="">t</span><span class="">s</span><span class="">"</span><span class=""> </span><span class="">o</span><span class="">r</span><span class=""> </span><span class="">"</span><span class="">l</span><span class="">i</span><span class="">c</span><span class="">e</span><span class="">n</span><span class="">s</span><span class="">e</span><span class="">"</span><span class=""> </span><span class="">f</span><span class="">o</span><span class="">r</span><span class=""> </span><span class="">m</span><span class="">o</span><span class="">r</span><span class="">e</span><span class=""> </span><span class="">i</span><span class="">n</span><span class="">f</span><span class="">o</span><span class="">r</span><span class="">m</span><span class="">a</span><span class="">t</span><span class="">i</span><span class="">o</span><span class="">n</span><span class="">.</span><span class="">
</span><span class="">&gt;</span><span class="">&gt;</span><span class="">&gt;</span><span class=""> </span><span class="">i</span><span class="">m</span><span class="">p</span><span class="">o</span><span class="">r</span><span class="">t</span><span class=""> </span><span class="">w</span><span class="">x</span><span class="">
</span><span class="">&gt;</span><span class="">&gt;</span><span class="">&gt;</span><span class=""> </span><span class="">w</span><span class="">x</span><span class="">.</span><span class="">v</span><span class="">e</span><span class="">r</span><span class="">s</span><span class="">i</span><span class="">o</span><span class="">n</span><span class="">(</span><span class="">)</span><span class="">
</span><span class="">'</span><span class="">4</span><span class="">.</span><span class="">0</span><span class="">.</span><span class="">4</span><span class=""> </span><span class="">g</span><span class="">t</span><span class="">k</span><span class="">3</span><span class=""> </span><span class="">(</span><span class="">p</span><span class="">h</span><span class="">o</span><span class="">e</span><span class="">n</span><span class="">i</span><span class="">x</span><span class="">)</span><span class=""> </span><span class="">w</span><span class="">x</span><span class="">W</span><span class="">i</span><span class="">d</span><span class="">g</span><span class="">e</span><span class="">t</span><span class="">s</span><span class=""> </span><span class="">3</span><span class="">.</span><span class="">0</span><span class="">.</span><span class="">4</span><span class="">'</span><span class="">
</span></pre></div>

</div>

<p>But the example doesn't always fail. On the Fedora 30 machine, it fails most of the time, but sometimes it succeeds. When I run the example on a machine that is running Fedora 26, Python 3.6.5, and wxPython 4.0.1, it always succeeds:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">$</span><span class=""> </span><span class="">u</span><span class="">n</span><span class="">a</span><span class="">m</span><span class="">e</span><span class=""> </span><span class="">-</span><span class="">a</span><span class="">
</span><span class="">L</span><span class="">i</span><span class="">n</span><span class="">u</span><span class="">x</span><span class=""> </span><span class="">x</span><span class="">2</span><span class="">2</span><span class="">0</span><span class=""> </span><span class="">4</span><span class="">.</span><span class="">1</span><span class="">6</span><span class="">.</span><span class="">1</span><span class="">1</span><span class="">-</span><span class="">1</span><span class="">0</span><span class="">0</span><span class="">.</span><span class="">f</span><span class="">c</span><span class="">2</span><span class="">6</span><span class="">.</span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class=""> </span><span class="">#</span><span class="">1</span><span class=""> </span><span class="">S</span><span class="">M</span><span class="">P</span><span class=""> </span><span class="">T</span><span class="">u</span><span class="">e</span><span class=""> </span><span class="">M</span><span class="">a</span><span class="">y</span><span class=""> </span><span class="">2</span><span class="">2</span><span class=""> </span><span class="">2</span><span class="">0</span><span class="">:</span><span class="">0</span><span class="">2</span><span class="">:</span><span class="">1</span><span class="">2</span><span class=""> </span><span class="">U</span><span class="">T</span><span class="">C</span><span class=""> </span><span class="">2</span><span class="">0</span><span class="">1</span><span class="">8</span><span class=""> </span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class=""> </span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class=""> </span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">_</span><span class="">6</span><span class="">4</span><span class=""> </span><span class="">G</span><span class="">N</span><span class="">U</span><span class="">/</span><span class="">L</span><span class="">i</span><span class="">n</span><span class="">u</span><span class="">x</span><span class="">
</span><span class="">r</span><span class="">i</span><span class="">c</span><span class="">k</span><span class="">@</span><span class="">x</span><span class="">2</span><span class="">2</span><span class="">0</span><span class=""> </span><span class="">|</span><span class=""> </span><span class="">~</span><span class="">/</span><span class="">r</span><span class="">i</span><span class="">c</span><span class="">k</span><span class="">a</span><span class="">r</span><span class="">d</span><span class="">l</span><span class="">i</span><span class="">n</span><span class="">d</span><span class="">b</span><span class="">e</span><span class="">r</span><span class="">g</span><span class="">.</span><span class="">m</span><span class="">e</span><span class="">/</span><span class="">w</span><span class="">r</span><span class="">i</span><span class="">t</span><span class="">i</span><span class="">n</span><span class="">g</span><span class="">/</span><span class="">d</span><span class="">r</span><span class="">a</span><span class="">f</span><span class="">t</span><span class="">-</span><span class="">t</span><span class="">i</span><span class="">m</span><span class="">e</span><span class="">l</span><span class="">i</span><span class="">n</span><span class="">e</span><span class="">-</span><span class="">d</span><span class="">o</span><span class="">c</span><span class="">t</span><span class="">e</span><span class="">s</span><span class="">t</span><span class="">-</span><span class="">w</span><span class="">x</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">
</span><span class="">$</span><span class=""> </span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class="">3</span><span class="">
</span><span class="">P</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class=""> </span><span class="">3</span><span class="">.</span><span class="">6</span><span class="">.</span><span class="">5</span><span class=""> </span><span class="">(</span><span class="">d</span><span class="">e</span><span class="">f</span><span class="">a</span><span class="">u</span><span class="">l</span><span class="">t</span><span class="">,</span><span class=""> </span><span class="">A</span><span class="">p</span><span class="">r</span><span class=""> </span><span class=""> </span><span class="">4</span><span class=""> </span><span class="">2</span><span class="">0</span><span class="">1</span><span class="">8</span><span class="">,</span><span class=""> </span><span class="">1</span><span class="">5</span><span class="">:</span><span class="">0</span><span class="">9</span><span class="">:</span><span class="">0</span><span class="">5</span><span class="">)</span><span class="">
</span><span class="">[</span><span class="">G</span><span class="">C</span><span class="">C</span><span class=""> </span><span class="">7</span><span class="">.</span><span class="">3</span><span class="">.</span><span class="">1</span><span class=""> </span><span class="">2</span><span class="">0</span><span class="">1</span><span class="">8</span><span class="">0</span><span class="">1</span><span class="">3</span><span class="">0</span><span class=""> </span><span class="">(</span><span class="">R</span><span class="">e</span><span class="">d</span><span class=""> </span><span class="">H</span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">7</span><span class="">.</span><span class="">3</span><span class="">.</span><span class="">1</span><span class="">-</span><span class="">2</span><span class="">)</span><span class="">]</span><span class=""> </span><span class="">o</span><span class="">n</span><span class=""> </span><span class="">l</span><span class="">i</span><span class="">n</span><span class="">u</span><span class="">x</span><span class="">
</span><span class="">T</span><span class="">y</span><span class="">p</span><span class="">e</span><span class=""> </span><span class="">"</span><span class="">h</span><span class="">e</span><span class="">l</span><span class="">p</span><span class="">"</span><span class="">,</span><span class=""> </span><span class="">"</span><span class="">c</span><span class="">o</span><span class="">p</span><span class="">y</span><span class="">r</span><span class="">i</span><span class="">g</span><span class="">h</span><span class="">t</span><span class="">"</span><span class="">,</span><span class=""> </span><span class="">"</span><span class="">c</span><span class="">r</span><span class="">e</span><span class="">d</span><span class="">i</span><span class="">t</span><span class="">s</span><span class="">"</span><span class=""> </span><span class="">o</span><span class="">r</span><span class=""> </span><span class="">"</span><span class="">l</span><span class="">i</span><span class="">c</span><span class="">e</span><span class="">n</span><span class="">s</span><span class="">e</span><span class="">"</span><span class=""> </span><span class="">f</span><span class="">o</span><span class="">r</span><span class=""> </span><span class="">m</span><span class="">o</span><span class="">r</span><span class="">e</span><span class=""> </span><span class="">i</span><span class="">n</span><span class="">f</span><span class="">o</span><span class="">r</span><span class="">m</span><span class="">a</span><span class="">t</span><span class="">i</span><span class="">o</span><span class="">n</span><span class="">.</span><span class="">
</span><span class="">&gt;</span><span class="">&gt;</span><span class="">&gt;</span><span class=""> </span><span class="">i</span><span class="">m</span><span class="">p</span><span class="">o</span><span class="">r</span><span class="">t</span><span class=""> </span><span class="">w</span><span class="">x</span><span class="">
</span><span class="">&gt;</span><span class="">&gt;</span><span class="">&gt;</span><span class=""> </span><span class="">w</span><span class="">x</span><span class="">.</span><span class="">v</span><span class="">e</span><span class="">r</span><span class="">s</span><span class="">i</span><span class="">o</span><span class="">n</span><span class="">(</span><span class="">)</span><span class="">
</span><span class="">'</span><span class="">4</span><span class="">.</span><span class="">0</span><span class="">.</span><span class="">1</span><span class=""> </span><span class="">g</span><span class="">t</span><span class="">k</span><span class="">3</span><span class=""> </span><span class="">(</span><span class="">p</span><span class="">h</span><span class="">o</span><span class="">e</span><span class="">n</span><span class="">i</span><span class="">x</span><span class="">)</span><span class="">'</span><span class="">
</span></pre></div>

</div>

<p>Also, if I change the test so that it doesn't use a context manager, it always succeeds:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">t</span><span class="nf">e</span><span class="nf">s</span><span class="nf">t</span><span class="nf">_</span><span class="nf">w</span><span class="nf">x</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">a</span><span class="n">p</span><span class="n">p</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">w</span><span class="n">x</span><span class="o">.</span><span class="n">A</span><span class="n">p</span><span class="n">p</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">t</span><span class="k">r</span><span class="k">y</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="c1">#</span><span class="c1"> </span><span class="c1">T</span><span class="c1">e</span><span class="c1">s</span><span class="c1">t</span><span class="c1"> </span><span class="c1">s</span><span class="c1">o</span><span class="c1">m</span><span class="c1">e</span><span class="c1">t</span><span class="c1">h</span><span class="c1">i</span><span class="c1">n</span><span class="c1">g</span><span class="c1"> </span><span class="c1">t</span><span class="c1">h</span><span class="c1">a</span><span class="c1">t</span><span class="c1"> </span><span class="c1">r</span><span class="c1">e</span><span class="c1">q</span><span class="c1">u</span><span class="c1">i</span><span class="c1">r</span><span class="c1">e</span><span class="c1">s</span><span class="c1"> </span><span class="c1">a</span><span class="c1"> </span><span class="c1">w</span><span class="c1">x</span><span class="c1">.</span><span class="c1">A</span><span class="c1">p</span><span class="c1">p</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">f</span><span class="k">i</span><span class="k">n</span><span class="k">a</span><span class="k">l</span><span class="k">l</span><span class="k">y</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">a</span><span class="n">p</span><span class="n">p</span><span class="o">.</span><span class="n">D</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">o</span><span class="n">y</span><span class="p">(</span><span class="p">)</span><span class="">
</span></pre></div>

</div>

<p>Perhaps the context manager has some effect on when objects are garbage collected.</p>

<p>If you have any idea why this example sometimes fails, I would be interested to know. It seems illogical that a forced garbage collection should be needed to get a correct program.</p>

]]></summary>
</entry>
<entry>
    <title>Newsletter August 2019</title>
    <link href="http://rickardlindberg.me/writing/newsletter/august-2019/" />
    <id>http://rickardlindberg.me/writing/newsletter/august-2019/</id>
    <published>2019-08-31T00:00:00Z</published>
    <updated>2019-08-31T00:00:00Z</updated>
    <summary type="html"><![CDATA[<h1>Newsletter August 2019</h1>

<p><em>Published on 31 August 2019.</em></p>

<p>This is what I’ve been up to in August 2019:</p>
<ul>
<li><p>I finished the <a href="/writing/rlmeta-vm/index.html">RLMeta VM</a> article. When working on it, I noticed that error handling has not gotten much love. I want to improve it and write about it in another article.</p></li>
<li><p>I found <a href="https://viewsourcecode.org/snaptoken/kilo/index.html">Build Your Own Text Editor</a> that explains how to build a text editor by showing and explaining incremental patches. I found the approach interesting.</p>
<ul>
<li><p>This approach feels similar to what is described in <a href="http://akkartik.name/post/literate-programming">Literate programming: Knuth is doing it wrong</a> and <a href="http://akkartik.name/post/wart-layers">A new way to organize programs</a>.</p></li>
<li><p>The above made me think about if programs could be organized in features without the use of literate programming. That would require some kind of plugin architechture where features could be plugged in independent of eachother.</p></li>
</ul></li>
<li><p>I read Guido van Rossum’s article on <a href="https://medium.com/@gvanrossum_83706/generating-a-peg-parser-520057d642a9">Generating a PEG Parser</a>. This made me realize that RLMeta does not memoize correctly. I’m working on an <a href="/writing/rlmeta-memoize-failures/index.html">article</a> where I fix it.</p></li>
<li><p>I worked on porting <a href="/projects/timeline/index.html">Timeline</a> to Python 3. It is a work in progress, but the application now starts. I have a few items left on my TODO list that I want to complete before considering the port done. I ran into a problem that I <a href="/writing/timeline-doctest-wxpython/index.html">blogged about</a>. An another one <a href="/writing/timeline-segfault-wxpython/index.html">in progress</a>.</p></li>
<li><p>I found <a href="https://twitter.com/mfeathers/status/1159495761714769921">this tweet</a> by Michael Feathers interesting:</p>
<blockquote>
<p>Fred Brooks said that software is best when it looks like it was designed by one mind.</p>
<p>Mob programming is an attempt to create one mind of many.</p>
<p>Quality goes down as the number of people touching code independently goes up.</p>
<p>Interesting constraint problem.</p>
</blockquote>
<p>And a <a href="https://twitter.com/raganwald/status/1159498133635850240">follow up</a>:</p>
<blockquote>
<p>Interesting parallel to Alan Kay’s bifurcation of languages into “Agglutination of features” vs. “Crystallization of style.”</p>
<p>The former are almost always defined by committee, the latter by solo designers or very small, tight teams.</p>
</blockquote>
<p>And another <a href="https://twitter.com/jit_j/status/1159501352243998720">follow up</a>:</p>
<blockquote>
<p>There are quality OSS projects that are made up of individual contributors and a distributed review process. It’s possible for independent workers to maintain and extend a codebase, as long as they buy into a shared style and a shared philosophy. Process matters though.</p>
</blockquote>
<p>How can we build software so that it appears to be desgined by a single mind?</p></li>
<li><p>I wrote some code for an <a href="/writing/rlmeta-left-associativity/index.html">upcoming article</a> on parsing left associative operators in RLMeta.</p></li>
<li><p>I read some of Eli Bendersky’s articles on parsing:</p>
<ul>
<li><p><a href="https://eli.thegreenplace.net/2008/09/26/recursive-descent-ll-and-predictive-parsers">Recursive descent, LL and predictive parsers</a></p></li>
<li><p><a href="https://eli.thegreenplace.net/2009/03/14/some-problems-of-recursive-descent-parsers">Some problems of recursive descent parsers</a></p></li>
<li><p><a href="https://eli.thegreenplace.net/2009/03/20/a-recursive-descent-parser-with-an-infix-expression-evaluator">A recursive descent parser with an infix expression evaluator</a></p></li>
<li><p><a href="https://eli.thegreenplace.net/2010/01/02/top-down-operator-precedence-parsing">Top-Down operator precedence parsing</a></p></li>
<li><p><a href="https://eli.thegreenplace.net/2012/08/02/parsing-expressions-by-precedence-climbing">Parsing expressions by precedence climbing</a></p></li>
</ul></li>
<li><p>One of them led me to read Bob Nystrom’s article <a href="http://journal.stuffwithstuff.com/2011/03/19/pratt-parsers-expression-parsing-made-easy/">Pratt Parsers: Expression Parsing Made Easy</a>.</p></li>
<li><p>I want to learn more about JIT compilation. As I read <a href="http://blog.reverberate.org/2012/12/hello-jit-world-joy-of-simple-jits.html">Hello, JIT World: The Joy of Simple JITs</a> describing a JIT compiler for Brainfuck I thought: Is JIT-ing byte code just getting rid of the interpreter loop? I’m not completely sure of the big picture yet. And how does a tracing JIT compiler differ from a regular JIT compiler. Brainfuck seems to be a popular example in JIT articles.</p></li>
<li><p>I read about Cython and though that I should try it for RLMeta VM. Should be quite easy to port it to C and make incremental performance improvements.</p></li>
</ul>
]]></summary>
</entry>

</feed>
