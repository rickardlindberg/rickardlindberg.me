<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title>Rickard's personal homepage: latest posts tagged draft</title>
    <link href="http://rickardlindberg.me/tags/draft/atom.xml" rel="self" />
    <link href="http://rickardlindberg.me" />
    <id>http://rickardlindberg.me/tags/draft/atom.xml</id>
    <author>
        <name>Rickard Lindberg</name>
        <email>rickard@rickardlindberg.me</email>
    </author>
    <updated>2023-05-16T00:00:00Z</updated>
    <entry>
    <title>DRAFT: Programming a Logitech Gamepad F310</title>
    <link href="http://rickardlindberg.me/writing/agdpp-logitech-gamepad-f310/" />
    <id>http://rickardlindberg.me/writing/agdpp-logitech-gamepad-f310/</id>
    <published>2023-05-16T00:00:00Z</published>
    <updated>2023-05-16T00:00:00Z</updated>
    <summary type="html"><![CDATA[<h1>DRAFT: Programming a Logitech Gamepad F310</h1>

<p><em>Published on 16 May 2023 in <a href="/projects/agdpp/index.html">Agile Game Development with Python and Pygame</a>.</em></p>

<p><strong>This is a work in progress that will change. Like to see it finished? Let me know by sending me an email.</strong></p>
<p>I recently bought a pair of Logitech gamepads that me and my son use when playing <a href="https://supertuxkart.net/Main_Page">SuperTuxKart</a>:</p>
<p>
<center>
<img src="logitech-gamepad-f310.png" title="fig:" alt="Logitech Gamepad F310." />
</center>
</p>
<p>I want to be able to use those gamepads in the balloon shooter as well. My suspicion is that the balloon shooter will feel many times more like a “real” game if we can control it using “real” game controllers. Even though we are all about having fun here and learning, we still want this to feel like a real game, not some toy example. So let’s get started.</p>
<h2 id="learning-about-events">Learning about events</h2>
<p>How do we capture events from a Logitech gamepad?</p>
<p>One way to find out is to print all the events that pygame generates. We can for example do that in the <code>tick</code> method:</p>
<div class="rliterate-code">
<div class="rliterate-code-body">
<div class="highlight">
<pre><span></span><span class="k">class</span> <span class="nc">BalloonShooter</span><span class="p">:</span>

    <span class="o">...</span>

    <span class="k">def</span> <span class="nf">tick</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">,</span> <span class="n">events</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">events</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
            <span class="o">...</span>
</pre>
</div>
</div>
</div>
<p>This makes the test suite fail since the print statement is outputting event information that the tests do not expect to find.</p>
<p>This might be a downside of doctest, that it captures stdout and asserts on it. Normally a print statement should not affect the function of the code, so it should be fine.</p>
<p>On the other hand, if we use print statements for debugging, maybe it’s a good thing that out test suite fails so that we are remembered to keep the debug session short and remove it once we are done.</p>
<p>Anyway, if we run the game now and press keys we can see things like this in the output:</p>
<div class="rliterate-code">
<div class="rliterate-code-body">
<div class="highlight">
<pre><span></span>&lt;Event(771-TextInput {&#39;text&#39;: &#39; &#39;, &#39;window&#39;: None})&gt;
&lt;Event(769-KeyUp {&#39;unicode&#39;: &#39; &#39;, &#39;key&#39;: 32, &#39;mod&#39;: 0, &#39;scancode&#39;: 44, &#39;window&#39;: None})&gt;
&lt;Event(768-KeyDown {&#39;unicode&#39;: &#39;&#39;, &#39;key&#39;: 1073742049, &#39;mod&#39;: 1, &#39;scancode&#39;: 225, &#39;window&#39;: None})&gt;
&lt;Event(768-KeyDown {&#39;unicode&#39;: &#39;&#39;, &#39;key&#39;: 1073742050, &#39;mod&#39;: 257, &#39;scancode&#39;: 226, &#39;window&#39;: None})&gt;
</pre>
</div>
</div>
</div>
<p>But when we press a key on the Logitech gamepad, nothing happens.</p>
<p>However, if we look at the beginning of the event log, we see this:</p>
<div class="rliterate-code">
<div class="rliterate-code-body">
<div class="highlight">
<pre><span></span>&lt;Event(1541-JoyDeviceAdded {&#39;device_index&#39;: 0, &#39;guid&#39;: &#39;030000006d0400001dc2000014400000&#39;})&gt;
</pre>
</div>
</div>
</div>
<p>Is this our Logitech gamepad?</p>
<h2 id="initializing-joysticks">Initializing joysticks</h2>
<p>We read about joysticks in the <a href="https://www.pygame.org/docs/ref/joystick.html">pygame documentation</a>. It seems like they must be initialized before events are generated for them.</p>
<blockquote>
<p>Joysticks are initialised on creation and are shut down when deallocated. Once the device is initialized the pygame event queue will start receiving events about its input.</p>
</blockquote>
<p>We try to mimic the example in the documentation to initialize joysticks:</p>
<div class="rliterate-code">
<div class="rliterate-code-body">
<div class="highlight">
<pre><span></span><span class="k">class</span> <span class="nc">GameLoop</span><span class="p">(</span><span class="n">Observable</span><span class="p">):</span>

    <span class="o">...</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">game</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="p">(</span><span class="mi">1280</span><span class="p">,</span> <span class="mi">720</span><span class="p">),</span> <span class="n">fps</span><span class="o">=</span><span class="mi">60</span><span class="p">):</span>
        <span class="o">...</span>
        <span class="n">joysticks</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                <span class="n">pygame_events</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame_events</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">JOYDEVICEADDED</span><span class="p">:</span>
                        <span class="n">joy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pygame</span><span class="o">.</span><span class="n">joystick</span><span class="o">.</span><span class="n">Joystick</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">device_index</span><span class="p">)</span>
                        <span class="n">joysticks</span><span class="p">[</span><span class="n">joy</span><span class="o">.</span><span class="n">get_instance_id</span><span class="p">()]</span> <span class="o">=</span> <span class="n">joy</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">game</span><span class="o">.</span><span class="n">event</span><span class="p">(</span><span class="n">Event</span><span class="p">(</span><span class="n">event</span><span class="p">))</span>
                <span class="o">...</span>
</pre>
</div>
</div>
</div>
<p>We don’t handle <code>JOYDEVICEREMOVED</code> yet. We probably should, but unless we unplug the gamepad while running the game, we should be fine I think.</p>
<p>This change passes all the tests. However, we are never simulating the <code>JOYDEVICEADDED</code> event, so the code is never executed.</p>
<p>I think we will get faster feedback by just testing this thing for real. We can come back and describe the joystick handling code in the form of tests later on if we feel the need. And maybe test the <code>JOYDEVICEREMOVED</code> as well.</p>
<p>Anyway, if we run the game now and press keys on the gamepad, we see events like this:</p>
<div class="rliterate-code">
<div class="rliterate-code-body">
<div class="highlight">
<pre><span></span>&lt;Event(1536-JoyAxisMotion {&#39;joy&#39;: 0, &#39;instance_id&#39;: 0, &#39;axis&#39;: 0, &#39;value&#39;: 0.003906369212927641})&gt;
&lt;Event(1539-JoyButtonDown {&#39;joy&#39;: 0, &#39;instance_id&#39;: 0, &#39;button&#39;: 0})&gt;
&lt;Event(1540-JoyButtonUp {&#39;joy&#39;: 0, &#39;instance_id&#39;: 0, &#39;button&#39;: 0})&gt;
</pre>
</div>
</div>
</div>
<p>I feel a disproportional sense of excitement and joy over this. We can now get input from the Logitech gamepad. We are real game developers now! Now it’s a matter of mapping events to actions in our game.</p>
<h2 id="isolating-input-handling">Isolating input handling</h2>
<p>For now, we want to be able to play our game with both the keyboard and the Logitech gamepad. I will most likely use the gamepad 99% of the time, but if you don’t have it, we still want you to be able to play the game.</p>
<p>Input handling is therefore something that is starting to become a little complicated. It’s not just a matter of mapping one event to one action.</p>
<p>Now, we have this:</p>
<div class="rliterate-code">
<div class="rliterate-code-body">
<div class="highlight">
<pre><span></span><span class="k">class</span> <span class="nc">GameScene</span><span class="p">(</span><span class="n">SpriteGroup</span><span class="p">):</span>

    <span class="o">...</span>

    <span class="k">def</span> <span class="nf">event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="o">...</span>
        <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">is_keydown_space</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flying_arrows</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arrow</span><span class="o">.</span><span class="n">clone_shooting</span><span class="p">())</span>
        <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">is_keydown_left</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">arrow</span><span class="o">.</span><span class="n">angle_left</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">is_keydown_right</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">arrow</span><span class="o">.</span><span class="n">angle_right</span><span class="p">()</span>
</pre>
</div>
</div>
</div>
<p>That is a one to one mapping between events and actions.</p>
<p>We still want this code to look similar but allow multiple events to generate the same actions.</p>
<p>Here is what we come up with:</p>
<div class="rliterate-code">
<div class="rliterate-code-body">
<div class="highlight">
<pre><span></span><span class="k">class</span> <span class="nc">GameScene</span><span class="p">(</span><span class="n">SpriteGroup</span><span class="p">):</span>

    <span class="o">...</span>

    <span class="k">def</span> <span class="nf">event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_handler</span><span class="o">.</span><span class="n">action</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_handler</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_handler</span><span class="o">.</span><span class="n">get_shoot</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flying_arrows</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bow</span><span class="o">.</span><span class="n">clone_shooting</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bow</span><span class="o">.</span><span class="n">turn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_handler</span><span class="o">.</span><span class="n">get_turn_angle</span><span class="p">())</span>
</pre>
</div>
</div>
</div>
<p>So we pass along events to an input handler, then we query it in the <code>update</code> method, asking it if a shot action was triggered (from either input device), and if so, modify <code>flying_arrows</code> as before. We do something similar for turning the arrow. But instead of asking the input handler if a left/right action was triggered, we ask it for an angle that we should turn the arrow. Since the arrow can be turned with variable speed with the Logitech gamepad, this makes more sense.</p>
<p>Before we move on to the input handler, I want to discuss another thing that is new here: the bow.</p>
<h2 id="bow">Bow</h2>
<p>Instead of doing <code>arrow.angle_left/right()</code> we do <code>bow.turn(angle)</code>. We have extracted a concept called bow.</p>
<p>Right now it is a wrapper around an arrow, but the idea is that you might want to draw more graphics for the bow.</p>
<p>Here is what it looks like:</p>
<div class="rliterate-code">
<div class="rliterate-code-body">
<div class="highlight">
<pre><span></span><span class="k">class</span> <span class="nc">Bow</span><span class="p">(</span><span class="n">SpriteGroup</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">SpriteGroup</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">arrow</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Arrow</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">turn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">arrow</span><span class="o">.</span><span class="n">set_angle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arrow</span><span class="o">.</span><span class="n">angle</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">angle</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">clone_shooting</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">arrow</span><span class="o">.</span><span class="n">clone_shooting</span><span class="p">()</span>

    <span class="o">...</span>
</pre>
</div>
</div>
</div>
<p>I’m not sure that bow is the right name. Do we shoot arrows with a bow in our game? Or is it some kind of cannon? I think we need to ask our product owner.</p>
<p>At the moment we are not doing any drawing except the arrow, so the bow just acts as a placeholder to attract new functionality. And the concept of a bow makes sense. You need to shoot the arrow with something. And when you shoot, the arrow leaves the bow and goes into the list of flying arrows.</p>
<h2 id="input-handler">Input handler</h2>
<p>Ok, on to the input handler.</p>
<p>It is responsible for handling events and keeping some state of that those events should result in.</p>
<p>Let’s look at how it handles shooting:</p>
<div class="rliterate-code">
<div class="rliterate-code-body">
<div class="highlight">
<pre><span></span><span class="k">class</span> <span class="nc">InputHandler</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="o">...</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shoot_down</span> <span class="o">=</span> <span class="n">ResettableValue</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_shoot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">shoot</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shoot</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">shoot_down</span><span class="o">.</span><span class="n">get_and_reset</span><span class="p">()</span>
        <span class="o">...</span>

    <span class="k">def</span> <span class="nf">action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">is_keydown</span><span class="p">(</span><span class="n">KEY_SPACE</span><span class="p">)</span> <span class="ow">or</span> <span class="n">event</span><span class="o">.</span><span class="n">is_joystick_down</span><span class="p">(</span><span class="n">XBOX_A</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">shoot_down</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="o">...</span>
</pre>
</div>
</div>
</div>
<p>It will be called by the game scene like this:</p>
<div class="rliterate-code">
<div class="rliterate-code-body">
<div class="highlight">
<pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">input_handler</span><span class="o">.</span><span class="n">action</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">input_handler</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span>
<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_handler</span><span class="o">.</span><span class="n">get_shoot</span><span class="p">():</span>
    <span class="o">...</span>
</pre>
</div>
</div>
</div>
<p>The <code>shoot_down</code> variable remembers if a shoot key/button has been pressed since the last call to <code>update</code>. We only want <code>get_shoot</code> to return true one time when we press a shoot key/button.</p>
<p>The resettable value looks like this:</p>
<div class="rliterate-code">
<div class="rliterate-code-body">
<div class="highlight">
<pre><span></span><span class="k">class</span> <span class="nc">ResettableValue</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">default</span> <span class="o">=</span> <span class="n">default</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">default</span>

    <span class="k">def</span> <span class="nf">get_and_reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">x</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span>

    <span class="k">def</span> <span class="nf">set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default</span>
</pre>
</div>
</div>
</div>
<p>The <code>is_joystick_down</code> method on the event is new. We have added wrappers for new events <a href="/writing/agdpp-shooting-arrow/index.html">before</a>, and this is done the same way.</p>
<p>The logic for the turn angle is a little more complicated. The input handler remembers what state the keyboard and gamepad is in. For the keyboard, it is if a turn key is currently pressed or not. For the gamepad, it is the current x position of the joystick. We store that state in <code>arrow_turn_factor</code>. It is a value between -1 and 1. -1 means turn full speed to the left. 1 means turn full speed to the right. The keyboard can only turn with full speed but the gamepad can turn with variable speed by moving the joystick into different x positions. (We could imagine that the turn factor for the keyboard increase over time. So the speed increases the longer you have held a turn button down. That kind of logic would go in here and the game would still only query for the turn angle.)</p>
<p>Here is the implementation:</p>
<div class="rliterate-code">
<div class="rliterate-code-body">
<div class="highlight">
<pre><span></span><span class="k">class</span> <span class="nc">InputHandler</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">arrow_turn_factor</span> <span class="o">=</span> <span class="n">ResettableValue</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="o">...</span>

    <span class="k">def</span> <span class="nf">get_shoot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">shoot</span>

    <span class="k">def</span> <span class="nf">get_turn_angle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">turn_angle</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
        <span class="o">...</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">turn_angle</span> <span class="o">=</span> <span class="n">Angle</span><span class="o">.</span><span class="n">fraction_of_whole</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arrow_turn_factor</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">*</span><span class="n">dt</span><span class="o">*</span><span class="mi">1</span><span class="o">/</span><span class="mi">2000</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="o">...</span>
        <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">is_keydown</span><span class="p">(</span><span class="n">KEY_LEFT</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">arrow_turn_factor</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">is_keyup</span><span class="p">(</span><span class="n">KEY_LEFT</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">arrow_turn_factor</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">is_keydown</span><span class="p">(</span><span class="n">KEY_RIGHT</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">arrow_turn_factor</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">is_keyup</span><span class="p">(</span><span class="n">KEY_RIGHT</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">arrow_turn_factor</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">is_joystick_motion</span><span class="p">()</span> <span class="ow">and</span> <span class="n">event</span><span class="o">.</span><span class="n">get_axis</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">get_value</span><span class="p">())</span> <span class="o">&gt;</span> <span class="mf">0.01</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">arrow_turn_factor</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">get_value</span><span class="p">())</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">arrow_turn_factor</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
</pre>
</div>
</div>
</div>
<p>We also have extracted an <code>Angle</code> class.</p>
<h2 id="design-note">Design note</h2>
<p>It took me a few refactorings and experimentation to end up with this design for the input handler.</p>
<ul>
<li>work towards a nice input handler (mocks vs state based)</li>
</ul>
<div class="rliterate-code">
<div class="rliterate-code-body">
<div class="highlight">
<pre><span></span>
</pre>
</div>
</div>
</div>
<h2 id="summary">Summary</h2>
<p>See you in the next episode!</p>
]]></summary>
</entry>
<entry>
    <title>DRAFT: Compiling expressions to x86 machine code</title>
    <link href="http://rickardlindberg.me/writing/expr-to-x86-compiler/" />
    <id>http://rickardlindberg.me/writing/expr-to-x86-compiler/</id>
    <published>2020-05-20T00:00:00Z</published>
    <updated>2020-05-20T00:00:00Z</updated>
    <summary type="html"><![CDATA[<h1>DRAFT: Compiling expressions to x86 machine code</h1>

<p><em>Published on 2020-05-20.</em></p>

<strong>This is a work in progress that will change. Like to see it finished? Let me know by sending me an email.</strong>

<p>In <a href="/writing/rlmeta-left-associativity/index.html">Parsing left associative operators using RLMeta</a> we looked at how to parse a subset of mathematical expressions. In this article we will take it further and compile such expressions to x86 machine code. Thus creating a real compiler for expressions.</p>

<ul><li><a href="#969c195716e94c05ad23bd50f7dc061a">Overview</a>

</li>

<li><a href="#a83adf407dbd43929bfbb4ab7f7311e5">Parser</a>

</li>

<li><a href="#0488143f851349bf876169b04770e6bf">Abstract code generator</a>

</li>

<li><a href="#bb76bbbba48d4c23b982e5c90af36d86">X86 code generator</a>

</li>

<li><a href="#12e4e39c6b494b30a425f4570e8b8d53">GAS generator</a>

</li>

<li><a href="#d3ece5a4ba484033ac47d9190e513acd">Assembler</a>

</li>

<li><a href="#a047c1b417bc42799170c0e3632cc3f9">Appendix: All source code</a>

</li>

<li><a href="#ff74bacb76bf40f082f88738ebc5d8b0">Appendix: RLMeta</a>

</li>

<li><a href="#7790eca23f484ea7b7430ef607b491c2">Appendix: Test script</a>

</li>

</ul><h2><a name="969c195716e94c05ad23bd50f7dc061a"></a>Overview</h2>

<p>The compiler is implemented by transforming an expression in different stages.</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">P</span><span class="">a</span><span class="">r</span><span class="">s</span><span class="">e</span><span class="">r</span><span class=""> </span><span class="">-</span><span class="">&gt;</span><span class=""> </span><span class="">A</span><span class="">b</span><span class="">s</span><span class="">t</span><span class="">r</span><span class="">a</span><span class="">c</span><span class="">t</span><span class=""> </span><span class="">c</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">g</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">-</span><span class="">&gt;</span><span class=""> </span><span class="">X</span><span class="">8</span><span class="">6</span><span class=""> </span><span class="">c</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">g</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">-</span><span class="">&gt;</span><span class=""> </span><span class="">G</span><span class="">A</span><span class="">S</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">-</span><span class="">&gt;</span><span class=""> </span><span class="">A</span><span class="">s</span><span class="">s</span><span class="">e</span><span class="">m</span><span class="">b</span><span class="">l</span><span class="">e</span><span class="">r</span><span class="">
</span></pre></div>

</div>

<p>The parser turns an expression into an AST, which the abstract code generator turns it into instructions for an imaginary stack machine, which the X86 code generator turns into assembly instructions for the x86 architecture. The final stage either turns those instructions into textual assembly instructions suitable for compilation with the GNU assembler (GAS) or assembles them straight into machine code.</p>

<p>The style of this article is inspired by <a href="http://www.vpri.org/pdf/m2009011_chns_mng.pdf">Chains of meaning in the STEPS system</a> (<a href="http://rickardlindberg.me/writing/alan-kay-notes/m2009011_chns_mng.pdf">mirror</a>) where a compiler is explained by explaining all stages in it. Examples are shown throughout what the input and output of the different stages are.</p>

<h2><a name="a83adf407dbd43929bfbb4ab7f7311e5"></a>Parser</h2>

<p>The parser is the same as in the previous article. It turns an expression into an AST:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>parser.rlmeta</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="">P</span><span class="">a</span><span class="">r</span><span class="">s</span><span class="">e</span><span class="">r</span><span class=""> </span><span class="">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class="nb">:</span><span class="">x</span><span class=""> </span><span class="">(</span><span class="">o</span><span class="">p</span><span class="nb">:</span><span class="">y</span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class="nb">:</span><span class="">z</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">y</span><span class=""> </span><span class="">z</span><span class="">]</span><span class="">)</span><span class="nc">*</span><span class="nb">:</span><span class="">x</span><span class="">s</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">p</span><span class="">a</span><span class="">r</span><span class="">s</span><span class="">e</span><span class="">O</span><span class="">p</span><span class="">s</span><span class="">(</span><span class="">x</span><span class=""> </span><span class="">x</span><span class="">s</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="sc">'</span><span class="sc">0</span><span class="sc">'</span><span class="nc">-</span><span class="sc">'</span><span class="sc">9</span><span class="sc">'</span><span class="nb">:</span><span class="">x</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">i</span><span class="">n</span><span class="">t</span><span class="">(</span><span class="">x</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">o</span><span class="">p</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="sc">'</span><span class="sc">+</span><span class="sc">'</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">O</span><span class="">p</span><span class="">(</span><span class="">m</span><span class="">a</span><span class="">k</span><span class="">e</span><span class="">A</span><span class="">s</span><span class="">t</span><span class="">N</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">(</span><span class="s">"</span><span class="s">A</span><span class="s">D</span><span class="s">D</span><span class="s">"</span><span class="">)</span><span class=""> </span><span class="">1</span><span class=""> </span><span class="s">"</span><span class="s">l</span><span class="s">e</span><span class="s">f</span><span class="s">t</span><span class="s">"</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="sc">'</span><span class="sc">-</span><span class="sc">'</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">O</span><span class="">p</span><span class="">(</span><span class="">m</span><span class="">a</span><span class="">k</span><span class="">e</span><span class="">A</span><span class="">s</span><span class="">t</span><span class="">N</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">(</span><span class="s">"</span><span class="s">S</span><span class="s">U</span><span class="s">B</span><span class="s">"</span><span class="">)</span><span class=""> </span><span class="">1</span><span class=""> </span><span class="s">"</span><span class="s">l</span><span class="s">e</span><span class="s">f</span><span class="s">t</span><span class="s">"</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="sc">'</span><span class="sc">*</span><span class="sc">'</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">O</span><span class="">p</span><span class="">(</span><span class="">m</span><span class="">a</span><span class="">k</span><span class="">e</span><span class="">A</span><span class="">s</span><span class="">t</span><span class="">N</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">(</span><span class="s">"</span><span class="s">M</span><span class="s">U</span><span class="s">L</span><span class="s">"</span><span class="">)</span><span class=""> </span><span class="">2</span><span class=""> </span><span class="s">"</span><span class="s">l</span><span class="s">e</span><span class="s">f</span><span class="s">t</span><span class="s">"</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="sc">'</span><span class="sc">/</span><span class="sc">'</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">O</span><span class="">p</span><span class="">(</span><span class="">m</span><span class="">a</span><span class="">k</span><span class="">e</span><span class="">A</span><span class="">s</span><span class="">t</span><span class="">N</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">(</span><span class="s">"</span><span class="s">D</span><span class="s">I</span><span class="s">V</span><span class="s">"</span><span class="">)</span><span class=""> </span><span class="">2</span><span class=""> </span><span class="s">"</span><span class="s">l</span><span class="s">e</span><span class="s">f</span><span class="s">t</span><span class="s">"</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="sc">'</span><span class="sc">^</span><span class="sc">'</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">O</span><span class="">p</span><span class="">(</span><span class="">m</span><span class="">a</span><span class="">k</span><span class="">e</span><span class="">A</span><span class="">s</span><span class="">t</span><span class="">N</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">(</span><span class="s">"</span><span class="s">P</span><span class="s">O</span><span class="s">W</span><span class="s">"</span><span class="">)</span><span class=""> </span><span class="">3</span><span class=""> </span><span class="s">"</span><span class="s">r</span><span class="s">i</span><span class="s">g</span><span class="s">h</span><span class="s">t</span><span class="s">"</span><span class="">)</span><span class="">
</span><span class="">}</span><span class="">
</span></pre></div>

</div>

<p>The support functions are also defined similarly:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>support.py</li><li><span class="cp">compiler</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">O</span><span class="nc">p</span><span class="p">(</span><span class="nb">o</span><span class="nb">b</span><span class="nb">j</span><span class="nb">e</span><span class="nb">c</span><span class="nb">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">f</span><span class="n">n</span><span class="p">,</span><span class=""> </span><span class="n">p</span><span class="n">r</span><span class="n">e</span><span class="n">c</span><span class="p">,</span><span class=""> </span><span class="n">a</span><span class="n">s</span><span class="n">s</span><span class="n">o</span><span class="n">c</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">f</span><span class="n">n</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">f</span><span class="n">n</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">p</span><span class="n">r</span><span class="n">e</span><span class="n">c</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">p</span><span class="n">r</span><span class="n">e</span><span class="n">c</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">a</span><span class="n">s</span><span class="n">s</span><span class="n">o</span><span class="n">c</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">a</span><span class="n">s</span><span class="n">s</span><span class="n">o</span><span class="n">c</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>support.py</li><li><span class="cp">compiler</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">m</span><span class="nf">a</span><span class="nf">k</span><span class="nf">e</span><span class="nf">A</span><span class="nf">s</span><span class="nf">t</span><span class="nf">N</span><span class="nf">o</span><span class="nf">d</span><span class="nf">e</span><span class="p">(</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">o</span><span class="nf">p</span><span class="p">(</span><span class="n">l</span><span class="n">e</span><span class="n">f</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">h</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="p">[</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">,</span><span class=""> </span><span class="n">l</span><span class="n">e</span><span class="n">f</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">h</span><span class="n">t</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">o</span><span class="n">p</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>support.py</li><li><span class="cp">compiler</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">p</span><span class="nf">a</span><span class="nf">r</span><span class="nf">s</span><span class="nf">e</span><span class="nf">O</span><span class="nf">p</span><span class="nf">s</span><span class="p">(</span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="p">,</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="n">m</span><span class="n">i</span><span class="n">n</span><span class="n">_</span><span class="n">l</span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">l</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">w</span><span class="k">h</span><span class="k">i</span><span class="k">l</span><span class="k">e</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class=""> </span><span class="ow">a</span><span class="ow">n</span><span class="ow">d</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">p</span><span class="n">r</span><span class="n">e</span><span class="n">c</span><span class=""> </span><span class="o">&gt;</span><span class="o">=</span><span class=""> </span><span class="n">m</span><span class="n">i</span><span class="n">n</span><span class="n">_</span><span class="n">l</span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">l</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">o</span><span class="n">p</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">h</span><span class="n">s</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="o">.</span><span class="n">p</span><span class="n">o</span><span class="n">p</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">o</span><span class="n">p</span><span class="o">.</span><span class="n">a</span><span class="n">s</span><span class="n">s</span><span class="n">o</span><span class="n">c</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">l</span><span class="s2">e</span><span class="s2">f</span><span class="s2">t</span><span class="s2">"</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">l</span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">l</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">o</span><span class="n">p</span><span class="o">.</span><span class="n">p</span><span class="n">r</span><span class="n">e</span><span class="n">c</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">l</span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">l</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">o</span><span class="n">p</span><span class="o">.</span><span class="n">p</span><span class="n">r</span><span class="n">e</span><span class="n">c</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">o</span><span class="n">p</span><span class="o">.</span><span class="n">f</span><span class="n">n</span><span class="p">(</span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="p">,</span><span class=""> </span><span class="n">p</span><span class="n">a</span><span class="n">r</span><span class="n">s</span><span class="n">e</span><span class="n">O</span><span class="n">p</span><span class="n">s</span><span class="p">(</span><span class="n">r</span><span class="n">h</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">l</span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">l</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="">
</span></pre></div>

</div>

<p>Parsing the simple expression</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">3</span><span class="">
</span></pre></div>

</div>

<p>looks like this:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">3</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">P</span><span class="">a</span><span class="">r</span><span class="">s</span><span class="">e</span><span class="">r</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">3</span><span class="">
</span></pre></div>

</div>

<p>Parsing the slightly more complicated expression</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">1</span><span class="">+</span><span class="">2</span><span class="">*</span><span class="">3</span><span class="">
</span></pre></div>

</div>

<p>looks like this:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">1</span><span class="">+</span><span class="">2</span><span class="">*</span><span class="">3</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">P</span><span class="">a</span><span class="">r</span><span class="">s</span><span class="">e</span><span class="">r</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">'</span><span class="">A</span><span class="">D</span><span class="">D</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">M</span><span class="">U</span><span class="">L</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">2</span><span class="">,</span><span class=""> </span><span class="">3</span><span class="">]</span><span class="">]</span><span class="">
</span></pre></div>

</div>

<h2><a name="0488143f851349bf876169b04770e6bf"></a>Abstract code generator</h2>

<p>The abstract code generator turns an AST into instructions for an imaginary stack machine:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>abstractcodegen.rlmeta</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="">A</span><span class="">b</span><span class="">s</span><span class="">t</span><span class="">r</span><span class="">a</span><span class="">c</span><span class="">t</span><span class="">C</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">G</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class=""> </span><span class="nb">=</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">[</span><span class="nc">.</span><span class="nb">:</span><span class="">n</span><span class="">a</span><span class="">m</span><span class="">e</span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class="nb">:</span><span class="">l</span><span class="">e</span><span class="">f</span><span class="">t</span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class="nb">:</span><span class="">r</span><span class="">i</span><span class="">g</span><span class="">h</span><span class="">t</span><span class="">]</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="nc">~</span><span class="">r</span><span class="">i</span><span class="">g</span><span class="">h</span><span class="">t</span><span class=""> </span><span class="nc">~</span><span class="">l</span><span class="">e</span><span class="">f</span><span class="">t</span><span class=""> </span><span class="">n</span><span class="">a</span><span class="">m</span><span class="">e</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="nc">.</span><span class="nb">:</span><span class="">l</span><span class="">e</span><span class="">a</span><span class="">f</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">P</span><span class="s">U</span><span class="s">S</span><span class="s">H</span><span class="s">"</span><span class=""> </span><span class="">l</span><span class="">e</span><span class="">a</span><span class="">f</span><span class="">]</span><span class="">
</span><span class="">}</span><span class="">
</span></pre></div>

</div>

<p>The right hand side of an expression is generated before the left hand side. This order does not matter, but it turns out that it's a bit easier to generate x86 instructions if the right hand side comes first.</p>

<p>Generating stack machine instructions for the simple expression</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">3</span><span class="">
</span></pre></div>

</div>

<p>looks like this:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">3</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">P</span><span class="">a</span><span class="">r</span><span class="">s</span><span class="">e</span><span class="">r</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">3</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">A</span><span class="">b</span><span class="">s</span><span class="">t</span><span class="">r</span><span class="">a</span><span class="">c</span><span class="">t</span><span class="">C</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">G</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">'</span><span class="">P</span><span class="">U</span><span class="">S</span><span class="">H</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">3</span><span class="">]</span><span class="">
</span></pre></div>

</div>

<p>Generating stack machine instructions for the slightly more complicated expression</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">1</span><span class="">+</span><span class="">2</span><span class="">*</span><span class="">3</span><span class="">
</span></pre></div>

</div>

<p>looks like this:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">1</span><span class="">+</span><span class="">2</span><span class="">*</span><span class="">3</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">P</span><span class="">a</span><span class="">r</span><span class="">s</span><span class="">e</span><span class="">r</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">'</span><span class="">A</span><span class="">D</span><span class="">D</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">M</span><span class="">U</span><span class="">L</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">2</span><span class="">,</span><span class=""> </span><span class="">3</span><span class="">]</span><span class="">]</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">A</span><span class="">b</span><span class="">s</span><span class="">t</span><span class="">r</span><span class="">a</span><span class="">c</span><span class="">t</span><span class="">C</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">G</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">'</span><span class="">P</span><span class="">U</span><span class="">S</span><span class="">H</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">3</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">P</span><span class="">U</span><span class="">S</span><span class="">H</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">2</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">M</span><span class="">U</span><span class="">L</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">P</span><span class="">U</span><span class="">S</span><span class="">H</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">A</span><span class="">D</span><span class="">D</span><span class="">'</span><span class="">]</span><span class="">
</span></pre></div>

</div>

<h2><a name="bb76bbbba48d4c23b982e5c90af36d86"></a>X86 code generator</h2>

<p>The X86 code generator turns instructions for the imaginary stack machine into assembly instructions for the x86 architecture.</p>

<p>An assembly instruction is represented as a list with its mnemonic and operands:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">[</span><span class="">"</span><span class="">m</span><span class="">n</span><span class="">e</span><span class="">m</span><span class="">o</span><span class="">n</span><span class="">i</span><span class="">c</span><span class="">"</span><span class=""> </span><span class="">o</span><span class="">p</span><span class="">1</span><span class=""> </span><span class="">o</span><span class="">p</span><span class="">2</span><span class=""> </span><span class="">.</span><span class="">.</span><span class="">]</span><span class="">
</span></pre></div>

</div>

<p>For an instruction performing a binary operation, <code>op1</code> is the destination and <code>op2</code> is the source. The binary operation performed is therefore the following:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">o</span><span class="">p</span><span class="">1</span><span class=""> </span><span class="">=</span><span class=""> </span><span class="">o</span><span class="">p</span><span class="">1</span><span class=""> </span><span class="">`</span><span class="">o</span><span class="">p</span><span class="">e</span><span class="">r</span><span class="">a</span><span class="">t</span><span class="">i</span><span class="">o</span><span class="">n</span><span class="">`</span><span class=""> </span><span class="">o</span><span class="">p</span><span class="">2</span><span class="">
</span></pre></div>

</div>

<p>An operand can be either a constant, a register, or a memory location.</p>

<ul><li><code>rdi</code> is the stack pointer where the stack grows downwards (64-bit integer)</li>

<li><code>eax</code> is a TOS (top of stack) register (32-bit signed integer)</li>

<li>We are generating a function according to x64 calling conventions.</li>

</ul>

<p><strong>TODO: explain what registers and so on that we use</strong></p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>x86codegen.rlmeta</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="">X</span><span class="">8</span><span class="">6</span><span class="">C</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">G</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">[</span><span class="nc">%</span><span class="nc">*</span><span class="nb">:</span><span class="">x</span><span class="">s</span><span class="">]</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="nc">~</span><span class="nc">~</span><span class="">x</span><span class="">s</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">r</span><span class="s">e</span><span class="s">t</span><span class="s">"</span><span class="">]</span><span class="">]</span><span class="">
</span><span class="cp"> </span><span class="cp"> </span><span class="cp">&lt;</span><span class="cp">&lt;</span><span class="cp">i</span><span class="cp">n</span><span class="cp">s</span><span class="cp">t</span><span class="cp">r</span><span class="cp">u</span><span class="cp">c</span><span class="cp">t</span><span class="cp">i</span><span class="cp">o</span><span class="cp">n</span><span class="cp">s</span><span class="cp">&gt;</span><span class="cp">&gt;</span><span class="cp">
</span><span class="">}</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>x86codegen.rlmeta</li><li><span class="cp">instructions</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="">A</span><span class="">D</span><span class="">D</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">a</span><span class="s">d</span><span class="s">d</span><span class="s">"</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">r</span><span class="s">e</span><span class="s">g</span><span class="s">"</span><span class=""> </span><span class="s">"</span><span class="s">e</span><span class="s">a</span><span class="s">x</span><span class="s">"</span><span class="">]</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">a</span><span class="s">d</span><span class="s">d</span><span class="s">r</span><span class="s">"</span><span class=""> </span><span class="s">"</span><span class="s">r</span><span class="s">d</span><span class="s">i</span><span class="s">"</span><span class="">]</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">s</span><span class="s">u</span><span class="s">b</span><span class="s">"</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">r</span><span class="s">e</span><span class="s">g</span><span class="s">"</span><span class=""> </span><span class="s">"</span><span class="s">r</span><span class="s">d</span><span class="s">i</span><span class="s">"</span><span class="">]</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">c</span><span class="s">o</span><span class="s">n</span><span class="s">s</span><span class="s">t</span><span class="s">"</span><span class=""> </span><span class="">4</span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">]</span><span class="">]</span><span class="">
</span><span class="">]</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>x86codegen.rlmeta</li><li><span class="cp">instructions</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="">S</span><span class="">U</span><span class="">B</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">s</span><span class="s">u</span><span class="s">b</span><span class="s">"</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">r</span><span class="s">e</span><span class="s">g</span><span class="s">"</span><span class=""> </span><span class="s">"</span><span class="s">e</span><span class="s">a</span><span class="s">x</span><span class="s">"</span><span class="">]</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">a</span><span class="s">d</span><span class="s">d</span><span class="s">r</span><span class="s">"</span><span class=""> </span><span class="s">"</span><span class="s">r</span><span class="s">d</span><span class="s">i</span><span class="s">"</span><span class="">]</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">s</span><span class="s">u</span><span class="s">b</span><span class="s">"</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">r</span><span class="s">e</span><span class="s">g</span><span class="s">"</span><span class=""> </span><span class="s">"</span><span class="s">r</span><span class="s">d</span><span class="s">i</span><span class="s">"</span><span class="">]</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">c</span><span class="s">o</span><span class="s">n</span><span class="s">s</span><span class="s">t</span><span class="s">"</span><span class=""> </span><span class="">4</span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">]</span><span class="">]</span><span class="">
</span><span class="">]</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>x86codegen.rlmeta</li><li><span class="cp">instructions</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="">M</span><span class="">U</span><span class="">L</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">i</span><span class="s">m</span><span class="s">u</span><span class="s">l</span><span class="s">"</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">r</span><span class="s">e</span><span class="s">g</span><span class="s">"</span><span class=""> </span><span class="s">"</span><span class="s">e</span><span class="s">a</span><span class="s">x</span><span class="s">"</span><span class="">]</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">a</span><span class="s">d</span><span class="s">d</span><span class="s">r</span><span class="s">"</span><span class=""> </span><span class="s">"</span><span class="s">r</span><span class="s">d</span><span class="s">i</span><span class="s">"</span><span class="">]</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">s</span><span class="s">u</span><span class="s">b</span><span class="s">"</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">r</span><span class="s">e</span><span class="s">g</span><span class="s">"</span><span class=""> </span><span class="s">"</span><span class="s">r</span><span class="s">d</span><span class="s">i</span><span class="s">"</span><span class="">]</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">c</span><span class="s">o</span><span class="s">n</span><span class="s">s</span><span class="s">t</span><span class="s">"</span><span class=""> </span><span class="">4</span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">]</span><span class="">]</span><span class="">
</span><span class="">]</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>x86codegen.rlmeta</li><li><span class="cp">instructions</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="">D</span><span class="">I</span><span class="">V</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">c</span><span class="s">d</span><span class="s">q</span><span class="s">"</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">i</span><span class="s">d</span><span class="s">i</span><span class="s">v</span><span class="s">"</span><span class=""> </span><span class="s">"</span><span class="s">l</span><span class="s">o</span><span class="s">n</span><span class="s">g</span><span class="s">"</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">a</span><span class="s">d</span><span class="s">d</span><span class="s">r</span><span class="s">"</span><span class=""> </span><span class="s">"</span><span class="s">r</span><span class="s">d</span><span class="s">i</span><span class="s">"</span><span class="">]</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">s</span><span class="s">u</span><span class="s">b</span><span class="s">"</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">r</span><span class="s">e</span><span class="s">g</span><span class="s">"</span><span class=""> </span><span class=""> </span><span class="s">"</span><span class="s">r</span><span class="s">d</span><span class="s">i</span><span class="s">"</span><span class="">]</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">c</span><span class="s">o</span><span class="s">n</span><span class="s">s</span><span class="s">t</span><span class="s">"</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">
</span><span class="">]</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>x86codegen.rlmeta</li><li><span class="cp">instructions</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="">P</span><span class="">O</span><span class="">W</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">
</span><span class="">]</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>x86codegen.rlmeta</li><li><span class="cp">instructions</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="">P</span><span class="">U</span><span class="">S</span><span class="">H</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="nc">.</span><span class="nb">:</span><span class="">x</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">a</span><span class="s">d</span><span class="s">d</span><span class="s">"</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">r</span><span class="s">e</span><span class="s">g</span><span class="s">"</span><span class=""> </span><span class=""> </span><span class="s">"</span><span class="s">r</span><span class="s">d</span><span class="s">i</span><span class="s">"</span><span class="">]</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">c</span><span class="s">o</span><span class="s">n</span><span class="s">s</span><span class="s">t</span><span class="s">"</span><span class=""> </span><span class="">4</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">]</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">m</span><span class="s">o</span><span class="s">v</span><span class="s">"</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">a</span><span class="s">d</span><span class="s">d</span><span class="s">r</span><span class="s">"</span><span class=""> </span><span class="s">"</span><span class="s">r</span><span class="s">d</span><span class="s">i</span><span class="s">"</span><span class="">]</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">r</span><span class="s">e</span><span class="s">g</span><span class="s">"</span><span class=""> </span><span class=""> </span><span class=""> </span><span class="s">"</span><span class="s">e</span><span class="s">a</span><span class="s">x</span><span class="s">"</span><span class="">]</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">m</span><span class="s">o</span><span class="s">v</span><span class="s">"</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">r</span><span class="s">e</span><span class="s">g</span><span class="s">"</span><span class=""> </span><span class=""> </span><span class="s">"</span><span class="s">e</span><span class="s">a</span><span class="s">x</span><span class="s">"</span><span class="">]</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">c</span><span class="s">o</span><span class="s">n</span><span class="s">s</span><span class="s">t</span><span class="s">"</span><span class=""> </span><span class="">x</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">]</span><span class="">]</span><span class="">
</span><span class="">]</span><span class="">
</span></pre></div>

</div>

<p>Generating assembly instructions for the simple expression</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">3</span><span class="">
</span></pre></div>

</div>

<p>looks like this:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">3</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">P</span><span class="">a</span><span class="">r</span><span class="">s</span><span class="">e</span><span class="">r</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">3</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">A</span><span class="">b</span><span class="">s</span><span class="">t</span><span class="">r</span><span class="">a</span><span class="">c</span><span class="">t</span><span class="">C</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">G</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">'</span><span class="">P</span><span class="">U</span><span class="">S</span><span class="">H</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">3</span><span class="">]</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">X</span><span class="">8</span><span class="">6</span><span class="">C</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">G</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">3</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">t</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">
</span></pre></div>

</div>

<p>Generating assembly instructions for the slightly more complicated expression</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">1</span><span class="">+</span><span class="">2</span><span class="">*</span><span class="">3</span><span class="">
</span></pre></div>

</div>

<p>looks like this:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">1</span><span class="">+</span><span class="">2</span><span class="">*</span><span class="">3</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">P</span><span class="">a</span><span class="">r</span><span class="">s</span><span class="">e</span><span class="">r</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">'</span><span class="">A</span><span class="">D</span><span class="">D</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">M</span><span class="">U</span><span class="">L</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">2</span><span class="">,</span><span class=""> </span><span class="">3</span><span class="">]</span><span class="">]</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">A</span><span class="">b</span><span class="">s</span><span class="">t</span><span class="">r</span><span class="">a</span><span class="">c</span><span class="">t</span><span class="">C</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">G</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">'</span><span class="">P</span><span class="">U</span><span class="">S</span><span class="">H</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">3</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">P</span><span class="">U</span><span class="">S</span><span class="">H</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">2</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">M</span><span class="">U</span><span class="">L</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">P</span><span class="">U</span><span class="">S</span><span class="">H</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">A</span><span class="">D</span><span class="">D</span><span class="">'</span><span class="">]</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">X</span><span class="">8</span><span class="">6</span><span class="">C</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">G</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">3</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">2</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">i</span><span class="">m</span><span class="">u</span><span class="">l</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">s</span><span class="">u</span><span class="">b</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">1</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">s</span><span class="">u</span><span class="">b</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">t</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">
</span></pre></div>

</div>

<h2><a name="12e4e39c6b494b30a425f4570e8b8d53"></a>GAS generator</h2>

<p>The GAS generator turns assembly instructions into textual assembly instructions suitable for compilation with the GNU assembler (GAS): <code>gcc -nostdlib file.s</code>:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>gas.rlmeta</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="">G</span><span class="">a</span><span class="">s</span><span class="">G</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">[</span><span class="">i</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">r</span><span class="nc">*</span><span class="nb">:</span><span class="">x</span><span class="">s</span><span class="">]</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="s">"</span><span class="s">.</span><span class="s">g</span><span class="s">l</span><span class="s">o</span><span class="s">b</span><span class="s">a</span><span class="s">l</span><span class="s"> </span><span class="s">e</span><span class="s">x</span><span class="s">p</span><span class="s">r</span><span class="se">\</span><span class="se">n</span><span class="s">"</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="s">"</span><span class="s">e</span><span class="s">x</span><span class="s">p</span><span class="s">r</span><span class="s">:</span><span class="se">\</span><span class="se">n</span><span class="s">"</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">x</span><span class="">s</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">}</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">i</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">r</span><span class=""> </span><span class="nb">=</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">[</span><span class="">m</span><span class="">n</span><span class="">e</span><span class="">m</span><span class="">o</span><span class="">n</span><span class="">i</span><span class="">c</span><span class="nb">:</span><span class="">x</span><span class=""> </span><span class="">o</span><span class="">p</span><span class="nb">:</span><span class="">t</span><span class="">a</span><span class="">r</span><span class="">g</span><span class="">e</span><span class="">t</span><span class=""> </span><span class="">o</span><span class="">p</span><span class="nb">:</span><span class="">s</span><span class="">o</span><span class="">u</span><span class="">r</span><span class="">c</span><span class="">e</span><span class="">]</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">{</span><span class=""> </span><span class="">x</span><span class=""> </span><span class="s">"</span><span class="s"> </span><span class="s"> </span><span class="s">"</span><span class=""> </span><span class="">s</span><span class="">o</span><span class="">u</span><span class="">r</span><span class="">c</span><span class="">e</span><span class=""> </span><span class="s">"</span><span class="s">,</span><span class="s">"</span><span class=""> </span><span class="">t</span><span class="">a</span><span class="">r</span><span class="">g</span><span class="">e</span><span class="">t</span><span class=""> </span><span class="s">"</span><span class="se">\</span><span class="se">n</span><span class="s">"</span><span class=""> </span><span class="">}</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">[</span><span class="">m</span><span class="">n</span><span class="">e</span><span class="">m</span><span class="">o</span><span class="">n</span><span class="">i</span><span class="">c</span><span class="nb">:</span><span class="">x</span><span class=""> </span><span class="">o</span><span class="">p</span><span class="nb">:</span><span class="">a</span><span class="">r</span><span class="">g</span><span class="">]</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">{</span><span class=""> </span><span class="">x</span><span class=""> </span><span class="s">"</span><span class="s"> </span><span class="s"> </span><span class="s">"</span><span class=""> </span><span class="">a</span><span class="">r</span><span class="">g</span><span class=""> </span><span class="s">"</span><span class="se">\</span><span class="se">n</span><span class="s">"</span><span class=""> </span><span class="">}</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">[</span><span class="">m</span><span class="">n</span><span class="">e</span><span class="">m</span><span class="">o</span><span class="">n</span><span class="">i</span><span class="">c</span><span class="nb">:</span><span class="">x</span><span class="">]</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">{</span><span class=""> </span><span class="">x</span><span class=""> </span><span class="s">"</span><span class="se">\</span><span class="se">n</span><span class="s">"</span><span class=""> </span><span class="">}</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">o</span><span class="">p</span><span class=""> </span><span class="nb">=</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">r</span><span class="s">e</span><span class="s">g</span><span class="s">"</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nc">.</span><span class="nb">:</span><span class="">n</span><span class="">a</span><span class="">m</span><span class="">e</span><span class="">]</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">{</span><span class=""> </span><span class="s">"</span><span class="s">%</span><span class="s">"</span><span class=""> </span><span class="">n</span><span class="">a</span><span class="">m</span><span class="">e</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">}</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">a</span><span class="s">d</span><span class="s">d</span><span class="s">r</span><span class="s">"</span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nc">.</span><span class="nb">:</span><span class="">n</span><span class="">a</span><span class="">m</span><span class="">e</span><span class="">]</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">{</span><span class=""> </span><span class="s">"</span><span class="s">(</span><span class="s">%</span><span class="s">"</span><span class=""> </span><span class="">n</span><span class="">a</span><span class="">m</span><span class="">e</span><span class=""> </span><span class="s">"</span><span class="s">)</span><span class="s">"</span><span class=""> </span><span class="">}</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">c</span><span class="s">o</span><span class="s">n</span><span class="s">s</span><span class="s">t</span><span class="s">"</span><span class=""> </span><span class="nc">.</span><span class="nb">:</span><span class="">v</span><span class="">a</span><span class="">l</span><span class="">u</span><span class="">e</span><span class="">]</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">{</span><span class=""> </span><span class="s">"</span><span class="s">$</span><span class="s">"</span><span class=""> </span><span class="">v</span><span class="">a</span><span class="">l</span><span class="">u</span><span class="">e</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">}</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">m</span><span class="">n</span><span class="">e</span><span class="">m</span><span class="">o</span><span class="">n</span><span class="">i</span><span class="">c</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="nc">.</span><span class="nb">:</span><span class="">x</span><span class=""> </span><span class="">s</span><span class="">i</span><span class="">z</span><span class="">e</span><span class="nb">:</span><span class="">y</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">p</span><span class="">a</span><span class="">d</span><span class="">(</span><span class="">x</span><span class=""> </span><span class="">y</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">s</span><span class="">i</span><span class="">z</span><span class="">e</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="s">"</span><span class="s">l</span><span class="s">o</span><span class="s">n</span><span class="s">g</span><span class="s">"</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="s">"</span><span class="s">l</span><span class="s">"</span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="s">"</span><span class="s">"</span><span class="">
</span><span class="">}</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>support.py</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">p</span><span class="nf">a</span><span class="nf">d</span><span class="p">(</span><span class="n">t</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">s</span><span class="n">u</span><span class="n">f</span><span class="n">f</span><span class="n">i</span><span class="n">x</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="p">(</span><span class="n">t</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="o">+</span><span class="n">s</span><span class="n">u</span><span class="n">f</span><span class="n">f</span><span class="n">i</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">l</span><span class="n">j</span><span class="n">u</span><span class="n">s</span><span class="n">t</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>driver.c</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="cp">#</span><span class="cp">i</span><span class="cp">n</span><span class="cp">c</span><span class="cp">l</span><span class="cp">u</span><span class="cp">d</span><span class="cp">e</span><span class=""> </span><span class="cpf">&lt;</span><span class="cpf">s</span><span class="cpf">t</span><span class="cpf">d</span><span class="cpf">l</span><span class="cpf">i</span><span class="cpf">b</span><span class="cpf">.</span><span class="cpf">h</span><span class="cpf">&gt;</span><span class="cp">
</span><span class="cp">#</span><span class="cp">i</span><span class="cp">n</span><span class="cp">c</span><span class="cp">l</span><span class="cp">u</span><span class="cp">d</span><span class="cp">e</span><span class=""> </span><span class="cpf">&lt;</span><span class="cpf">s</span><span class="cpf">t</span><span class="cpf">d</span><span class="cpf">i</span><span class="cpf">o</span><span class="cpf">.</span><span class="cpf">h</span><span class="cpf">&gt;</span><span class="cp">
</span><span class="">
</span><span class="kt">i</span><span class="kt">n</span><span class="kt">t</span><span class=""> </span><span class="nf">e</span><span class="nf">x</span><span class="nf">p</span><span class="nf">r</span><span class="p">(</span><span class="kt">v</span><span class="kt">o</span><span class="kt">i</span><span class="kt">d</span><span class="o">*</span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="p">)</span><span class="p">;</span><span class="">
</span><span class="">
</span><span class="kt">i</span><span class="kt">n</span><span class="kt">t</span><span class=""> </span><span class="nf">m</span><span class="nf">a</span><span class="nf">i</span><span class="nf">n</span><span class="p">(</span><span class="p">)</span><span class=""> </span><span class="p">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="kt">v</span><span class="kt">o</span><span class="kt">i</span><span class="kt">d</span><span class="o">*</span><span class=""> </span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">(</span><span class="kt">v</span><span class="kt">o</span><span class="kt">i</span><span class="kt">d</span><span class="o">*</span><span class="p">)</span><span class="n">m</span><span class="n">a</span><span class="n">l</span><span class="n">l</span><span class="n">o</span><span class="n">c</span><span class="p">(</span><span class="mi">3</span><span class="mi">2</span><span class="o">*</span><span class="k">s</span><span class="k">i</span><span class="k">z</span><span class="k">e</span><span class="k">o</span><span class="k">f</span><span class="p">(</span><span class="kt">i</span><span class="kt">n</span><span class="kt">t</span><span class="p">)</span><span class="p">)</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="kt">i</span><span class="kt">n</span><span class="kt">t</span><span class=""> </span><span class="n">r</span><span class="n">e</span><span class="n">s</span><span class="n">u</span><span class="n">l</span><span class="n">t</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="p">(</span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="p">)</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">r</span><span class="n">i</span><span class="n">n</span><span class="n">t</span><span class="n">f</span><span class="p">(</span><span class="s">"</span><span class="s">%</span><span class="s">d</span><span class="se">\</span><span class="se">n</span><span class="s">"</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">e</span><span class="n">s</span><span class="n">u</span><span class="n">l</span><span class="n">t</span><span class="p">)</span><span class="p">;</span><span class="">
</span><span class="p">}</span><span class="">
</span></pre></div>

</div>

<p>Generating GAS instructions (and compiling and running them) for the simple expression</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">3</span><span class="">
</span></pre></div>

</div>

<p>looks like this:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">3</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">P</span><span class="">a</span><span class="">r</span><span class="">s</span><span class="">e</span><span class="">r</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">3</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">A</span><span class="">b</span><span class="">s</span><span class="">t</span><span class="">r</span><span class="">a</span><span class="">c</span><span class="">t</span><span class="">C</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">G</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">'</span><span class="">P</span><span class="">U</span><span class="">S</span><span class="">H</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">3</span><span class="">]</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">X</span><span class="">8</span><span class="">6</span><span class="">C</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">G</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">3</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">t</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">G</span><span class="">a</span><span class="">s</span><span class="">G</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">.</span><span class="">g</span><span class="">l</span><span class="">o</span><span class="">b</span><span class="">a</span><span class="">l</span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class="">
</span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class="">:</span><span class="">
</span><span class="">a</span><span class="">d</span><span class="">d</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">$</span><span class="">4</span><span class="">,</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">
</span><span class="">m</span><span class="">o</span><span class="">v</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">%</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">,</span><span class="">(</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">)</span><span class="">
</span><span class="">m</span><span class="">o</span><span class="">v</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">$</span><span class="">3</span><span class="">,</span><span class="">%</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">
</span><span class="">r</span><span class="">e</span><span class="">t</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">G</span><span class="">c</span><span class="">c</span><span class="">C</span><span class="">o</span><span class="">m</span><span class="">p</span><span class="">i</span><span class="">l</span><span class="">e</span><span class="">A</span><span class="">n</span><span class="">d</span><span class="">R</span><span class="">u</span><span class="">n</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">3</span><span class="">
</span></pre></div>

</div>

<p>Generating GAS instructions (and compiling and running them) for the slightly more complicated expression</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">1</span><span class="">+</span><span class="">2</span><span class="">*</span><span class="">3</span><span class="">
</span></pre></div>

</div>

<p>looks like this:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">1</span><span class="">+</span><span class="">2</span><span class="">*</span><span class="">3</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">P</span><span class="">a</span><span class="">r</span><span class="">s</span><span class="">e</span><span class="">r</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">'</span><span class="">A</span><span class="">D</span><span class="">D</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">M</span><span class="">U</span><span class="">L</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">2</span><span class="">,</span><span class=""> </span><span class="">3</span><span class="">]</span><span class="">]</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">A</span><span class="">b</span><span class="">s</span><span class="">t</span><span class="">r</span><span class="">a</span><span class="">c</span><span class="">t</span><span class="">C</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">G</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">'</span><span class="">P</span><span class="">U</span><span class="">S</span><span class="">H</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">3</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">P</span><span class="">U</span><span class="">S</span><span class="">H</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">2</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">M</span><span class="">U</span><span class="">L</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">P</span><span class="">U</span><span class="">S</span><span class="">H</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">A</span><span class="">D</span><span class="">D</span><span class="">'</span><span class="">]</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">X</span><span class="">8</span><span class="">6</span><span class="">C</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">G</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">3</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">2</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">i</span><span class="">m</span><span class="">u</span><span class="">l</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">s</span><span class="">u</span><span class="">b</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">1</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">s</span><span class="">u</span><span class="">b</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">t</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">G</span><span class="">a</span><span class="">s</span><span class="">G</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">.</span><span class="">g</span><span class="">l</span><span class="">o</span><span class="">b</span><span class="">a</span><span class="">l</span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class="">
</span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class="">:</span><span class="">
</span><span class="">a</span><span class="">d</span><span class="">d</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">$</span><span class="">4</span><span class="">,</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">
</span><span class="">m</span><span class="">o</span><span class="">v</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">%</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">,</span><span class="">(</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">)</span><span class="">
</span><span class="">m</span><span class="">o</span><span class="">v</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">$</span><span class="">3</span><span class="">,</span><span class="">%</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">
</span><span class="">a</span><span class="">d</span><span class="">d</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">$</span><span class="">4</span><span class="">,</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">
</span><span class="">m</span><span class="">o</span><span class="">v</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">%</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">,</span><span class="">(</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">)</span><span class="">
</span><span class="">m</span><span class="">o</span><span class="">v</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">$</span><span class="">2</span><span class="">,</span><span class="">%</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">
</span><span class="">i</span><span class="">m</span><span class="">u</span><span class="">l</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">(</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">)</span><span class="">,</span><span class="">%</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">
</span><span class="">s</span><span class="">u</span><span class="">b</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">$</span><span class="">4</span><span class="">,</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">
</span><span class="">a</span><span class="">d</span><span class="">d</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">$</span><span class="">4</span><span class="">,</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">
</span><span class="">m</span><span class="">o</span><span class="">v</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">%</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">,</span><span class="">(</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">)</span><span class="">
</span><span class="">m</span><span class="">o</span><span class="">v</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">$</span><span class="">1</span><span class="">,</span><span class="">%</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">
</span><span class="">a</span><span class="">d</span><span class="">d</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">(</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">)</span><span class="">,</span><span class="">%</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">
</span><span class="">s</span><span class="">u</span><span class="">b</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">$</span><span class="">4</span><span class="">,</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">
</span><span class="">r</span><span class="">e</span><span class="">t</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">G</span><span class="">c</span><span class="">c</span><span class="">C</span><span class="">o</span><span class="">m</span><span class="">p</span><span class="">i</span><span class="">l</span><span class="">e</span><span class="">A</span><span class="">n</span><span class="">d</span><span class="">R</span><span class="">u</span><span class="">n</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">7</span><span class="">
</span></pre></div>

</div>

<p>Generating GAS instructions (and compiling and running them) for the expression that uses all operators</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">2</span><span class="">^</span><span class="">4</span><span class="">/</span><span class="">2</span><span class="">*</span><span class="">3</span><span class="">-</span><span class="">4</span><span class="">+</span><span class="">5</span><span class="">
</span></pre></div>

</div>

<p>looks like this:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">2</span><span class="">^</span><span class="">4</span><span class="">/</span><span class="">2</span><span class="">*</span><span class="">3</span><span class="">-</span><span class="">4</span><span class="">+</span><span class="">5</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">P</span><span class="">a</span><span class="">r</span><span class="">s</span><span class="">e</span><span class="">r</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">'</span><span class="">A</span><span class="">D</span><span class="">D</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">S</span><span class="">U</span><span class="">B</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">M</span><span class="">U</span><span class="">L</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">D</span><span class="">I</span><span class="">V</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">P</span><span class="">O</span><span class="">W</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">2</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">2</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">3</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">5</span><span class="">]</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">A</span><span class="">b</span><span class="">s</span><span class="">t</span><span class="">r</span><span class="">a</span><span class="">c</span><span class="">t</span><span class="">C</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">G</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">'</span><span class="">P</span><span class="">U</span><span class="">S</span><span class="">H</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">5</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">P</span><span class="">U</span><span class="">S</span><span class="">H</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">4</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">P</span><span class="">U</span><span class="">S</span><span class="">H</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">3</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">P</span><span class="">U</span><span class="">S</span><span class="">H</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">2</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">P</span><span class="">U</span><span class="">S</span><span class="">H</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">4</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">P</span><span class="">U</span><span class="">S</span><span class="">H</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">2</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">P</span><span class="">O</span><span class="">W</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">D</span><span class="">I</span><span class="">V</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">M</span><span class="">U</span><span class="">L</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">S</span><span class="">U</span><span class="">B</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">A</span><span class="">D</span><span class="">D</span><span class="">'</span><span class="">]</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">X</span><span class="">8</span><span class="">6</span><span class="">C</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">G</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">5</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">3</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">2</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">2</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">d</span><span class="">q</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">i</span><span class="">d</span><span class="">i</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">'</span><span class="">l</span><span class="">o</span><span class="">n</span><span class="">g</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">s</span><span class="">u</span><span class="">b</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">i</span><span class="">m</span><span class="">u</span><span class="">l</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">s</span><span class="">u</span><span class="">b</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">s</span><span class="">u</span><span class="">b</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">s</span><span class="">u</span><span class="">b</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">s</span><span class="">u</span><span class="">b</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">t</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">G</span><span class="">a</span><span class="">s</span><span class="">G</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">.</span><span class="">g</span><span class="">l</span><span class="">o</span><span class="">b</span><span class="">a</span><span class="">l</span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class="">
</span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class="">:</span><span class="">
</span><span class="">a</span><span class="">d</span><span class="">d</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">$</span><span class="">4</span><span class="">,</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">
</span><span class="">m</span><span class="">o</span><span class="">v</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">%</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">,</span><span class="">(</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">)</span><span class="">
</span><span class="">m</span><span class="">o</span><span class="">v</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">$</span><span class="">5</span><span class="">,</span><span class="">%</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">
</span><span class="">a</span><span class="">d</span><span class="">d</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">$</span><span class="">4</span><span class="">,</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">
</span><span class="">m</span><span class="">o</span><span class="">v</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">%</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">,</span><span class="">(</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">)</span><span class="">
</span><span class="">m</span><span class="">o</span><span class="">v</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">$</span><span class="">4</span><span class="">,</span><span class="">%</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">
</span><span class="">a</span><span class="">d</span><span class="">d</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">$</span><span class="">4</span><span class="">,</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">
</span><span class="">m</span><span class="">o</span><span class="">v</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">%</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">,</span><span class="">(</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">)</span><span class="">
</span><span class="">m</span><span class="">o</span><span class="">v</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">$</span><span class="">3</span><span class="">,</span><span class="">%</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">
</span><span class="">a</span><span class="">d</span><span class="">d</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">$</span><span class="">4</span><span class="">,</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">
</span><span class="">m</span><span class="">o</span><span class="">v</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">%</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">,</span><span class="">(</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">)</span><span class="">
</span><span class="">m</span><span class="">o</span><span class="">v</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">$</span><span class="">2</span><span class="">,</span><span class="">%</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">
</span><span class="">a</span><span class="">d</span><span class="">d</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">$</span><span class="">4</span><span class="">,</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">
</span><span class="">m</span><span class="">o</span><span class="">v</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">%</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">,</span><span class="">(</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">)</span><span class="">
</span><span class="">m</span><span class="">o</span><span class="">v</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">$</span><span class="">4</span><span class="">,</span><span class="">%</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">
</span><span class="">a</span><span class="">d</span><span class="">d</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">$</span><span class="">4</span><span class="">,</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">
</span><span class="">m</span><span class="">o</span><span class="">v</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">%</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">,</span><span class="">(</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">)</span><span class="">
</span><span class="">m</span><span class="">o</span><span class="">v</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">$</span><span class="">2</span><span class="">,</span><span class="">%</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">
</span><span class="">c</span><span class="">d</span><span class="">q</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">
</span><span class="">i</span><span class="">d</span><span class="">i</span><span class="">v</span><span class="">l</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">(</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">)</span><span class="">
</span><span class="">s</span><span class="">u</span><span class="">b</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">$</span><span class="">4</span><span class="">,</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">
</span><span class="">i</span><span class="">m</span><span class="">u</span><span class="">l</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">(</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">)</span><span class="">,</span><span class="">%</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">
</span><span class="">s</span><span class="">u</span><span class="">b</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">$</span><span class="">4</span><span class="">,</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">
</span><span class="">s</span><span class="">u</span><span class="">b</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">(</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">)</span><span class="">,</span><span class="">%</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">
</span><span class="">s</span><span class="">u</span><span class="">b</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">$</span><span class="">4</span><span class="">,</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">
</span><span class="">a</span><span class="">d</span><span class="">d</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">(</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">)</span><span class="">,</span><span class="">%</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">
</span><span class="">s</span><span class="">u</span><span class="">b</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">$</span><span class="">4</span><span class="">,</span><span class="">%</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">
</span><span class="">r</span><span class="">e</span><span class="">t</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">G</span><span class="">c</span><span class="">c</span><span class="">C</span><span class="">o</span><span class="">m</span><span class="">p</span><span class="">i</span><span class="">l</span><span class="">e</span><span class="">A</span><span class="">n</span><span class="">d</span><span class="">R</span><span class="">u</span><span class="">n</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">1</span><span class="">
</span></pre></div>

</div>

<h2><a name="d3ece5a4ba484033ac47d9190e513acd"></a>Assembler</h2>

<p>The assembler turns assembly instructions into machine code:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>assembler.rlmeta</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="">A</span><span class="">s</span><span class="">s</span><span class="">e</span><span class="">m</span><span class="">b</span><span class="">l</span><span class="">e</span><span class="">r</span><span class=""> </span><span class="">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">[</span><span class="">i</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">r</span><span class="nc">*</span><span class="nb">:</span><span class="">x</span><span class="">s</span><span class="">]</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="nc">~</span><span class="nc">~</span><span class="">x</span><span class="">s</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">i</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">r</span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">[</span><span class="nc">%</span><span class="nb">:</span><span class="">x</span><span class="">]</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">x</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">a</span><span class="">d</span><span class="">d</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">6</span><span class="">4</span><span class="nb">:</span><span class="">r</span><span class=""> </span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="nb">:</span><span class="">i</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">0</span><span class="">x</span><span class="">4</span><span class="">8</span><span class=""> </span><span class="">0</span><span class="">x</span><span class="">8</span><span class="">3</span><span class=""> </span><span class="">m</span><span class="">o</span><span class="">d</span><span class="">R</span><span class="">m</span><span class="">D</span><span class="">i</span><span class="">r</span><span class="">e</span><span class="">c</span><span class="">t</span><span class="">(</span><span class="">r</span><span class="">)</span><span class=""> </span><span class="nc">~</span><span class="">l</span><span class="">i</span><span class="">t</span><span class="">t</span><span class="">l</span><span class="">e</span><span class="">E</span><span class="">n</span><span class="">d</span><span class="">i</span><span class="">a</span><span class="">n</span><span class="">(</span><span class="">i</span><span class=""> </span><span class="">1</span><span class="">)</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">3</span><span class="">2</span><span class="nb">:</span><span class="">r</span><span class=""> </span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="nb">:</span><span class="">m</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">s</span><span class="">u</span><span class="">b</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">6</span><span class="">4</span><span class="nb">:</span><span class="">r</span><span class=""> </span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="nb">:</span><span class="">i</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">3</span><span class="">2</span><span class="nb">:</span><span class="">r</span><span class=""> </span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="nb">:</span><span class="">m</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">i</span><span class="">m</span><span class="">u</span><span class="">l</span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">3</span><span class="">2</span><span class="nb">:</span><span class="">r</span><span class=""> </span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="nb">:</span><span class="">m</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">c</span><span class="">d</span><span class="">q</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">i</span><span class="">d</span><span class="">i</span><span class="">v</span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="s">"</span><span class="s">l</span><span class="s">o</span><span class="s">n</span><span class="s">g</span><span class="s">"</span><span class=""> </span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="nb">:</span><span class="">m</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">m</span><span class="">o</span><span class="">v</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="nb">:</span><span class="">m</span><span class=""> </span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">3</span><span class="">2</span><span class="nb">:</span><span class="">r</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">0</span><span class="">x</span><span class="">8</span><span class="">9</span><span class=""> </span><span class="">m</span><span class="">o</span><span class="">d</span><span class="">R</span><span class="">m</span><span class="">A</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">(</span><span class="">m</span><span class=""> </span><span class="">r</span><span class="">)</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">3</span><span class="">2</span><span class="nb">:</span><span class="">r</span><span class=""> </span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="nb">:</span><span class="">i</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">(</span><span class="">0</span><span class="">x</span><span class="">b</span><span class="">8</span><span class=""> </span><span class="">r</span><span class="">)</span><span class=""> </span><span class="nc">~</span><span class="">l</span><span class="">i</span><span class="">t</span><span class="">t</span><span class="">l</span><span class="">e</span><span class="">E</span><span class="">n</span><span class="">d</span><span class="">i</span><span class="">a</span><span class="">n</span><span class="">(</span><span class="">i</span><span class=""> </span><span class="">4</span><span class="">)</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">t</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">0</span><span class="">x</span><span class="">c</span><span class="">3</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">a</span><span class="s">d</span><span class="s">d</span><span class="s">r</span><span class="s">"</span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">6</span><span class="">4</span><span class="">n</span><span class="nb">:</span><span class="">n</span><span class="">]</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">n</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">6</span><span class="">4</span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">r</span><span class="s">e</span><span class="s">g</span><span class="s">"</span><span class=""> </span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">6</span><span class="">4</span><span class="">n</span><span class="nb">:</span><span class="">n</span><span class="">]</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">n</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">6</span><span class="">4</span><span class="">n</span><span class=""> </span><span class="nb">=</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="s">"</span><span class="s">r</span><span class="s">d</span><span class="s">i</span><span class="s">"</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">7</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">3</span><span class="">2</span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">r</span><span class="s">e</span><span class="s">g</span><span class="s">"</span><span class=""> </span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">3</span><span class="">2</span><span class="">n</span><span class="nb">:</span><span class="">n</span><span class="">]</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">n</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">3</span><span class="">2</span><span class="">n</span><span class=""> </span><span class="nb">=</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="s">"</span><span class="s">e</span><span class="s">a</span><span class="s">x</span><span class="s">"</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">0</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">c</span><span class="s">o</span><span class="s">n</span><span class="s">s</span><span class="s">t</span><span class="s">"</span><span class=""> </span><span class="nc">.</span><span class="nb">:</span><span class="">i</span><span class="">]</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">i</span><span class="">
</span><span class="">}</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>support.py</li><li><span class="cp">compiler</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">m</span><span class="nf">o</span><span class="nf">d</span><span class="nf">R</span><span class="nf">m</span><span class="nf">D</span><span class="nf">i</span><span class="nf">r</span><span class="nf">e</span><span class="nf">c</span><span class="nf">t</span><span class="p">(</span><span class="n">r</span><span class="n">e</span><span class="n">g</span><span class="n">i</span><span class="n">s</span><span class="n">t</span><span class="n">e</span><span class="n">r</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="mh">0</span><span class="mh">x</span><span class="mh">c</span><span class="mh">0</span><span class=""> </span><span class="o">|</span><span class=""> </span><span class="n">r</span><span class="n">e</span><span class="n">g</span><span class="n">i</span><span class="n">s</span><span class="n">t</span><span class="n">e</span><span class="n">r</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>support.py</li><li><span class="cp">compiler</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">m</span><span class="nf">o</span><span class="nf">d</span><span class="nf">R</span><span class="nf">m</span><span class="nf">A</span><span class="nf">d</span><span class="nf">d</span><span class="nf">r</span><span class="p">(</span><span class="n">a</span><span class="n">d</span><span class="n">d</span><span class="n">r</span><span class="n">R</span><span class="n">e</span><span class="n">g</span><span class="n">i</span><span class="n">s</span><span class="n">t</span><span class="n">e</span><span class="n">r</span><span class="p">,</span><span class=""> </span><span class="n">d</span><span class="n">e</span><span class="n">s</span><span class="n">i</span><span class="n">n</span><span class="n">a</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="n">R</span><span class="n">e</span><span class="n">g</span><span class="n">i</span><span class="n">s</span><span class="n">t</span><span class="n">e</span><span class="n">r</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="mh">0</span><span class="mh">x</span><span class="mh">0</span><span class="mh">0</span><span class=""> </span><span class="o">|</span><span class=""> </span><span class="p">(</span><span class="n">d</span><span class="n">e</span><span class="n">s</span><span class="n">i</span><span class="n">n</span><span class="n">a</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="n">R</span><span class="n">e</span><span class="n">g</span><span class="n">i</span><span class="n">s</span><span class="n">t</span><span class="n">e</span><span class="n">r</span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="mi">3</span><span class="p">)</span><span class=""> </span><span class="o">|</span><span class=""> </span><span class="n">a</span><span class="n">d</span><span class="n">d</span><span class="n">r</span><span class="n">R</span><span class="n">e</span><span class="n">g</span><span class="n">i</span><span class="n">s</span><span class="n">t</span><span class="n">e</span><span class="n">r</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>support.py</li><li><span class="cp">compiler</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">a</span><span class="nf">d</span><span class="nf">d</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class=""> </span><span class="n">y</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">x</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">y</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>support.py</li><li><span class="cp">compiler</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">l</span><span class="nf">i</span><span class="nf">t</span><span class="nf">t</span><span class="nf">l</span><span class="nf">e</span><span class="nf">E</span><span class="nf">n</span><span class="nf">d</span><span class="nf">i</span><span class="nf">a</span><span class="nf">n</span><span class="p">(</span><span class="n">n</span><span class="n">u</span><span class="n">m</span><span class="n">b</span><span class="n">e</span><span class="n">r</span><span class="p">,</span><span class=""> </span><span class="n">n</span><span class="n">u</span><span class="n">m</span><span class="n">B</span><span class="n">y</span><span class="n">t</span><span class="n">e</span><span class="n">s</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">n</span><span class="n">u</span><span class="n">m</span><span class="n">b</span><span class="n">e</span><span class="n">r</span><span class=""> </span><span class="o">&lt;</span><span class=""> </span><span class="mi">0</span><span class=""> </span><span class="ow">o</span><span class="ow">r</span><span class=""> </span><span class="n">n</span><span class="n">u</span><span class="n">m</span><span class="n">b</span><span class="n">e</span><span class="n">r</span><span class=""> </span><span class="o">&gt;</span><span class="o">=</span><span class=""> </span><span class="mi">2</span><span class="o">*</span><span class="o">*</span><span class="p">(</span><span class="mi">8</span><span class="o">*</span><span class="n">n</span><span class="n">u</span><span class="n">m</span><span class="n">B</span><span class="n">y</span><span class="n">t</span><span class="n">e</span><span class="n">s</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">a</span><span class="k">i</span><span class="k">s</span><span class="k">e</span><span class=""> </span><span class="ne">V</span><span class="ne">a</span><span class="ne">l</span><span class="ne">u</span><span class="ne">e</span><span class="ne">E</span><span class="ne">r</span><span class="ne">r</span><span class="ne">o</span><span class="ne">r</span><span class="p">(</span><span class="s2">"</span><span class="s2">{</span><span class="s2">}</span><span class="s2"> </span><span class="s2">i</span><span class="s2">s</span><span class="s2"> </span><span class="s2">n</span><span class="s2">o</span><span class="s2">t</span><span class="s2"> </span><span class="s2">i</span><span class="s2">n</span><span class="s2"> </span><span class="s2">r</span><span class="s2">a</span><span class="s2">n</span><span class="s2">g</span><span class="s2">e</span><span class="s2"> </span><span class="s2">[</span><span class="s2">0</span><span class="s2">,</span><span class="s2"> </span><span class="s2">m</span><span class="s2">a</span><span class="s2">x</span><span class="s2">]</span><span class="s2">"</span><span class="o">.</span><span class="n">f</span><span class="n">o</span><span class="n">r</span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="p">(</span><span class="n">n</span><span class="n">u</span><span class="n">m</span><span class="n">b</span><span class="n">e</span><span class="n">r</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="n">s</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">[</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">f</span><span class="k">o</span><span class="k">r</span><span class=""> </span><span class="n">i</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="nb">r</span><span class="nb">a</span><span class="nb">n</span><span class="nb">g</span><span class="nb">e</span><span class="p">(</span><span class="n">n</span><span class="n">u</span><span class="n">m</span><span class="n">B</span><span class="n">y</span><span class="n">t</span><span class="n">e</span><span class="n">s</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="n">s</span><span class="o">.</span><span class="n">a</span><span class="n">p</span><span class="n">p</span><span class="n">e</span><span class="n">n</span><span class="n">d</span><span class="p">(</span><span class="n">n</span><span class="n">u</span><span class="n">m</span><span class="n">b</span><span class="n">e</span><span class="n">r</span><span class=""> </span><span class="o">&amp;</span><span class=""> </span><span class="mh">0</span><span class="mh">x</span><span class="mh">f</span><span class="mh">f</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">n</span><span class="n">u</span><span class="n">m</span><span class="n">b</span><span class="n">e</span><span class="n">r</span><span class=""> </span><span class="o">&gt;</span><span class="o">&gt;</span><span class="o">=</span><span class=""> </span><span class="mi">8</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="n">s</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>support.py</li><li><span class="cp">run machine code</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="kn">i</span><span class="kn">m</span><span class="kn">p</span><span class="kn">o</span><span class="kn">r</span><span class="kn">t</span><span class=""> </span><span class="nn">c</span><span class="nn">t</span><span class="nn">y</span><span class="nn">p</span><span class="nn">e</span><span class="nn">s</span><span class="">
</span><span class="kn">i</span><span class="kn">m</span><span class="kn">p</span><span class="kn">o</span><span class="kn">r</span><span class="kn">t</span><span class=""> </span><span class="nn">m</span><span class="nn">m</span><span class="nn">a</span><span class="nn">p</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>support.py</li><li><span class="cp">run machine code</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="n">l</span><span class="n">i</span><span class="n">b</span><span class="n">c</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">c</span><span class="n">t</span><span class="n">y</span><span class="n">p</span><span class="n">e</span><span class="n">s</span><span class="o">.</span><span class="n">c</span><span class="n">d</span><span class="n">l</span><span class="n">l</span><span class="o">.</span><span class="n">L</span><span class="n">o</span><span class="n">a</span><span class="n">d</span><span class="n">L</span><span class="n">i</span><span class="n">b</span><span class="n">r</span><span class="n">a</span><span class="n">r</span><span class="n">y</span><span class="p">(</span><span class="bp">N</span><span class="bp">o</span><span class="bp">n</span><span class="bp">e</span><span class="p">)</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>support.py</li><li><span class="cp">run machine code</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="n">f</span><span class="n">n</span><span class="n">_</span><span class="n">m</span><span class="n">m</span><span class="n">a</span><span class="n">p</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">l</span><span class="n">i</span><span class="n">b</span><span class="n">c</span><span class="o">.</span><span class="n">m</span><span class="n">m</span><span class="n">a</span><span class="n">p</span><span class="">
</span><span class="n">f</span><span class="n">n</span><span class="n">_</span><span class="n">m</span><span class="n">m</span><span class="n">a</span><span class="n">p</span><span class="o">.</span><span class="n">r</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">y</span><span class="n">p</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">c</span><span class="n">t</span><span class="n">y</span><span class="n">p</span><span class="n">e</span><span class="n">s</span><span class="o">.</span><span class="n">c</span><span class="n">_</span><span class="n">v</span><span class="n">o</span><span class="n">i</span><span class="n">d</span><span class="n">_</span><span class="n">p</span><span class="">
</span><span class="n">f</span><span class="n">n</span><span class="n">_</span><span class="n">m</span><span class="n">m</span><span class="n">a</span><span class="n">p</span><span class="o">.</span><span class="n">a</span><span class="n">r</span><span class="n">g</span><span class="n">t</span><span class="n">y</span><span class="n">p</span><span class="n">e</span><span class="n">s</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">(</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">c</span><span class="n">t</span><span class="n">y</span><span class="n">p</span><span class="n">e</span><span class="n">s</span><span class="o">.</span><span class="n">c</span><span class="n">_</span><span class="n">v</span><span class="n">o</span><span class="n">i</span><span class="n">d</span><span class="n">_</span><span class="n">p</span><span class="p">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">c</span><span class="n">t</span><span class="n">y</span><span class="n">p</span><span class="n">e</span><span class="n">s</span><span class="o">.</span><span class="n">c</span><span class="n">_</span><span class="n">s</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="n">_</span><span class="n">t</span><span class="p">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">c</span><span class="n">t</span><span class="n">y</span><span class="n">p</span><span class="n">e</span><span class="n">s</span><span class="o">.</span><span class="n">c</span><span class="n">_</span><span class="n">i</span><span class="n">n</span><span class="n">t</span><span class="p">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">c</span><span class="n">t</span><span class="n">y</span><span class="n">p</span><span class="n">e</span><span class="n">s</span><span class="o">.</span><span class="n">c</span><span class="n">_</span><span class="n">i</span><span class="n">n</span><span class="n">t</span><span class="p">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">c</span><span class="n">t</span><span class="n">y</span><span class="n">p</span><span class="n">e</span><span class="n">s</span><span class="o">.</span><span class="n">c</span><span class="n">_</span><span class="n">i</span><span class="n">n</span><span class="n">t</span><span class="p">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">c</span><span class="n">t</span><span class="n">y</span><span class="n">p</span><span class="n">e</span><span class="n">s</span><span class="o">.</span><span class="n">c</span><span class="n">_</span><span class="n">s</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="n">_</span><span class="n">t</span><span class="p">,</span><span class="">
</span><span class="p">)</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>support.py</li><li><span class="cp">run machine code</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="n">c</span><span class="n">o</span><span class="n">d</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">"</span><span class="o">.</span><span class="n">j</span><span class="n">o</span><span class="n">i</span><span class="n">n</span><span class="p">(</span><span class="p">[</span><span class="nb">c</span><span class="nb">h</span><span class="nb">r</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class=""> </span><span class="k">f</span><span class="k">o</span><span class="k">r</span><span class=""> </span><span class="n">x</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="n">m</span><span class="n">a</span><span class="n">c</span><span class="n">h</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class="n">_</span><span class="n">c</span><span class="n">o</span><span class="n">d</span><span class="n">e</span><span class="p">]</span><span class="p">)</span><span class="">
</span><span class="n">c</span><span class="n">o</span><span class="n">d</span><span class="n">e</span><span class="n">_</span><span class="n">a</span><span class="n">d</span><span class="n">d</span><span class="n">r</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">f</span><span class="n">n</span><span class="n">_</span><span class="n">m</span><span class="n">m</span><span class="n">a</span><span class="n">p</span><span class="p">(</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">N</span><span class="bp">o</span><span class="bp">n</span><span class="bp">e</span><span class="p">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">l</span><span class="nb">e</span><span class="nb">n</span><span class="p">(</span><span class="n">c</span><span class="n">o</span><span class="n">d</span><span class="n">e</span><span class="p">)</span><span class="p">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">m</span><span class="n">m</span><span class="n">a</span><span class="n">p</span><span class="o">.</span><span class="n">P</span><span class="n">R</span><span class="n">O</span><span class="n">T</span><span class="n">_</span><span class="n">R</span><span class="n">E</span><span class="n">A</span><span class="n">D</span><span class="o">|</span><span class="n">m</span><span class="n">m</span><span class="n">a</span><span class="n">p</span><span class="o">.</span><span class="n">P</span><span class="n">R</span><span class="n">O</span><span class="n">T</span><span class="n">_</span><span class="n">W</span><span class="n">R</span><span class="n">I</span><span class="n">T</span><span class="n">E</span><span class="o">|</span><span class="n">m</span><span class="n">m</span><span class="n">a</span><span class="n">p</span><span class="o">.</span><span class="n">P</span><span class="n">R</span><span class="n">O</span><span class="n">T</span><span class="n">_</span><span class="n">E</span><span class="n">X</span><span class="n">E</span><span class="n">C</span><span class="p">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">m</span><span class="n">m</span><span class="n">a</span><span class="n">p</span><span class="o">.</span><span class="n">M</span><span class="n">A</span><span class="n">P</span><span class="n">_</span><span class="n">P</span><span class="n">R</span><span class="n">I</span><span class="n">V</span><span class="n">A</span><span class="n">T</span><span class="n">E</span><span class="o">|</span><span class="n">m</span><span class="n">m</span><span class="n">a</span><span class="n">p</span><span class="o">.</span><span class="n">M</span><span class="n">A</span><span class="n">P</span><span class="n">_</span><span class="n">A</span><span class="n">N</span><span class="n">O</span><span class="n">N</span><span class="n">Y</span><span class="n">M</span><span class="n">O</span><span class="n">U</span><span class="n">S</span><span class="p">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="mi">0</span><span class="">
</span><span class="p">)</span><span class="">
</span><span class="n">c</span><span class="n">t</span><span class="n">y</span><span class="n">p</span><span class="n">e</span><span class="n">s</span><span class="o">.</span><span class="n">m</span><span class="n">e</span><span class="n">m</span><span class="n">m</span><span class="n">o</span><span class="n">v</span><span class="n">e</span><span class="p">(</span><span class="n">c</span><span class="n">o</span><span class="n">d</span><span class="n">e</span><span class="n">_</span><span class="n">a</span><span class="n">d</span><span class="n">d</span><span class="n">r</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="n">c</span><span class="n">o</span><span class="n">d</span><span class="n">e</span><span class="p">,</span><span class=""> </span><span class="nb">l</span><span class="nb">e</span><span class="nb">n</span><span class="p">(</span><span class="n">c</span><span class="n">o</span><span class="n">d</span><span class="n">e</span><span class="p">)</span><span class="p">)</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>support.py</li><li><span class="cp">run machine code</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="n">f</span><span class="n">n</span><span class="n">_</span><span class="n">m</span><span class="n">a</span><span class="n">l</span><span class="n">l</span><span class="n">o</span><span class="n">c</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">l</span><span class="n">i</span><span class="n">b</span><span class="n">c</span><span class="o">.</span><span class="n">m</span><span class="n">a</span><span class="n">l</span><span class="n">l</span><span class="n">o</span><span class="n">c</span><span class="">
</span><span class="n">f</span><span class="n">n</span><span class="n">_</span><span class="n">m</span><span class="n">a</span><span class="n">l</span><span class="n">l</span><span class="n">o</span><span class="n">c</span><span class="o">.</span><span class="n">r</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">y</span><span class="n">p</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">c</span><span class="n">t</span><span class="n">y</span><span class="n">p</span><span class="n">e</span><span class="n">s</span><span class="o">.</span><span class="n">c</span><span class="n">_</span><span class="n">v</span><span class="n">o</span><span class="n">i</span><span class="n">d</span><span class="n">_</span><span class="n">p</span><span class="">
</span><span class="n">f</span><span class="n">n</span><span class="n">_</span><span class="n">m</span><span class="n">a</span><span class="n">l</span><span class="n">l</span><span class="n">o</span><span class="n">c</span><span class="o">.</span><span class="n">a</span><span class="n">r</span><span class="n">g</span><span class="n">t</span><span class="n">y</span><span class="n">p</span><span class="n">e</span><span class="n">s</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">(</span><span class="n">c</span><span class="n">t</span><span class="n">y</span><span class="n">p</span><span class="n">e</span><span class="n">s</span><span class="o">.</span><span class="n">c</span><span class="n">_</span><span class="n">s</span><span class="n">i</span><span class="n">z</span><span class="n">e</span><span class="n">_</span><span class="n">t</span><span class="p">,</span><span class="p">)</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>support.py</li><li><span class="cp">run machine code</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="n">_</span><span class="n">f</span><span class="n">n</span><span class="n">_</span><span class="n">t</span><span class="n">y</span><span class="n">p</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">c</span><span class="n">t</span><span class="n">y</span><span class="n">p</span><span class="n">e</span><span class="n">s</span><span class="o">.</span><span class="n">C</span><span class="n">F</span><span class="n">U</span><span class="n">N</span><span class="n">C</span><span class="n">T</span><span class="n">Y</span><span class="n">P</span><span class="n">E</span><span class="p">(</span><span class="n">c</span><span class="n">t</span><span class="n">y</span><span class="n">p</span><span class="n">e</span><span class="n">s</span><span class="o">.</span><span class="n">c</span><span class="n">_</span><span class="n">i</span><span class="n">n</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">c</span><span class="n">t</span><span class="n">y</span><span class="n">p</span><span class="n">e</span><span class="n">s</span><span class="o">.</span><span class="n">c</span><span class="n">_</span><span class="n">v</span><span class="n">o</span><span class="n">i</span><span class="n">d</span><span class="n">_</span><span class="n">p</span><span class="p">)</span><span class="">
</span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="n">_</span><span class="n">f</span><span class="n">n</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">c</span><span class="n">t</span><span class="n">y</span><span class="n">p</span><span class="n">e</span><span class="n">s</span><span class="o">.</span><span class="n">c</span><span class="n">a</span><span class="n">s</span><span class="n">t</span><span class="p">(</span><span class="n">c</span><span class="n">o</span><span class="n">d</span><span class="n">e</span><span class="n">_</span><span class="n">a</span><span class="n">d</span><span class="n">d</span><span class="n">r</span><span class="n">e</span><span class="n">s</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="n">_</span><span class="n">f</span><span class="n">n</span><span class="n">_</span><span class="n">t</span><span class="n">y</span><span class="n">p</span><span class="n">e</span><span class="p">)</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>support.py</li><li><span class="cp">run machine code</span>

</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="n">r</span><span class="n">e</span><span class="n">s</span><span class="n">u</span><span class="n">l</span><span class="n">t</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="n">_</span><span class="n">f</span><span class="n">n</span><span class="p">(</span><span class="n">f</span><span class="n">n</span><span class="n">_</span><span class="n">m</span><span class="n">a</span><span class="n">l</span><span class="n">l</span><span class="n">o</span><span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="mi">0</span><span class="mi">2</span><span class="mi">4</span><span class="p">)</span><span class="p">)</span><span class="">
</span></pre></div>

</div>

<p>Generating machine code (and running it) for the simple expression</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">3</span><span class="">
</span></pre></div>

</div>

<p>looks like this:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">3</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">P</span><span class="">a</span><span class="">r</span><span class="">s</span><span class="">e</span><span class="">r</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">3</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">A</span><span class="">b</span><span class="">s</span><span class="">t</span><span class="">r</span><span class="">a</span><span class="">c</span><span class="">t</span><span class="">C</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">G</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">'</span><span class="">P</span><span class="">U</span><span class="">S</span><span class="">H</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">3</span><span class="">]</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">X</span><span class="">8</span><span class="">6</span><span class="">C</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">G</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">3</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">t</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">A</span><span class="">s</span><span class="">s</span><span class="">e</span><span class="">m</span><span class="">b</span><span class="">l</span><span class="">e</span><span class="">r</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">7</span><span class="">2</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">3</span><span class="">1</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">9</span><span class="">9</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">4</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">3</span><span class="">7</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">7</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">8</span><span class="">4</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">3</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">0</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">0</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">0</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">9</span><span class="">5</span><span class="">]</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">X</span><span class="">8</span><span class="">6</span><span class="">R</span><span class="">u</span><span class="">n</span><span class="">n</span><span class="">e</span><span class="">r</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">3</span><span class="">
</span></pre></div>

</div>

<p>Generating machine code (and running it) for the slightly more complicated expression</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">1</span><span class="">+</span><span class="">2</span><span class="">*</span><span class="">3</span><span class="">
</span></pre></div>

</div>

<p>looks like this:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">1</span><span class="">+</span><span class="">2</span><span class="">*</span><span class="">3</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">P</span><span class="">a</span><span class="">r</span><span class="">s</span><span class="">e</span><span class="">r</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">'</span><span class="">A</span><span class="">D</span><span class="">D</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">M</span><span class="">U</span><span class="">L</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">2</span><span class="">,</span><span class=""> </span><span class="">3</span><span class="">]</span><span class="">]</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">A</span><span class="">b</span><span class="">s</span><span class="">t</span><span class="">r</span><span class="">a</span><span class="">c</span><span class="">t</span><span class="">C</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">G</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">'</span><span class="">P</span><span class="">U</span><span class="">S</span><span class="">H</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">3</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">P</span><span class="">U</span><span class="">S</span><span class="">H</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">2</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">M</span><span class="">U</span><span class="">L</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">P</span><span class="">U</span><span class="">S</span><span class="">H</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">A</span><span class="">D</span><span class="">D</span><span class="">'</span><span class="">]</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">X</span><span class="">8</span><span class="">6</span><span class="">C</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">G</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">3</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">2</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">i</span><span class="">m</span><span class="">u</span><span class="">l</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">s</span><span class="">u</span><span class="">b</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">1</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">s</span><span class="">u</span><span class="">b</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">t</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">A</span><span class="">s</span><span class="">s</span><span class="">e</span><span class="">m</span><span class="">b</span><span class="">l</span><span class="">e</span><span class="">r</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">7</span><span class="">2</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">3</span><span class="">1</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">9</span><span class="">9</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">4</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">3</span><span class="">7</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">7</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">8</span><span class="">4</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">3</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">0</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">0</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">0</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">7</span><span class="">2</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">3</span><span class="">1</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">9</span><span class="">9</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">4</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">3</span><span class="">7</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">7</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">8</span><span class="">4</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">2</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">0</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">0</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">0</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">7</span><span class="">2</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">3</span><span class="">1</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">9</span><span class="">9</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">4</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">3</span><span class="">7</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">7</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">8</span><span class="">4</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">0</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">0</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">0</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">9</span><span class="">5</span><span class="">]</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">X</span><span class="">8</span><span class="">6</span><span class="">R</span><span class="">u</span><span class="">n</span><span class="">n</span><span class="">e</span><span class="">r</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">1</span><span class="">
</span></pre></div>

</div>

<p>Generating machine code (and running it) for the expression that uses all operators</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">2</span><span class="">^</span><span class="">4</span><span class="">/</span><span class="">2</span><span class="">*</span><span class="">3</span><span class="">-</span><span class="">4</span><span class="">+</span><span class="">5</span><span class="">
</span></pre></div>

</div>

<p>looks like this:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">2</span><span class="">^</span><span class="">4</span><span class="">/</span><span class="">2</span><span class="">*</span><span class="">3</span><span class="">-</span><span class="">4</span><span class="">+</span><span class="">5</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">P</span><span class="">a</span><span class="">r</span><span class="">s</span><span class="">e</span><span class="">r</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">'</span><span class="">A</span><span class="">D</span><span class="">D</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">S</span><span class="">U</span><span class="">B</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">M</span><span class="">U</span><span class="">L</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">D</span><span class="">I</span><span class="">V</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">P</span><span class="">O</span><span class="">W</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">2</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">2</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">3</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">5</span><span class="">]</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">A</span><span class="">b</span><span class="">s</span><span class="">t</span><span class="">r</span><span class="">a</span><span class="">c</span><span class="">t</span><span class="">C</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">G</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">'</span><span class="">P</span><span class="">U</span><span class="">S</span><span class="">H</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">5</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">P</span><span class="">U</span><span class="">S</span><span class="">H</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">4</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">P</span><span class="">U</span><span class="">S</span><span class="">H</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">3</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">P</span><span class="">U</span><span class="">S</span><span class="">H</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">2</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">P</span><span class="">U</span><span class="">S</span><span class="">H</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">4</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">P</span><span class="">U</span><span class="">S</span><span class="">H</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">2</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">P</span><span class="">O</span><span class="">W</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">D</span><span class="">I</span><span class="">V</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">M</span><span class="">U</span><span class="">L</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">S</span><span class="">U</span><span class="">B</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">'</span><span class="">A</span><span class="">D</span><span class="">D</span><span class="">'</span><span class="">]</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">X</span><span class="">8</span><span class="">6</span><span class="">C</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">G</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">5</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">3</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">2</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">m</span><span class="">o</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">2</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">d</span><span class="">q</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">i</span><span class="">d</span><span class="">i</span><span class="">v</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">'</span><span class="">l</span><span class="">o</span><span class="">n</span><span class="">g</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">s</span><span class="">u</span><span class="">b</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">i</span><span class="">m</span><span class="">u</span><span class="">l</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">s</span><span class="">u</span><span class="">b</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">s</span><span class="">u</span><span class="">b</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">s</span><span class="">u</span><span class="">b</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">e</span><span class="">a</span><span class="">x</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">s</span><span class="">u</span><span class="">b</span><span class="">'</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">'</span><span class="">r</span><span class="">d</span><span class="">i</span><span class="">'</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">'</span><span class="">,</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">[</span><span class="">'</span><span class="">r</span><span class="">e</span><span class="">t</span><span class="">'</span><span class="">]</span><span class="">]</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">A</span><span class="">s</span><span class="">s</span><span class="">e</span><span class="">m</span><span class="">b</span><span class="">l</span><span class="">e</span><span class="">r</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">[</span><span class="">7</span><span class="">2</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">3</span><span class="">1</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">9</span><span class="">9</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">4</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">3</span><span class="">7</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">7</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">8</span><span class="">4</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">5</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">0</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">0</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">0</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">7</span><span class="">2</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">3</span><span class="">1</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">9</span><span class="">9</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">4</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">3</span><span class="">7</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">7</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">8</span><span class="">4</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">4</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">0</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">0</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">0</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">7</span><span class="">2</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">3</span><span class="">1</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">9</span><span class="">9</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">4</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">3</span><span class="">7</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">7</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">8</span><span class="">4</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">3</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">0</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">0</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">0</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">7</span><span class="">2</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">3</span><span class="">1</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">9</span><span class="">9</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">4</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">3</span><span class="">7</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">7</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">8</span><span class="">4</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">2</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">0</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">0</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">0</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">7</span><span class="">2</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">3</span><span class="">1</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">9</span><span class="">9</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">4</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">3</span><span class="">7</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">7</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">8</span><span class="">4</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">4</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">0</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">0</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">0</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">7</span><span class="">2</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">3</span><span class="">1</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">9</span><span class="">9</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">4</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">3</span><span class="">7</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">7</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">8</span><span class="">4</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">2</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">0</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">0</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">0</span><span class="">,</span><span class="">
</span><span class=""> </span><span class="">1</span><span class="">9</span><span class="">5</span><span class="">]</span><span class="">
</span><span class="">
</span><span class="">=</span><span class="">V</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class=""> </span><span class="">X</span><span class="">8</span><span class="">6</span><span class="">R</span><span class="">u</span><span class="">n</span><span class="">n</span><span class="">e</span><span class="">r</span><span class=""> </span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">=</span><span class="">
</span><span class="">
</span><span class="">2</span><span class="">
</span></pre></div>

</div>

<h2><a name="a047c1b417bc42799170c0e3632cc3f9"></a>Appendix: All source code</h2>

<p>Here is all source code needed to turn expressions into x86 machine code. Code to run machine code is dependent on situation, so it is not included here.</p>

<p>Parser:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">P</span><span class="">a</span><span class="">r</span><span class="">s</span><span class="">e</span><span class="">r</span><span class=""> </span><span class="">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class="nb">:</span><span class="">x</span><span class=""> </span><span class="">(</span><span class="">o</span><span class="">p</span><span class="nb">:</span><span class="">y</span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class="nb">:</span><span class="">z</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">y</span><span class=""> </span><span class="">z</span><span class="">]</span><span class="">)</span><span class="nc">*</span><span class="nb">:</span><span class="">x</span><span class="">s</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">p</span><span class="">a</span><span class="">r</span><span class="">s</span><span class="">e</span><span class="">O</span><span class="">p</span><span class="">s</span><span class="">(</span><span class="">x</span><span class=""> </span><span class="">x</span><span class="">s</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">d</span><span class="">i</span><span class="">g</span><span class="">i</span><span class="">t</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="sc">'</span><span class="sc">0</span><span class="sc">'</span><span class="nc">-</span><span class="sc">'</span><span class="sc">9</span><span class="sc">'</span><span class="nb">:</span><span class="">x</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">i</span><span class="">n</span><span class="">t</span><span class="">(</span><span class="">x</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">o</span><span class="">p</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="sc">'</span><span class="sc">+</span><span class="sc">'</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">O</span><span class="">p</span><span class="">(</span><span class="">m</span><span class="">a</span><span class="">k</span><span class="">e</span><span class="">A</span><span class="">s</span><span class="">t</span><span class="">N</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">(</span><span class="s">"</span><span class="s">A</span><span class="s">D</span><span class="s">D</span><span class="s">"</span><span class="">)</span><span class=""> </span><span class="">1</span><span class=""> </span><span class="s">"</span><span class="s">l</span><span class="s">e</span><span class="s">f</span><span class="s">t</span><span class="s">"</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="sc">'</span><span class="sc">-</span><span class="sc">'</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">O</span><span class="">p</span><span class="">(</span><span class="">m</span><span class="">a</span><span class="">k</span><span class="">e</span><span class="">A</span><span class="">s</span><span class="">t</span><span class="">N</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">(</span><span class="s">"</span><span class="s">S</span><span class="s">U</span><span class="s">B</span><span class="s">"</span><span class="">)</span><span class=""> </span><span class="">1</span><span class=""> </span><span class="s">"</span><span class="s">l</span><span class="s">e</span><span class="s">f</span><span class="s">t</span><span class="s">"</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="sc">'</span><span class="sc">*</span><span class="sc">'</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">O</span><span class="">p</span><span class="">(</span><span class="">m</span><span class="">a</span><span class="">k</span><span class="">e</span><span class="">A</span><span class="">s</span><span class="">t</span><span class="">N</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">(</span><span class="s">"</span><span class="s">M</span><span class="s">U</span><span class="s">L</span><span class="s">"</span><span class="">)</span><span class=""> </span><span class="">2</span><span class=""> </span><span class="s">"</span><span class="s">l</span><span class="s">e</span><span class="s">f</span><span class="s">t</span><span class="s">"</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="sc">'</span><span class="sc">/</span><span class="sc">'</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">O</span><span class="">p</span><span class="">(</span><span class="">m</span><span class="">a</span><span class="">k</span><span class="">e</span><span class="">A</span><span class="">s</span><span class="">t</span><span class="">N</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">(</span><span class="s">"</span><span class="s">D</span><span class="s">I</span><span class="s">V</span><span class="s">"</span><span class="">)</span><span class=""> </span><span class="">2</span><span class=""> </span><span class="s">"</span><span class="s">l</span><span class="s">e</span><span class="s">f</span><span class="s">t</span><span class="s">"</span><span class="">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="sc">'</span><span class="sc">^</span><span class="sc">'</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">O</span><span class="">p</span><span class="">(</span><span class="">m</span><span class="">a</span><span class="">k</span><span class="">e</span><span class="">A</span><span class="">s</span><span class="">t</span><span class="">N</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">(</span><span class="s">"</span><span class="s">P</span><span class="s">O</span><span class="s">W</span><span class="s">"</span><span class="">)</span><span class=""> </span><span class="">3</span><span class=""> </span><span class="s">"</span><span class="s">r</span><span class="s">i</span><span class="s">g</span><span class="s">h</span><span class="s">t</span><span class="s">"</span><span class="">)</span><span class="">
</span><span class="">}</span><span class="">
</span></pre></div>

</div>

<p>Abstract code generator:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">A</span><span class="">b</span><span class="">s</span><span class="">t</span><span class="">r</span><span class="">a</span><span class="">c</span><span class="">t</span><span class="">C</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">G</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class=""> </span><span class="nb">=</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">[</span><span class="nc">.</span><span class="nb">:</span><span class="">n</span><span class="">a</span><span class="">m</span><span class="">e</span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class="nb">:</span><span class="">l</span><span class="">e</span><span class="">f</span><span class="">t</span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class="nb">:</span><span class="">r</span><span class="">i</span><span class="">g</span><span class="">h</span><span class="">t</span><span class="">]</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="nc">~</span><span class="">r</span><span class="">i</span><span class="">g</span><span class="">h</span><span class="">t</span><span class=""> </span><span class="nc">~</span><span class="">l</span><span class="">e</span><span class="">f</span><span class="">t</span><span class=""> </span><span class="">n</span><span class="">a</span><span class="">m</span><span class="">e</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="nc">.</span><span class="nb">:</span><span class="">l</span><span class="">e</span><span class="">a</span><span class="">f</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">P</span><span class="s">U</span><span class="s">S</span><span class="s">H</span><span class="s">"</span><span class=""> </span><span class="">l</span><span class="">e</span><span class="">a</span><span class="">f</span><span class="">]</span><span class="">
</span><span class="">}</span><span class="">
</span></pre></div>

</div>

<p>X86 code generator:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">X</span><span class="">8</span><span class="">6</span><span class="">C</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">G</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">[</span><span class="nc">%</span><span class="nc">*</span><span class="nb">:</span><span class="">x</span><span class="">s</span><span class="">]</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="nc">~</span><span class="nc">~</span><span class="">x</span><span class="">s</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">r</span><span class="s">e</span><span class="s">t</span><span class="s">"</span><span class="">]</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">A</span><span class="">D</span><span class="">D</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">a</span><span class="s">d</span><span class="s">d</span><span class="s">"</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">r</span><span class="s">e</span><span class="s">g</span><span class="s">"</span><span class=""> </span><span class="s">"</span><span class="s">e</span><span class="s">a</span><span class="s">x</span><span class="s">"</span><span class="">]</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">a</span><span class="s">d</span><span class="s">d</span><span class="s">r</span><span class="s">"</span><span class=""> </span><span class="s">"</span><span class="s">r</span><span class="s">d</span><span class="s">i</span><span class="s">"</span><span class="">]</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">s</span><span class="s">u</span><span class="s">b</span><span class="s">"</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">r</span><span class="s">e</span><span class="s">g</span><span class="s">"</span><span class=""> </span><span class="s">"</span><span class="s">r</span><span class="s">d</span><span class="s">i</span><span class="s">"</span><span class="">]</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">c</span><span class="s">o</span><span class="s">n</span><span class="s">s</span><span class="s">t</span><span class="s">"</span><span class=""> </span><span class="">4</span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">]</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">S</span><span class="">U</span><span class="">B</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">s</span><span class="s">u</span><span class="s">b</span><span class="s">"</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">r</span><span class="s">e</span><span class="s">g</span><span class="s">"</span><span class=""> </span><span class="s">"</span><span class="s">e</span><span class="s">a</span><span class="s">x</span><span class="s">"</span><span class="">]</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">a</span><span class="s">d</span><span class="s">d</span><span class="s">r</span><span class="s">"</span><span class=""> </span><span class="s">"</span><span class="s">r</span><span class="s">d</span><span class="s">i</span><span class="s">"</span><span class="">]</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">s</span><span class="s">u</span><span class="s">b</span><span class="s">"</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">r</span><span class="s">e</span><span class="s">g</span><span class="s">"</span><span class=""> </span><span class="s">"</span><span class="s">r</span><span class="s">d</span><span class="s">i</span><span class="s">"</span><span class="">]</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">c</span><span class="s">o</span><span class="s">n</span><span class="s">s</span><span class="s">t</span><span class="s">"</span><span class=""> </span><span class="">4</span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">]</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">M</span><span class="">U</span><span class="">L</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">i</span><span class="s">m</span><span class="s">u</span><span class="s">l</span><span class="s">"</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">r</span><span class="s">e</span><span class="s">g</span><span class="s">"</span><span class=""> </span><span class="s">"</span><span class="s">e</span><span class="s">a</span><span class="s">x</span><span class="s">"</span><span class="">]</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">a</span><span class="s">d</span><span class="s">d</span><span class="s">r</span><span class="s">"</span><span class=""> </span><span class="s">"</span><span class="s">r</span><span class="s">d</span><span class="s">i</span><span class="s">"</span><span class="">]</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">s</span><span class="s">u</span><span class="s">b</span><span class="s">"</span><span class=""> </span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">r</span><span class="s">e</span><span class="s">g</span><span class="s">"</span><span class=""> </span><span class="s">"</span><span class="s">r</span><span class="s">d</span><span class="s">i</span><span class="s">"</span><span class="">]</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">c</span><span class="s">o</span><span class="s">n</span><span class="s">s</span><span class="s">t</span><span class="s">"</span><span class=""> </span><span class="">4</span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">]</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">D</span><span class="">I</span><span class="">V</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">c</span><span class="s">d</span><span class="s">q</span><span class="s">"</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">i</span><span class="s">d</span><span class="s">i</span><span class="s">v</span><span class="s">"</span><span class=""> </span><span class="s">"</span><span class="s">l</span><span class="s">o</span><span class="s">n</span><span class="s">g</span><span class="s">"</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">a</span><span class="s">d</span><span class="s">d</span><span class="s">r</span><span class="s">"</span><span class=""> </span><span class="s">"</span><span class="s">r</span><span class="s">d</span><span class="s">i</span><span class="s">"</span><span class="">]</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">s</span><span class="s">u</span><span class="s">b</span><span class="s">"</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">r</span><span class="s">e</span><span class="s">g</span><span class="s">"</span><span class=""> </span><span class=""> </span><span class="s">"</span><span class="s">r</span><span class="s">d</span><span class="s">i</span><span class="s">"</span><span class="">]</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">c</span><span class="s">o</span><span class="s">n</span><span class="s">s</span><span class="s">t</span><span class="s">"</span><span class=""> </span><span class="">4</span><span class="">]</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">P</span><span class="">O</span><span class="">W</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">P</span><span class="">U</span><span class="">S</span><span class="">H</span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="nc">.</span><span class="nb">:</span><span class="">x</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">a</span><span class="s">d</span><span class="s">d</span><span class="s">"</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">r</span><span class="s">e</span><span class="s">g</span><span class="s">"</span><span class=""> </span><span class=""> </span><span class="s">"</span><span class="s">r</span><span class="s">d</span><span class="s">i</span><span class="s">"</span><span class="">]</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">c</span><span class="s">o</span><span class="s">n</span><span class="s">s</span><span class="s">t</span><span class="s">"</span><span class=""> </span><span class="">4</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">]</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">m</span><span class="s">o</span><span class="s">v</span><span class="s">"</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">a</span><span class="s">d</span><span class="s">d</span><span class="s">r</span><span class="s">"</span><span class=""> </span><span class="s">"</span><span class="s">r</span><span class="s">d</span><span class="s">i</span><span class="s">"</span><span class="">]</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">r</span><span class="s">e</span><span class="s">g</span><span class="s">"</span><span class=""> </span><span class=""> </span><span class=""> </span><span class="s">"</span><span class="s">e</span><span class="s">a</span><span class="s">x</span><span class="s">"</span><span class="">]</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">m</span><span class="s">o</span><span class="s">v</span><span class="s">"</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">r</span><span class="s">e</span><span class="s">g</span><span class="s">"</span><span class=""> </span><span class=""> </span><span class="s">"</span><span class="s">e</span><span class="s">a</span><span class="s">x</span><span class="s">"</span><span class="">]</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">c</span><span class="s">o</span><span class="s">n</span><span class="s">s</span><span class="s">t</span><span class="s">"</span><span class=""> </span><span class="">x</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">]</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">]</span><span class="">
</span><span class="">}</span><span class="">
</span></pre></div>

</div>

<p>Assembler:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="">A</span><span class="">s</span><span class="">s</span><span class="">e</span><span class="">m</span><span class="">b</span><span class="">l</span><span class="">e</span><span class="">r</span><span class=""> </span><span class="">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">[</span><span class="">i</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">r</span><span class="nc">*</span><span class="nb">:</span><span class="">x</span><span class="">s</span><span class="">]</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="nc">~</span><span class="nc">~</span><span class="">x</span><span class="">s</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">i</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="">r</span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">[</span><span class="nc">%</span><span class="nb">:</span><span class="">x</span><span class="">]</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">x</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">a</span><span class="">d</span><span class="">d</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">6</span><span class="">4</span><span class="nb">:</span><span class="">r</span><span class=""> </span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="nb">:</span><span class="">i</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">0</span><span class="">x</span><span class="">4</span><span class="">8</span><span class=""> </span><span class="">0</span><span class="">x</span><span class="">8</span><span class="">3</span><span class=""> </span><span class="">m</span><span class="">o</span><span class="">d</span><span class="">R</span><span class="">m</span><span class="">D</span><span class="">i</span><span class="">r</span><span class="">e</span><span class="">c</span><span class="">t</span><span class="">(</span><span class="">r</span><span class="">)</span><span class=""> </span><span class="nc">~</span><span class="">l</span><span class="">i</span><span class="">t</span><span class="">t</span><span class="">l</span><span class="">e</span><span class="">E</span><span class="">n</span><span class="">d</span><span class="">i</span><span class="">a</span><span class="">n</span><span class="">(</span><span class="">i</span><span class=""> </span><span class="">1</span><span class="">)</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">3</span><span class="">2</span><span class="nb">:</span><span class="">r</span><span class=""> </span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="nb">:</span><span class="">m</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">s</span><span class="">u</span><span class="">b</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">6</span><span class="">4</span><span class="nb">:</span><span class="">r</span><span class=""> </span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="nb">:</span><span class="">i</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">3</span><span class="">2</span><span class="nb">:</span><span class="">r</span><span class=""> </span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="nb">:</span><span class="">m</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">i</span><span class="">m</span><span class="">u</span><span class="">l</span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">3</span><span class="">2</span><span class="nb">:</span><span class="">r</span><span class=""> </span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="nb">:</span><span class="">m</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">c</span><span class="">d</span><span class="">q</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">i</span><span class="">d</span><span class="">i</span><span class="">v</span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="s">"</span><span class="s">l</span><span class="s">o</span><span class="s">n</span><span class="s">g</span><span class="s">"</span><span class=""> </span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="nb">:</span><span class="">m</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">m</span><span class="">o</span><span class="">v</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="nb">:</span><span class="">m</span><span class=""> </span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">3</span><span class="">2</span><span class="nb">:</span><span class="">r</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">0</span><span class="">x</span><span class="">8</span><span class="">9</span><span class=""> </span><span class="">m</span><span class="">o</span><span class="">d</span><span class="">R</span><span class="">m</span><span class="">A</span><span class="">d</span><span class="">d</span><span class="">r</span><span class="">(</span><span class="">m</span><span class=""> </span><span class="">r</span><span class="">)</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">3</span><span class="">2</span><span class="nb">:</span><span class="">r</span><span class=""> </span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class="nb">:</span><span class="">i</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">(</span><span class="">0</span><span class="">x</span><span class="">b</span><span class="">8</span><span class=""> </span><span class="">r</span><span class="">)</span><span class=""> </span><span class="nc">~</span><span class="">l</span><span class="">i</span><span class="">t</span><span class="">t</span><span class="">l</span><span class="">e</span><span class="">E</span><span class="">n</span><span class="">d</span><span class="">i</span><span class="">a</span><span class="">n</span><span class="">(</span><span class="">i</span><span class=""> </span><span class="">4</span><span class="">)</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">t</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">[</span><span class="">0</span><span class="">x</span><span class="">c</span><span class="">3</span><span class="">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">a</span><span class="">d</span><span class="">d</span><span class="">r</span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">a</span><span class="s">d</span><span class="s">d</span><span class="s">r</span><span class="s">"</span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">6</span><span class="">4</span><span class="">n</span><span class="nb">:</span><span class="">n</span><span class="">]</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">n</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">6</span><span class="">4</span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">r</span><span class="s">e</span><span class="s">g</span><span class="s">"</span><span class=""> </span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">6</span><span class="">4</span><span class="">n</span><span class="nb">:</span><span class="">n</span><span class="">]</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">n</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">6</span><span class="">4</span><span class="">n</span><span class=""> </span><span class="nb">=</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="s">"</span><span class="s">r</span><span class="s">d</span><span class="s">i</span><span class="s">"</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">7</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">3</span><span class="">2</span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">r</span><span class="s">e</span><span class="s">g</span><span class="s">"</span><span class=""> </span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">3</span><span class="">2</span><span class="">n</span><span class="nb">:</span><span class="">n</span><span class="">]</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">n</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">r</span><span class="">e</span><span class="">g</span><span class="">3</span><span class="">2</span><span class="">n</span><span class=""> </span><span class="nb">=</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">|</span><span class=""> </span><span class="s">"</span><span class="s">e</span><span class="s">a</span><span class="s">x</span><span class="s">"</span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">0</span><span class="">
</span><span class=""> </span><span class=""> </span><span class="">c</span><span class="">o</span><span class="">n</span><span class="">s</span><span class="">t</span><span class=""> </span><span class=""> </span><span class="nb">=</span><span class=""> </span><span class="">[</span><span class="s">"</span><span class="s">c</span><span class="s">o</span><span class="s">n</span><span class="s">s</span><span class="s">t</span><span class="s">"</span><span class=""> </span><span class="nc">.</span><span class="nb">:</span><span class="">i</span><span class="">]</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">-</span><span class="nb">&gt;</span><span class=""> </span><span class="">i</span><span class="">
</span><span class="">}</span><span class="">
</span></pre></div>

</div>

<p>Support functions:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">O</span><span class="nc">p</span><span class="p">(</span><span class="nb">o</span><span class="nb">b</span><span class="nb">j</span><span class="nb">e</span><span class="nb">c</span><span class="nb">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="fm">_</span><span class="fm">_</span><span class="fm">i</span><span class="fm">n</span><span class="fm">i</span><span class="fm">t</span><span class="fm">_</span><span class="fm">_</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">f</span><span class="n">n</span><span class="p">,</span><span class=""> </span><span class="n">p</span><span class="n">r</span><span class="n">e</span><span class="n">c</span><span class="p">,</span><span class=""> </span><span class="n">a</span><span class="n">s</span><span class="n">s</span><span class="n">o</span><span class="n">c</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">f</span><span class="n">n</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">f</span><span class="n">n</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">p</span><span class="n">r</span><span class="n">e</span><span class="n">c</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">p</span><span class="n">r</span><span class="n">e</span><span class="n">c</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="o">.</span><span class="n">a</span><span class="n">s</span><span class="n">s</span><span class="n">o</span><span class="n">c</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">a</span><span class="n">s</span><span class="n">s</span><span class="n">o</span><span class="n">c</span><span class="">
</span><span class="">
</span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">m</span><span class="nf">a</span><span class="nf">k</span><span class="nf">e</span><span class="nf">A</span><span class="nf">s</span><span class="nf">t</span><span class="nf">N</span><span class="nf">o</span><span class="nf">d</span><span class="nf">e</span><span class="p">(</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">o</span><span class="nf">p</span><span class="p">(</span><span class="n">l</span><span class="n">e</span><span class="n">f</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">h</span><span class="n">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="p">[</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">,</span><span class=""> </span><span class="n">l</span><span class="n">e</span><span class="n">f</span><span class="n">t</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">i</span><span class="n">g</span><span class="n">h</span><span class="n">t</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">o</span><span class="n">p</span><span class="">
</span><span class="">
</span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">p</span><span class="nf">a</span><span class="nf">r</span><span class="nf">s</span><span class="nf">e</span><span class="nf">O</span><span class="nf">p</span><span class="nf">s</span><span class="p">(</span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="p">,</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="n">m</span><span class="n">i</span><span class="n">n</span><span class="n">_</span><span class="n">l</span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">l</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">w</span><span class="k">h</span><span class="k">i</span><span class="k">l</span><span class="k">e</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class=""> </span><span class="ow">a</span><span class="ow">n</span><span class="ow">d</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">p</span><span class="n">r</span><span class="n">e</span><span class="n">c</span><span class=""> </span><span class="o">&gt;</span><span class="o">=</span><span class=""> </span><span class="n">m</span><span class="n">i</span><span class="n">n</span><span class="n">_</span><span class="n">l</span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">l</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">o</span><span class="n">p</span><span class="p">,</span><span class=""> </span><span class="n">r</span><span class="n">h</span><span class="n">s</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="o">.</span><span class="n">p</span><span class="n">o</span><span class="n">p</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">o</span><span class="n">p</span><span class="o">.</span><span class="n">a</span><span class="n">s</span><span class="n">s</span><span class="n">o</span><span class="n">c</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="s2">"</span><span class="s2">l</span><span class="s2">e</span><span class="s2">f</span><span class="s2">t</span><span class="s2">"</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">l</span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">l</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">o</span><span class="n">p</span><span class="o">.</span><span class="n">p</span><span class="n">r</span><span class="n">e</span><span class="n">c</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">l</span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">l</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">o</span><span class="n">p</span><span class="o">.</span><span class="n">p</span><span class="n">r</span><span class="n">e</span><span class="n">c</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">o</span><span class="n">p</span><span class="o">.</span><span class="n">f</span><span class="n">n</span><span class="p">(</span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="p">,</span><span class=""> </span><span class="n">p</span><span class="n">a</span><span class="n">r</span><span class="n">s</span><span class="n">e</span><span class="n">O</span><span class="n">p</span><span class="n">s</span><span class="p">(</span><span class="n">r</span><span class="n">h</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="n">m</span><span class="n">s</span><span class="p">,</span><span class=""> </span><span class="n">n</span><span class="n">e</span><span class="n">x</span><span class="n">t</span><span class="n">_</span><span class="n">l</span><span class="n">e</span><span class="n">v</span><span class="n">e</span><span class="n">l</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="">
</span><span class="">
</span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">m</span><span class="nf">o</span><span class="nf">d</span><span class="nf">R</span><span class="nf">m</span><span class="nf">D</span><span class="nf">i</span><span class="nf">r</span><span class="nf">e</span><span class="nf">c</span><span class="nf">t</span><span class="p">(</span><span class="n">r</span><span class="n">e</span><span class="n">g</span><span class="n">i</span><span class="n">s</span><span class="n">t</span><span class="n">e</span><span class="n">r</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="mh">0</span><span class="mh">x</span><span class="mh">c</span><span class="mh">0</span><span class=""> </span><span class="o">|</span><span class=""> </span><span class="n">r</span><span class="n">e</span><span class="n">g</span><span class="n">i</span><span class="n">s</span><span class="n">t</span><span class="n">e</span><span class="n">r</span><span class="">
</span><span class="">
</span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">m</span><span class="nf">o</span><span class="nf">d</span><span class="nf">R</span><span class="nf">m</span><span class="nf">A</span><span class="nf">d</span><span class="nf">d</span><span class="nf">r</span><span class="p">(</span><span class="n">a</span><span class="n">d</span><span class="n">d</span><span class="n">r</span><span class="n">R</span><span class="n">e</span><span class="n">g</span><span class="n">i</span><span class="n">s</span><span class="n">t</span><span class="n">e</span><span class="n">r</span><span class="p">,</span><span class=""> </span><span class="n">d</span><span class="n">e</span><span class="n">s</span><span class="n">i</span><span class="n">n</span><span class="n">a</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="n">R</span><span class="n">e</span><span class="n">g</span><span class="n">i</span><span class="n">s</span><span class="n">t</span><span class="n">e</span><span class="n">r</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="mh">0</span><span class="mh">x</span><span class="mh">0</span><span class="mh">0</span><span class=""> </span><span class="o">|</span><span class=""> </span><span class="p">(</span><span class="n">d</span><span class="n">e</span><span class="n">s</span><span class="n">i</span><span class="n">n</span><span class="n">a</span><span class="n">t</span><span class="n">i</span><span class="n">o</span><span class="n">n</span><span class="n">R</span><span class="n">e</span><span class="n">g</span><span class="n">i</span><span class="n">s</span><span class="n">t</span><span class="n">e</span><span class="n">r</span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="mi">3</span><span class="p">)</span><span class=""> </span><span class="o">|</span><span class=""> </span><span class="n">a</span><span class="n">d</span><span class="n">d</span><span class="n">r</span><span class="n">R</span><span class="n">e</span><span class="n">g</span><span class="n">i</span><span class="n">s</span><span class="n">t</span><span class="n">e</span><span class="n">r</span><span class="">
</span><span class="">
</span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">a</span><span class="nf">d</span><span class="nf">d</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class=""> </span><span class="n">y</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">x</span><span class=""> </span><span class="o">+</span><span class=""> </span><span class="n">y</span><span class="">
</span><span class="">
</span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">l</span><span class="nf">i</span><span class="nf">t</span><span class="nf">t</span><span class="nf">l</span><span class="nf">e</span><span class="nf">E</span><span class="nf">n</span><span class="nf">d</span><span class="nf">i</span><span class="nf">a</span><span class="nf">n</span><span class="p">(</span><span class="n">n</span><span class="n">u</span><span class="n">m</span><span class="n">b</span><span class="n">e</span><span class="n">r</span><span class="p">,</span><span class=""> </span><span class="n">n</span><span class="n">u</span><span class="n">m</span><span class="n">B</span><span class="n">y</span><span class="n">t</span><span class="n">e</span><span class="n">s</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">n</span><span class="n">u</span><span class="n">m</span><span class="n">b</span><span class="n">e</span><span class="n">r</span><span class=""> </span><span class="o">&lt;</span><span class=""> </span><span class="mi">0</span><span class=""> </span><span class="ow">o</span><span class="ow">r</span><span class=""> </span><span class="n">n</span><span class="n">u</span><span class="n">m</span><span class="n">b</span><span class="n">e</span><span class="n">r</span><span class=""> </span><span class="o">&gt;</span><span class="o">=</span><span class=""> </span><span class="mi">2</span><span class="o">*</span><span class="o">*</span><span class="p">(</span><span class="mi">8</span><span class="o">*</span><span class="n">n</span><span class="n">u</span><span class="n">m</span><span class="n">B</span><span class="n">y</span><span class="n">t</span><span class="n">e</span><span class="n">s</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">a</span><span class="k">i</span><span class="k">s</span><span class="k">e</span><span class=""> </span><span class="ne">V</span><span class="ne">a</span><span class="ne">l</span><span class="ne">u</span><span class="ne">e</span><span class="ne">E</span><span class="ne">r</span><span class="ne">r</span><span class="ne">o</span><span class="ne">r</span><span class="p">(</span><span class="s2">"</span><span class="s2">{</span><span class="s2">}</span><span class="s2"> </span><span class="s2">i</span><span class="s2">s</span><span class="s2"> </span><span class="s2">n</span><span class="s2">o</span><span class="s2">t</span><span class="s2"> </span><span class="s2">i</span><span class="s2">n</span><span class="s2"> </span><span class="s2">r</span><span class="s2">a</span><span class="s2">n</span><span class="s2">g</span><span class="s2">e</span><span class="s2"> </span><span class="s2">[</span><span class="s2">0</span><span class="s2">,</span><span class="s2"> </span><span class="s2">m</span><span class="s2">a</span><span class="s2">x</span><span class="s2">]</span><span class="s2">"</span><span class="o">.</span><span class="n">f</span><span class="n">o</span><span class="n">r</span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="p">(</span><span class="n">n</span><span class="n">u</span><span class="n">m</span><span class="n">b</span><span class="n">e</span><span class="n">r</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="n">s</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">[</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">f</span><span class="k">o</span><span class="k">r</span><span class=""> </span><span class="n">i</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="nb">r</span><span class="nb">a</span><span class="nb">n</span><span class="nb">g</span><span class="nb">e</span><span class="p">(</span><span class="n">n</span><span class="n">u</span><span class="n">m</span><span class="n">B</span><span class="n">y</span><span class="n">t</span><span class="n">e</span><span class="n">s</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="n">s</span><span class="o">.</span><span class="n">a</span><span class="n">p</span><span class="n">p</span><span class="n">e</span><span class="n">n</span><span class="n">d</span><span class="p">(</span><span class="n">n</span><span class="n">u</span><span class="n">m</span><span class="n">b</span><span class="n">e</span><span class="n">r</span><span class=""> </span><span class="o">&amp;</span><span class=""> </span><span class="mh">0</span><span class="mh">x</span><span class="mh">f</span><span class="mh">f</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">n</span><span class="n">u</span><span class="n">m</span><span class="n">b</span><span class="n">e</span><span class="n">r</span><span class=""> </span><span class="o">&gt;</span><span class="o">&gt;</span><span class="o">=</span><span class=""> </span><span class="mi">8</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="n">s</span><span class="">
</span></pre></div>

</div>

<h2><a name="ff74bacb76bf40f082f88738ebc5d8b0"></a>Appendix: RLMeta</h2>

<p>In this article I use a version of RLMeta that builds upon the VM based version from <a href="/writing/rlmeta-memoize-failures/index.html">memoizing failures</a>, but has the following changes:</p>

<ul><li>It supports integers in semantic actions.</li>

<li>It support arbitrary many <code>~</code> operators.</li>

<li>It supports repeating the <code>%</code> operator.</li>

</ul>

<p>I will not explain how I made those changes here. The full source code is available on <a href="https://github.com/rickardlindberg/rickardlindberg.me/tree/master/writing/expr-to-x86-compiler/rlmeta">GitHub</a>.</p>

<h2><a name="7790eca23f484ea7b7430ef607b491c2"></a>Appendix: Test script</h2>

<p>I used the following script to run the examples:</p>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>compile.sh</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="nb">s</span><span class="nb">e</span><span class="nb">t</span><span class=""> </span><span class="">-</span><span class="">e</span><span class="">
</span><span class="">
</span><span class="">c</span><span class="">o</span><span class="">m</span><span class="">p</span><span class="">i</span><span class="">l</span><span class="">e</span><span class="o">(</span><span class="o">)</span><span class=""> </span><span class="o">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">e</span><span class="nb">c</span><span class="nb">h</span><span class="nb">o</span><span class=""> </span><span class="s2">"</span><span class="s2">i</span><span class="s2">m</span><span class="s2">p</span><span class="s2">o</span><span class="s2">r</span><span class="s2">t</span><span class="s2"> </span><span class="s2">s</span><span class="s2">y</span><span class="s2">s</span><span class="s2">"</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">e</span><span class="nb">c</span><span class="nb">h</span><span class="nb">o</span><span class=""> </span><span class="s2">"</span><span class="s2">i</span><span class="s2">m</span><span class="s2">p</span><span class="s2">o</span><span class="s2">r</span><span class="s2">t</span><span class="s2"> </span><span class="s2">p</span><span class="s2">p</span><span class="s2">r</span><span class="s2">i</span><span class="s2">n</span><span class="s2">t</span><span class="s2">"</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class=""> </span><span class="">r</span><span class="">l</span><span class="">m</span><span class="">e</span><span class="">t</span><span class="">a</span><span class="">/</span><span class="">r</span><span class="">l</span><span class="">m</span><span class="">e</span><span class="">t</span><span class="">a</span><span class="">.</span><span class="">p</span><span class="">y</span><span class=""> </span><span class="">-</span><span class="">-</span><span class="">s</span><span class="">u</span><span class="">p</span><span class="">p</span><span class="">o</span><span class="">r</span><span class="">t</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">c</span><span class="">a</span><span class="">t</span><span class=""> </span><span class="s2">"</span><span class="s2">s</span><span class="s2">u</span><span class="s2">p</span><span class="s2">p</span><span class="s2">o</span><span class="s2">r</span><span class="s2">t</span><span class="s2">.</span><span class="s2">p</span><span class="s2">y</span><span class="s2">"</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class=""> </span><span class="">r</span><span class="">l</span><span class="">m</span><span class="">e</span><span class="">t</span><span class="">a</span><span class="">/</span><span class="">r</span><span class="">l</span><span class="">m</span><span class="">e</span><span class="">t</span><span class="">a</span><span class="">.</span><span class="">p</span><span class="">y</span><span class=""> </span><span class="">&lt;</span><span class=""> </span><span class="">p</span><span class="">a</span><span class="">r</span><span class="">s</span><span class="">e</span><span class="">r</span><span class="">.</span><span class="">r</span><span class="">l</span><span class="">m</span><span class="">e</span><span class="">t</span><span class="">a</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class=""> </span><span class="">r</span><span class="">l</span><span class="">m</span><span class="">e</span><span class="">t</span><span class="">a</span><span class="">/</span><span class="">r</span><span class="">l</span><span class="">m</span><span class="">e</span><span class="">t</span><span class="">a</span><span class="">.</span><span class="">p</span><span class="">y</span><span class=""> </span><span class="">&lt;</span><span class=""> </span><span class="">a</span><span class="">b</span><span class="">s</span><span class="">t</span><span class="">r</span><span class="">a</span><span class="">c</span><span class="">t</span><span class="">c</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">g</span><span class="">e</span><span class="">n</span><span class="">.</span><span class="">r</span><span class="">l</span><span class="">m</span><span class="">e</span><span class="">t</span><span class="">a</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class=""> </span><span class="">r</span><span class="">l</span><span class="">m</span><span class="">e</span><span class="">t</span><span class="">a</span><span class="">/</span><span class="">r</span><span class="">l</span><span class="">m</span><span class="">e</span><span class="">t</span><span class="">a</span><span class="">.</span><span class="">p</span><span class="">y</span><span class=""> </span><span class="">&lt;</span><span class=""> </span><span class="">x</span><span class="">8</span><span class="">6</span><span class="">c</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">g</span><span class="">e</span><span class="">n</span><span class="">.</span><span class="">r</span><span class="">l</span><span class="">m</span><span class="">e</span><span class="">t</span><span class="">a</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class=""> </span><span class="">r</span><span class="">l</span><span class="">m</span><span class="">e</span><span class="">t</span><span class="">a</span><span class="">/</span><span class="">r</span><span class="">l</span><span class="">m</span><span class="">e</span><span class="">t</span><span class="">a</span><span class="">.</span><span class="">p</span><span class="">y</span><span class=""> </span><span class="">&lt;</span><span class=""> </span><span class="">g</span><span class="">a</span><span class="">s</span><span class="">.</span><span class="">r</span><span class="">l</span><span class="">m</span><span class="">e</span><span class="">t</span><span class="">a</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class=""> </span><span class="">r</span><span class="">l</span><span class="">m</span><span class="">e</span><span class="">t</span><span class="">a</span><span class="">/</span><span class="">r</span><span class="">l</span><span class="">m</span><span class="">e</span><span class="">t</span><span class="">a</span><span class="">.</span><span class="">p</span><span class="">y</span><span class=""> </span><span class="">&lt;</span><span class=""> </span><span class="">a</span><span class="">s</span><span class="">s</span><span class="">e</span><span class="">m</span><span class="">b</span><span class="">l</span><span class="">e</span><span class="">r</span><span class="">.</span><span class="">r</span><span class="">l</span><span class="">m</span><span class="">e</span><span class="">t</span><span class="">a</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="nb">e</span><span class="nb">c</span><span class="nb">h</span><span class="nb">o</span><span class=""> </span><span class="s2">"</span><span class="s2">m</span><span class="s2">a</span><span class="s2">i</span><span class="s2">n</span><span class="s2">(</span><span class="s2">)</span><span class="s2">"</span><span class="">
</span><span class="o">}</span><span class="">
</span><span class="">
</span><span class="">p</span><span class="">y</span><span class="">t</span><span class="">h</span><span class="">o</span><span class="">n</span><span class=""> </span><span class="">&lt;</span><span class="o">(</span><span class="">c</span><span class="">o</span><span class="">m</span><span class="">p</span><span class="">i</span><span class="">l</span><span class="">e</span><span class="o">)</span><span class=""> </span><span class="s2">"</span><span class="nv">$</span><span class="nv">@</span><span class="s2">"</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>support.py</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">m</span><span class="nf">a</span><span class="nf">i</span><span class="nf">n</span><span class="p">(</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">g</span><span class="n">r</span><span class="n">a</span><span class="n">m</span><span class="n">m</span><span class="n">a</span><span class="n">r</span><span class="n">s</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="p">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="s2">"</span><span class="s2">p</span><span class="s2">a</span><span class="s2">r</span><span class="s2">s</span><span class="s2">e</span><span class="s2">r</span><span class="s2">"</span><span class="p">:</span><span class=""> </span><span class="n">P</span><span class="n">a</span><span class="n">r</span><span class="n">s</span><span class="n">e</span><span class="n">r</span><span class="p">(</span><span class="p">)</span><span class="p">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="s2">"</span><span class="s2">a</span><span class="s2">c</span><span class="s2">o</span><span class="s2">d</span><span class="s2">e</span><span class="s2">g</span><span class="s2">e</span><span class="s2">n</span><span class="s2">"</span><span class="p">:</span><span class=""> </span><span class="n">A</span><span class="n">b</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">a</span><span class="n">c</span><span class="n">t</span><span class="n">C</span><span class="n">o</span><span class="n">d</span><span class="n">e</span><span class="n">G</span><span class="n">e</span><span class="n">n</span><span class="p">(</span><span class="p">)</span><span class="p">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="s2">"</span><span class="s2">x</span><span class="s2">c</span><span class="s2">o</span><span class="s2">d</span><span class="s2">e</span><span class="s2">g</span><span class="s2">e</span><span class="s2">n</span><span class="s2">"</span><span class="p">:</span><span class=""> </span><span class="n">X</span><span class="n">8</span><span class="n">6</span><span class="n">C</span><span class="n">o</span><span class="n">d</span><span class="n">e</span><span class="n">G</span><span class="n">e</span><span class="n">n</span><span class="p">(</span><span class="p">)</span><span class="p">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="s2">"</span><span class="s2">g</span><span class="s2">a</span><span class="s2">s</span><span class="s2">"</span><span class="p">:</span><span class=""> </span><span class="n">G</span><span class="n">a</span><span class="n">s</span><span class="n">G</span><span class="n">e</span><span class="n">n</span><span class="p">(</span><span class="p">)</span><span class="p">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="s2">"</span><span class="s2">a</span><span class="s2">s</span><span class="s2">s</span><span class="s2">e</span><span class="s2">m</span><span class="s2">b</span><span class="s2">l</span><span class="s2">e</span><span class="s2">r</span><span class="s2">"</span><span class="p">:</span><span class=""> </span><span class="n">A</span><span class="n">s</span><span class="n">s</span><span class="n">e</span><span class="n">m</span><span class="n">b</span><span class="n">l</span><span class="n">e</span><span class="n">r</span><span class="p">(</span><span class="p">)</span><span class="p">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="s2">"</span><span class="s2">x</span><span class="s2">r</span><span class="s2">u</span><span class="s2">n</span><span class="s2">n</span><span class="s2">e</span><span class="s2">r</span><span class="s2">"</span><span class="p">:</span><span class=""> </span><span class="n">X</span><span class="n">8</span><span class="n">6</span><span class="n">R</span><span class="n">u</span><span class="n">n</span><span class="n">n</span><span class="n">e</span><span class="n">r</span><span class="p">(</span><span class="p">)</span><span class="p">,</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="p">}</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">t</span><span class="k">r</span><span class="k">y</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">s</span><span class="n">y</span><span class="n">s</span><span class="o">.</span><span class="n">s</span><span class="n">t</span><span class="n">d</span><span class="n">i</span><span class="n">n</span><span class="o">.</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">d</span><span class="p">(</span><span class="p">)</span><span class="o">.</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">i</span><span class="n">p</span><span class="p">(</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">f</span><span class="n">i</span><span class="n">r</span><span class="n">s</span><span class="n">t</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="bp">T</span><span class="bp">r</span><span class="bp">u</span><span class="bp">e</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">f</span><span class="k">o</span><span class="k">r</span><span class=""> </span><span class="n">g</span><span class="n">r</span><span class="n">a</span><span class="n">m</span><span class="n">m</span><span class="n">a</span><span class="n">r</span><span class="n">_</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class=""> </span><span class="ow">i</span><span class="ow">n</span><span class=""> </span><span class="n">s</span><span class="n">y</span><span class="n">s</span><span class="o">.</span><span class="n">a</span><span class="n">r</span><span class="n">g</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="p">]</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="n">g</span><span class="n">r</span><span class="n">a</span><span class="n">m</span><span class="n">m</span><span class="n">a</span><span class="n">r</span><span class="n">_</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="o">.</span><span class="n">s</span><span class="n">t</span><span class="n">a</span><span class="n">r</span><span class="n">t</span><span class="n">s</span><span class="n">w</span><span class="n">i</span><span class="n">t</span><span class="n">h</span><span class="p">(</span><span class="s2">"</span><span class="s2">@</span><span class="s2">"</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">w</span><span class="k">i</span><span class="k">t</span><span class="k">h</span><span class=""> </span><span class="nb">o</span><span class="nb">p</span><span class="nb">e</span><span class="nb">n</span><span class="p">(</span><span class="n">g</span><span class="n">r</span><span class="n">a</span><span class="n">m</span><span class="n">m</span><span class="n">a</span><span class="n">r</span><span class="n">_</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="p">]</span><span class="p">,</span><span class=""> </span><span class="s2">"</span><span class="s2">w</span><span class="s2">"</span><span class="p">)</span><span class=""> </span><span class="k">a</span><span class="k">s</span><span class=""> </span><span class="n">f</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">f</span><span class="o">.</span><span class="n">w</span><span class="n">r</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="p">(</span><span class="nb">s</span><span class="nb">t</span><span class="nb">r</span><span class="p">(</span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">c</span><span class="k">o</span><span class="k">n</span><span class="k">t</span><span class="k">i</span><span class="k">n</span><span class="k">u</span><span class="k">e</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">g</span><span class="n">r</span><span class="n">a</span><span class="n">m</span><span class="n">m</span><span class="n">a</span><span class="n">r</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">g</span><span class="n">r</span><span class="n">a</span><span class="n">m</span><span class="n">m</span><span class="n">a</span><span class="n">r</span><span class="n">s</span><span class="p">[</span><span class="n">g</span><span class="n">r</span><span class="n">a</span><span class="n">m</span><span class="n">m</span><span class="n">a</span><span class="n">r</span><span class="n">_</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">]</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">r</span><span class="n">i</span><span class="n">n</span><span class="n">t</span><span class="n">_</span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="p">(</span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">r</span><span class="n">i</span><span class="n">n</span><span class="n">t</span><span class="n">_</span><span class="n">b</span><span class="n">o</span><span class="n">x</span><span class="p">(</span><span class="n">g</span><span class="n">r</span><span class="n">a</span><span class="n">m</span><span class="n">m</span><span class="n">a</span><span class="n">r</span><span class="o">.</span><span class="vm">_</span><span class="vm">_</span><span class="vm">c</span><span class="vm">l</span><span class="vm">a</span><span class="vm">s</span><span class="vm">s</span><span class="vm">_</span><span class="vm">_</span><span class="o">.</span><span class="vm">_</span><span class="vm">_</span><span class="vm">n</span><span class="vm">a</span><span class="vm">m</span><span class="vm">e</span><span class="vm">_</span><span class="vm">_</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="n">g</span><span class="n">r</span><span class="n">a</span><span class="n">m</span><span class="n">m</span><span class="n">a</span><span class="n">r</span><span class="o">.</span><span class="n">r</span><span class="n">u</span><span class="n">n</span><span class="p">(</span><span class="s2">"</span><span class="s2">e</span><span class="s2">x</span><span class="s2">p</span><span class="s2">r</span><span class="s2">"</span><span class="p">,</span><span class=""> </span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">r</span><span class="n">i</span><span class="n">n</span><span class="n">t</span><span class="n">_</span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="p">(</span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">x</span><span class="k">c</span><span class="k">e</span><span class="k">p</span><span class="k">t</span><span class=""> </span><span class="n">_</span><span class="n">M</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">E</span><span class="n">r</span><span class="n">r</span><span class="n">o</span><span class="n">r</span><span class=""> </span><span class="k">a</span><span class="k">s</span><span class=""> </span><span class="n">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">y</span><span class="n">s</span><span class="o">.</span><span class="n">s</span><span class="n">t</span><span class="n">d</span><span class="n">e</span><span class="n">r</span><span class="n">r</span><span class="o">.</span><span class="n">w</span><span class="n">r</span><span class="n">i</span><span class="n">t</span><span class="n">e</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">d</span><span class="n">e</span><span class="n">s</span><span class="n">c</span><span class="n">r</span><span class="n">i</span><span class="n">b</span><span class="n">e</span><span class="p">(</span><span class="p">)</span><span class="p">)</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>support.py</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">p</span><span class="nf">r</span><span class="nf">i</span><span class="nf">n</span><span class="nf">t</span><span class="nf">_</span><span class="nf">b</span><span class="nf">o</span><span class="nf">x</span><span class="p">(</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">r</span><span class="k">i</span><span class="k">n</span><span class="k">t</span><span class="p">(</span><span class="s2">"</span><span class="s2">"</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">r</span><span class="k">i</span><span class="k">n</span><span class="k">t</span><span class="p">(</span><span class="s2">"</span><span class="s2">=</span><span class="s2">V</span><span class="s2">{</span><span class="s2">}</span><span class="s2">=</span><span class="s2">=</span><span class="s2">"</span><span class="o">.</span><span class="n">f</span><span class="n">o</span><span class="n">r</span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="p">(</span><span class="s2">"</span><span class="s2"> </span><span class="s2">{</span><span class="s2">}</span><span class="s2"> </span><span class="s2">"</span><span class="o">.</span><span class="n">f</span><span class="n">o</span><span class="n">r</span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="p">(</span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="n">c</span><span class="n">e</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">r</span><span class="p">(</span><span class="mi">2</span><span class="mi">8</span><span class="p">,</span><span class=""> </span><span class="s2">"</span><span class="s2">=</span><span class="s2">"</span><span class="p">)</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">r</span><span class="k">i</span><span class="k">n</span><span class="k">t</span><span class="p">(</span><span class="s2">"</span><span class="s2">"</span><span class="p">)</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>support.py</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">p</span><span class="nf">r</span><span class="nf">i</span><span class="nf">n</span><span class="nf">t</span><span class="nf">_</span><span class="nf">e</span><span class="nf">x</span><span class="nf">p</span><span class="nf">r</span><span class="p">(</span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">i</span><span class="k">f</span><span class=""> </span><span class="nb">i</span><span class="nb">s</span><span class="nb">i</span><span class="nb">n</span><span class="nb">s</span><span class="nb">t</span><span class="nb">a</span><span class="nb">n</span><span class="nb">c</span><span class="nb">e</span><span class="p">(</span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="p">,</span><span class=""> </span><span class="nb">s</span><span class="nb">t</span><span class="nb">r</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">r</span><span class="k">i</span><span class="k">n</span><span class="k">t</span><span class="p">(</span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="o">.</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">i</span><span class="n">p</span><span class="p">(</span><span class="p">)</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">e</span><span class="k">l</span><span class="k">s</span><span class="k">e</span><span class="p">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">p</span><span class="n">p</span><span class="n">r</span><span class="n">i</span><span class="n">n</span><span class="n">t</span><span class="o">.</span><span class="n">p</span><span class="n">p</span><span class="n">r</span><span class="n">i</span><span class="n">n</span><span class="n">t</span><span class="p">(</span><span class="n">e</span><span class="n">x</span><span class="n">p</span><span class="n">r</span><span class="p">,</span><span class=""> </span><span class="n">w</span><span class="n">i</span><span class="n">d</span><span class="n">t</span><span class="n">h</span><span class="o">=</span><span class="mi">2</span><span class="mi">0</span><span class="p">)</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>gas.sh</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="nb">s</span><span class="nb">e</span><span class="nb">t</span><span class=""> </span><span class="">-</span><span class="">e</span><span class="">
</span><span class="">
</span><span class="">c</span><span class="">a</span><span class="">t</span><span class=""> </span><span class="p">|</span><span class=""> </span><span class="">b</span><span class="">a</span><span class="">s</span><span class="">h</span><span class=""> </span><span class="">c</span><span class="">o</span><span class="">m</span><span class="">p</span><span class="">i</span><span class="">l</span><span class="">e</span><span class="">.</span><span class="">s</span><span class="">h</span><span class=""> </span><span class="">p</span><span class="">a</span><span class="">r</span><span class="">s</span><span class="">e</span><span class="">r</span><span class=""> </span><span class="">a</span><span class="">c</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">g</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">x</span><span class="">c</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">g</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">g</span><span class="">a</span><span class="">s</span><span class=""> </span><span class="">@</span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class="">.</span><span class="">s</span><span class="">
</span><span class="">
</span><span class="">g</span><span class="">c</span><span class="">c</span><span class=""> </span><span class="">d</span><span class="">r</span><span class="">i</span><span class="">v</span><span class="">e</span><span class="">r</span><span class="">.</span><span class="">c</span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class="">.</span><span class="">s</span><span class=""> </span><span class="">-</span><span class="">o</span><span class=""> </span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class="">
</span><span class="">
</span><span class="nb">e</span><span class="nb">c</span><span class="nb">h</span><span class="nb">o</span><span class=""> </span><span class="s2">"</span><span class="s2">"</span><span class="">
</span><span class="nb">e</span><span class="nb">c</span><span class="nb">h</span><span class="nb">o</span><span class=""> </span><span class="s2">"</span><span class="s2">=</span><span class="s2">V</span><span class="s2">=</span><span class="s2">=</span><span class="s2">=</span><span class="s2">=</span><span class="s2">=</span><span class="s2"> </span><span class="s2">G</span><span class="s2">c</span><span class="s2">c</span><span class="s2">C</span><span class="s2">o</span><span class="s2">m</span><span class="s2">p</span><span class="s2">i</span><span class="s2">l</span><span class="s2">e</span><span class="s2">A</span><span class="s2">n</span><span class="s2">d</span><span class="s2">R</span><span class="s2">u</span><span class="s2">n</span><span class="s2"> </span><span class="s2">=</span><span class="s2">=</span><span class="s2">=</span><span class="s2">=</span><span class="s2">=</span><span class="s2">=</span><span class="s2">=</span><span class="s2">"</span><span class="">
</span><span class="nb">e</span><span class="nb">c</span><span class="nb">h</span><span class="nb">o</span><span class=""> </span><span class="s2">"</span><span class="s2">"</span><span class="">
</span><span class="">
</span><span class="">.</span><span class="">/</span><span class="">e</span><span class="">x</span><span class="">p</span><span class="">r</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>native.sh</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="nb">s</span><span class="nb">e</span><span class="nb">t</span><span class=""> </span><span class="">-</span><span class="">e</span><span class="">
</span><span class="">
</span><span class="">b</span><span class="">a</span><span class="">s</span><span class="">h</span><span class=""> </span><span class="">c</span><span class="">o</span><span class="">m</span><span class="">p</span><span class="">i</span><span class="">l</span><span class="">e</span><span class="">.</span><span class="">s</span><span class="">h</span><span class=""> </span><span class="">p</span><span class="">a</span><span class="">r</span><span class="">s</span><span class="">e</span><span class="">r</span><span class=""> </span><span class="">a</span><span class="">c</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">g</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">x</span><span class="">c</span><span class="">o</span><span class="">d</span><span class="">e</span><span class="">g</span><span class="">e</span><span class="">n</span><span class=""> </span><span class="">a</span><span class="">s</span><span class="">s</span><span class="">e</span><span class="">m</span><span class="">b</span><span class="">l</span><span class="">e</span><span class="">r</span><span class=""> </span><span class="">x</span><span class="">r</span><span class="">u</span><span class="">n</span><span class="">n</span><span class="">e</span><span class="">r</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>support.py</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">X</span><span class="nc">8</span><span class="nc">6</span><span class="nc">R</span><span class="nc">u</span><span class="nc">n</span><span class="nc">n</span><span class="nc">e</span><span class="nc">r</span><span class="p">(</span><span class="nb">o</span><span class="nb">b</span><span class="nb">j</span><span class="nb">e</span><span class="nb">c</span><span class="nb">t</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">d</span><span class="k">e</span><span class="k">f</span><span class=""> </span><span class="nf">r</span><span class="nf">u</span><span class="nf">n</span><span class="p">(</span><span class="bp">s</span><span class="bp">e</span><span class="bp">l</span><span class="bp">f</span><span class="p">,</span><span class=""> </span><span class="n">n</span><span class="n">a</span><span class="n">m</span><span class="n">e</span><span class="p">,</span><span class=""> </span><span class="n">m</span><span class="n">a</span><span class="n">c</span><span class="n">h</span><span class="n">i</span><span class="n">n</span><span class="n">e</span><span class="n">_</span><span class="n">c</span><span class="n">o</span><span class="n">d</span><span class="n">e</span><span class="p">)</span><span class="p">:</span><span class="">
</span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp"> </span><span class="cp">&lt;</span><span class="cp">&lt;</span><span class="cp">r</span><span class="cp">u</span><span class="cp">n</span><span class="cp"> </span><span class="cp">m</span><span class="cp">a</span><span class="cp">c</span><span class="cp">h</span><span class="cp">i</span><span class="cp">n</span><span class="cp">e</span><span class="cp"> </span><span class="cp">c</span><span class="cp">o</span><span class="cp">d</span><span class="cp">e</span><span class="cp">&gt;</span><span class="cp">&gt;</span><span class="cp">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">r</span><span class="n">e</span><span class="n">s</span><span class="n">u</span><span class="n">l</span><span class="n">t</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>support.py</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="cp">&lt;</span><span class="cp">&lt;</span><span class="cp">c</span><span class="cp">o</span><span class="cp">m</span><span class="cp">p</span><span class="cp">i</span><span class="cp">l</span><span class="cp">e</span><span class="cp">r</span><span class="cp">&gt;</span><span class="cp">&gt;</span><span class="cp">
</span></pre></div>

</div>

]]></summary>
</entry>
<entry>
    <title>DRAFT: Porting RLMeta to C++</title>
    <link href="http://rickardlindberg.me/writing/rlmeta-cpp/" />
    <id>http://rickardlindberg.me/writing/rlmeta-cpp/</id>
    <published>2020-04-10T00:00:00Z</published>
    <updated>2020-04-10T00:00:00Z</updated>
    <summary type="html"><![CDATA[<h1>DRAFT: Porting RLMeta to C++</h1>

<p><em>Published on 2020-04-10.</em></p>

<strong>This is a work in progress that will change. Like to see it finished? Let me know by sending me an email.</strong>

<p>In this article I will port RLMeta to C++. The main reason for doing it is to learn C++. I have the impression that C++ is a large and complex language, but I think I should be able to grasp the basics pretty quickly because I know C quite well and I am also familiar with object oriented programming. This article will describe my learning journey as well as the port. Another reason for doing the port is to see how RLMeta looks like when C++ is the target language. Will it fit well? Will performance increase?</p>

<ul><li><a href="#f935efac99094d30b035430ba6c263cb">Representing data</a>

</li>

<li><a href="#8fe0f8cbf13f49c0a4d9aa4f92fa2540">Misc</a>

</li>

</ul><h2><a name="f935efac99094d30b035430ba6c263cb"></a>Representing data</h2>

<p>The first thing I think about is how to represent the data that RLMeta needs. In particular I think about how to store the mapping between rule names and their location in the program. The map in the C++ standard library looks like a dict in Python. But there is also something about an allocation strategy. I need to learn more about how memory is handled in C++.</p>

<p>I read about classes, constructors, destructors and initialisation. I create a small example to clarify my thinking. Here I also learn about basic C++ syntax.</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="cp">#</span><span class="cp">i</span><span class="cp">n</span><span class="cp">c</span><span class="cp">l</span><span class="cp">u</span><span class="cp">d</span><span class="cp">e</span><span class=""> </span><span class="cpf">&lt;</span><span class="cpf">i</span><span class="cpf">o</span><span class="cpf">s</span><span class="cpf">t</span><span class="cpf">r</span><span class="cpf">e</span><span class="cpf">a</span><span class="cpf">m</span><span class="cpf">&gt;</span><span class="cp">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">F</span><span class="nc">o</span><span class="nc">o</span><span class=""> </span><span class="p">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">r</span><span class="k">i</span><span class="k">v</span><span class="k">a</span><span class="k">t</span><span class="k">e</span><span class="o">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="kt">i</span><span class="kt">n</span><span class="kt">t</span><span class=""> </span><span class="n">i</span><span class="n">d</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">u</span><span class="k">b</span><span class="k">l</span><span class="k">i</span><span class="k">c</span><span class="o">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">F</span><span class="n">o</span><span class="n">o</span><span class="p">(</span><span class="kt">i</span><span class="kt">n</span><span class="kt">t</span><span class=""> </span><span class="n">i</span><span class="n">d</span><span class="p">)</span><span class=""> </span><span class="o">:</span><span class=""> </span><span class="n">i</span><span class="n">d</span><span class="p">(</span><span class="n">i</span><span class="n">d</span><span class="p">)</span><span class=""> </span><span class="p">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">d</span><span class="o">:</span><span class="o">:</span><span class="n">c</span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="s">"</span><span class="s">C</span><span class="s">r</span><span class="s">e</span><span class="s">a</span><span class="s">t</span><span class="s">i</span><span class="s">n</span><span class="s">g</span><span class="s"> </span><span class="s">f</span><span class="s">o</span><span class="s">o</span><span class="s"> </span><span class="s">"</span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="n">i</span><span class="n">d</span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="s">"</span><span class="se">\</span><span class="se">n</span><span class="s">"</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="p">}</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="o">~</span><span class="n">F</span><span class="n">o</span><span class="n">o</span><span class="p">(</span><span class="p">)</span><span class=""> </span><span class="p">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">d</span><span class="o">:</span><span class="o">:</span><span class="n">c</span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="s">"</span><span class="s">D</span><span class="s">e</span><span class="s">s</span><span class="s">t</span><span class="s">r</span><span class="s">u</span><span class="s">c</span><span class="s">t</span><span class="s">i</span><span class="s">n</span><span class="s">g</span><span class="s"> </span><span class="s">f</span><span class="s">o</span><span class="s">o</span><span class="s"> </span><span class="s">"</span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="n">i</span><span class="n">d</span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="s">"</span><span class="se">\</span><span class="se">n</span><span class="s">"</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="p">}</span><span class="">
</span><span class="p">}</span><span class="p">;</span><span class="">
</span><span class="">
</span><span class="kt">i</span><span class="kt">n</span><span class="kt">t</span><span class=""> </span><span class="nf">m</span><span class="nf">a</span><span class="nf">i</span><span class="nf">n</span><span class="p">(</span><span class="p">)</span><span class=""> </span><span class="p">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">d</span><span class="o">:</span><span class="o">:</span><span class="n">c</span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="s">"</span><span class="s">E</span><span class="s">n</span><span class="s">t</span><span class="s">e</span><span class="s">r</span><span class="s">i</span><span class="s">n</span><span class="s">g</span><span class="s"> </span><span class="s">m</span><span class="s">a</span><span class="s">i</span><span class="s">n</span><span class="se">\</span><span class="se">n</span><span class="s">"</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">F</span><span class="n">o</span><span class="n">o</span><span class=""> </span><span class="n">f</span><span class="n">o</span><span class="n">o</span><span class="n">1</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">F</span><span class="n">o</span><span class="n">o</span><span class=""> </span><span class="o">*</span><span class="n">f</span><span class="n">o</span><span class="n">o</span><span class="n">2</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">n</span><span class="k">e</span><span class="k">w</span><span class=""> </span><span class="n">F</span><span class="n">o</span><span class="n">o</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">d</span><span class="o">:</span><span class="o">:</span><span class="n">c</span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="s">"</span><span class="s">E</span><span class="s">x</span><span class="s">i</span><span class="s">t</span><span class="s">i</span><span class="s">n</span><span class="s">g</span><span class="s"> </span><span class="s">m</span><span class="s">a</span><span class="s">i</span><span class="s">n</span><span class="se">\</span><span class="se">n</span><span class="s">"</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="mi">0</span><span class="p">;</span><span class="">
</span><span class="p">}</span><span class="">
</span></pre></div>

</div>

<p>Output:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="n">E</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">r</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class=""> </span><span class="n">m</span><span class="n">a</span><span class="n">i</span><span class="n">n</span><span class="">
</span><span class="n">C</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">t</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class=""> </span><span class="n">f</span><span class="n">o</span><span class="n">o</span><span class=""> </span><span class="mi">1</span><span class="">
</span><span class="n">C</span><span class="n">r</span><span class="n">e</span><span class="n">a</span><span class="n">t</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class=""> </span><span class="n">f</span><span class="n">o</span><span class="n">o</span><span class=""> </span><span class="mi">2</span><span class="">
</span><span class="n">E</span><span class="n">x</span><span class="n">i</span><span class="n">t</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class=""> </span><span class="n">m</span><span class="n">a</span><span class="n">i</span><span class="n">n</span><span class="">
</span><span class="n">D</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">u</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class=""> </span><span class="n">f</span><span class="n">o</span><span class="n">o</span><span class=""> </span><span class="mi">1</span><span class="">
</span></pre></div>

</div>

<p>This shows me that objects are destructed automatically if allocated on the stack. But not when newed.</p>

<p>I go back to the map and make a small example to learn how to use it:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="cp">#</span><span class="cp">i</span><span class="cp">n</span><span class="cp">c</span><span class="cp">l</span><span class="cp">u</span><span class="cp">d</span><span class="cp">e</span><span class=""> </span><span class="cpf">&lt;</span><span class="cpf">i</span><span class="cpf">o</span><span class="cpf">s</span><span class="cpf">t</span><span class="cpf">r</span><span class="cpf">e</span><span class="cpf">a</span><span class="cpf">m</span><span class="cpf">&gt;</span><span class="cp">
</span><span class="cp">#</span><span class="cp">i</span><span class="cp">n</span><span class="cp">c</span><span class="cp">l</span><span class="cp">u</span><span class="cp">d</span><span class="cp">e</span><span class=""> </span><span class="cpf">&lt;</span><span class="cpf">m</span><span class="cpf">a</span><span class="cpf">p</span><span class="cpf">&gt;</span><span class="cp">
</span><span class="">
</span><span class="kt">i</span><span class="kt">n</span><span class="kt">t</span><span class=""> </span><span class="nf">m</span><span class="nf">a</span><span class="nf">i</span><span class="nf">n</span><span class="p">(</span><span class="p">)</span><span class=""> </span><span class="p">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">d</span><span class="o">:</span><span class="o">:</span><span class="n">m</span><span class="n">a</span><span class="n">p</span><span class="o">&lt;</span><span class="n">s</span><span class="n">t</span><span class="n">d</span><span class="o">:</span><span class="o">:</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class="p">,</span><span class=""> </span><span class="kt">i</span><span class="kt">n</span><span class="kt">t</span><span class="o">&gt;</span><span class=""> </span><span class="n">r</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="n">s</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">r</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="n">s</span><span class="p">.</span><span class="n">i</span><span class="n">n</span><span class="n">s</span><span class="n">e</span><span class="n">r</span><span class="n">t</span><span class="p">(</span><span class="n">s</span><span class="n">t</span><span class="n">d</span><span class="o">:</span><span class="o">:</span><span class="n">p</span><span class="n">a</span><span class="n">i</span><span class="n">r</span><span class="o">&lt;</span><span class="n">s</span><span class="n">t</span><span class="n">d</span><span class="o">:</span><span class="o">:</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class="p">,</span><span class=""> </span><span class="kt">i</span><span class="kt">n</span><span class="kt">t</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"</span><span class="s">f</span><span class="s">o</span><span class="s">o</span><span class="s">"</span><span class="p">,</span><span class=""> </span><span class="mi">1</span><span class="mi">0</span><span class="p">)</span><span class="p">)</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">r</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="n">s</span><span class="p">.</span><span class="n">i</span><span class="n">n</span><span class="n">s</span><span class="n">e</span><span class="n">r</span><span class="n">t</span><span class="p">(</span><span class="n">s</span><span class="n">t</span><span class="n">d</span><span class="o">:</span><span class="o">:</span><span class="n">p</span><span class="n">a</span><span class="n">i</span><span class="n">r</span><span class="o">&lt;</span><span class="n">s</span><span class="n">t</span><span class="n">d</span><span class="o">:</span><span class="o">:</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class="p">,</span><span class=""> </span><span class="kt">i</span><span class="kt">n</span><span class="kt">t</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"</span><span class="s">b</span><span class="s">a</span><span class="s">r</span><span class="s">"</span><span class="p">,</span><span class=""> </span><span class="mi">1</span><span class="mi">5</span><span class="p">)</span><span class="p">)</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">d</span><span class="o">:</span><span class="o">:</span><span class="n">c</span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="s">"</span><span class="s">f</span><span class="s">o</span><span class="s">o</span><span class="s"> </span><span class="s">=</span><span class="s"> </span><span class="s">"</span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="n">r</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="n">s</span><span class="p">[</span><span class="s">"</span><span class="s">f</span><span class="s">o</span><span class="s">o</span><span class="s">"</span><span class="p">]</span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="s">"</span><span class="se">\</span><span class="se">n</span><span class="s">"</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">d</span><span class="o">:</span><span class="o">:</span><span class="n">c</span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="s">"</span><span class="s">b</span><span class="s">a</span><span class="s">r</span><span class="s"> </span><span class="s">=</span><span class="s"> </span><span class="s">"</span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="n">r</span><span class="n">u</span><span class="n">l</span><span class="n">e</span><span class="n">s</span><span class="p">[</span><span class="s">"</span><span class="s">b</span><span class="s">a</span><span class="s">r</span><span class="s">"</span><span class="p">]</span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="s">"</span><span class="se">\</span><span class="se">n</span><span class="s">"</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="mi">0</span><span class="p">;</span><span class="">
</span><span class="p">}</span><span class="">
</span></pre></div>

</div>

<p>Output:</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="n">f</span><span class="n">o</span><span class="n">o</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="mi">0</span><span class="">
</span><span class="n">b</span><span class="n">a</span><span class="n">r</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="mi">1</span><span class="mi">5</span><span class="">
</span></pre></div>

</div>

<p>I think the type declarations make the code hard to read. But the map seems to do what I want. So I'm happy. I also conclude that the map allocates memory to make space for all pairs. But at the end of <code>main</code> it will all be freed automatically. So no memory will leak.</p>

<p>Next I'm thinking about how to represent instructions. In the Python version an instruction is represented as a tuple <code>(name, arg1, arg2)</code>. Where the arguments can be of arbitrary type (string, integer, lambda, etc.).</p>

<p>Getting stuck. I think about how to represent the values that RLMeta works with instead. Lists, strings, integers, characters.</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="cp">#</span><span class="cp">i</span><span class="cp">n</span><span class="cp">c</span><span class="cp">l</span><span class="cp">u</span><span class="cp">d</span><span class="cp">e</span><span class=""> </span><span class="cpf">&lt;</span><span class="cpf">i</span><span class="cpf">o</span><span class="cpf">s</span><span class="cpf">t</span><span class="cpf">r</span><span class="cpf">e</span><span class="cpf">a</span><span class="cpf">m</span><span class="cpf">&gt;</span><span class="cp">
</span><span class="cp">#</span><span class="cp">i</span><span class="cp">n</span><span class="cp">c</span><span class="cp">l</span><span class="cp">u</span><span class="cp">d</span><span class="cp">e</span><span class=""> </span><span class="cpf">&lt;</span><span class="cpf">l</span><span class="cpf">i</span><span class="cpf">s</span><span class="cpf">t</span><span class="cpf">&gt;</span><span class="cp">
</span><span class="cp">#</span><span class="cp">i</span><span class="cp">n</span><span class="cp">c</span><span class="cp">l</span><span class="cp">u</span><span class="cp">d</span><span class="cp">e</span><span class=""> </span><span class="cpf">&lt;</span><span class="cpf">m</span><span class="cpf">e</span><span class="cpf">m</span><span class="cpf">o</span><span class="cpf">r</span><span class="cpf">y</span><span class="cpf">&gt;</span><span class="cp">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">R</span><span class="nc">L</span><span class="nc">M</span><span class="nc">e</span><span class="nc">t</span><span class="nc">a</span><span class="nc">O</span><span class="nc">b</span><span class="nc">j</span><span class="nc">e</span><span class="nc">c</span><span class="nc">t</span><span class=""> </span><span class="p">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">u</span><span class="k">b</span><span class="k">l</span><span class="k">i</span><span class="k">c</span><span class="o">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">v</span><span class="k">i</span><span class="k">r</span><span class="k">t</span><span class="k">u</span><span class="k">a</span><span class="k">l</span><span class=""> </span><span class="o">~</span><span class="n">R</span><span class="n">L</span><span class="n">M</span><span class="n">e</span><span class="n">t</span><span class="n">a</span><span class="n">O</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="p">(</span><span class="p">)</span><span class=""> </span><span class="p">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="p">}</span><span class="">
</span><span class="p">}</span><span class="p">;</span><span class="">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">R</span><span class="nc">L</span><span class="nc">M</span><span class="nc">e</span><span class="nc">t</span><span class="nc">a</span><span class="nc">I</span><span class="nc">n</span><span class="nc">t</span><span class="nc">e</span><span class="nc">g</span><span class="nc">e</span><span class="nc">r</span><span class=""> </span><span class="o">:</span><span class=""> </span><span class="k">p</span><span class="k">u</span><span class="k">b</span><span class="k">l</span><span class="k">i</span><span class="k">c</span><span class=""> </span><span class="n">R</span><span class="n">L</span><span class="n">M</span><span class="n">e</span><span class="n">t</span><span class="n">a</span><span class="n">O</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class=""> </span><span class="p">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">r</span><span class="k">i</span><span class="k">v</span><span class="k">a</span><span class="k">t</span><span class="k">e</span><span class="o">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="kt">i</span><span class="kt">n</span><span class="kt">t</span><span class=""> </span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">u</span><span class="k">b</span><span class="k">l</span><span class="k">i</span><span class="k">c</span><span class="o">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">R</span><span class="n">L</span><span class="n">M</span><span class="n">e</span><span class="n">t</span><span class="n">a</span><span class="n">I</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">g</span><span class="n">e</span><span class="n">r</span><span class="p">(</span><span class="kt">i</span><span class="kt">n</span><span class="kt">t</span><span class=""> </span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="p">)</span><span class=""> </span><span class="o">:</span><span class=""> </span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="p">(</span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="p">)</span><span class=""> </span><span class="p">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="p">}</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="o">~</span><span class="n">R</span><span class="n">L</span><span class="n">M</span><span class="n">e</span><span class="n">t</span><span class="n">a</span><span class="n">I</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">g</span><span class="n">e</span><span class="n">r</span><span class="p">(</span><span class="p">)</span><span class=""> </span><span class="p">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">d</span><span class="o">:</span><span class="o">:</span><span class="n">c</span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="s">"</span><span class="s">D</span><span class="s">e</span><span class="s">s</span><span class="s">t</span><span class="s">r</span><span class="s">u</span><span class="s">c</span><span class="s">t</span><span class="s">i</span><span class="s">n</span><span class="s">g</span><span class="s"> </span><span class="s">i</span><span class="s">n</span><span class="s">t</span><span class="s">e</span><span class="s">g</span><span class="s">e</span><span class="s">r</span><span class="s"> </span><span class="s">"</span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="s">"</span><span class="se">\</span><span class="se">n</span><span class="s">"</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="p">}</span><span class="">
</span><span class="p">}</span><span class="p">;</span><span class="">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">R</span><span class="nc">L</span><span class="nc">M</span><span class="nc">e</span><span class="nc">t</span><span class="nc">a</span><span class="nc">S</span><span class="nc">t</span><span class="nc">r</span><span class="nc">i</span><span class="nc">n</span><span class="nc">g</span><span class=""> </span><span class="o">:</span><span class=""> </span><span class="k">p</span><span class="k">u</span><span class="k">b</span><span class="k">l</span><span class="k">i</span><span class="k">c</span><span class=""> </span><span class="n">R</span><span class="n">L</span><span class="n">M</span><span class="n">e</span><span class="n">t</span><span class="n">a</span><span class="n">O</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class=""> </span><span class="p">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">r</span><span class="k">i</span><span class="k">v</span><span class="k">a</span><span class="k">t</span><span class="k">e</span><span class="o">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">d</span><span class="o">:</span><span class="o">:</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class=""> </span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">u</span><span class="k">b</span><span class="k">l</span><span class="k">i</span><span class="k">c</span><span class="o">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">R</span><span class="n">L</span><span class="n">M</span><span class="n">e</span><span class="n">t</span><span class="n">a</span><span class="n">S</span><span class="n">t</span><span class="n">r</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class="p">(</span><span class="n">s</span><span class="n">t</span><span class="n">d</span><span class="o">:</span><span class="o">:</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class=""> </span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="p">)</span><span class=""> </span><span class="o">:</span><span class=""> </span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="p">(</span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="p">)</span><span class=""> </span><span class="p">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="p">}</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="o">~</span><span class="n">R</span><span class="n">L</span><span class="n">M</span><span class="n">e</span><span class="n">t</span><span class="n">a</span><span class="n">S</span><span class="n">t</span><span class="n">r</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class="p">(</span><span class="p">)</span><span class=""> </span><span class="p">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">d</span><span class="o">:</span><span class="o">:</span><span class="n">c</span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="s">"</span><span class="s">D</span><span class="s">e</span><span class="s">s</span><span class="s">t</span><span class="s">r</span><span class="s">u</span><span class="s">c</span><span class="s">t</span><span class="s">i</span><span class="s">n</span><span class="s">g</span><span class="s"> </span><span class="s">s</span><span class="s">t</span><span class="s">r</span><span class="s">i</span><span class="s">n</span><span class="s">g</span><span class="s"> </span><span class="s">"</span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="s">"</span><span class="se">\</span><span class="se">n</span><span class="s">"</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="p">}</span><span class="">
</span><span class="p">}</span><span class="p">;</span><span class="">
</span><span class="">
</span><span class="kt">i</span><span class="kt">n</span><span class="kt">t</span><span class=""> </span><span class="nf">m</span><span class="nf">a</span><span class="nf">i</span><span class="nf">n</span><span class="p">(</span><span class="p">)</span><span class=""> </span><span class="p">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">d</span><span class="o">:</span><span class="o">:</span><span class="n">l</span><span class="n">i</span><span class="n">s</span><span class="n">t</span><span class="o">&lt;</span><span class="n">R</span><span class="n">L</span><span class="n">M</span><span class="n">e</span><span class="n">t</span><span class="n">a</span><span class="n">O</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="o">&gt;</span><span class=""> </span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="n">s</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="n">s</span><span class="p">.</span><span class="n">p</span><span class="n">u</span><span class="n">s</span><span class="n">h</span><span class="n">_</span><span class="n">b</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="p">(</span><span class="n">R</span><span class="n">L</span><span class="n">M</span><span class="n">e</span><span class="n">t</span><span class="n">a</span><span class="n">I</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">g</span><span class="n">e</span><span class="n">r</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="p">)</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="n">s</span><span class="p">.</span><span class="n">p</span><span class="n">u</span><span class="n">s</span><span class="n">h</span><span class="n">_</span><span class="n">b</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="p">(</span><span class="n">R</span><span class="n">L</span><span class="n">M</span><span class="n">e</span><span class="n">t</span><span class="n">a</span><span class="n">S</span><span class="n">t</span><span class="n">r</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class="p">(</span><span class="s">"</span><span class="s">h</span><span class="s">e</span><span class="s">l</span><span class="s">l</span><span class="s">o</span><span class="s">"</span><span class="p">)</span><span class="p">)</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">d</span><span class="o">:</span><span class="o">:</span><span class="n">l</span><span class="n">i</span><span class="n">s</span><span class="n">t</span><span class="o">&lt;</span><span class="n">s</span><span class="n">t</span><span class="n">d</span><span class="o">:</span><span class="o">:</span><span class="n">u</span><span class="n">n</span><span class="n">i</span><span class="n">q</span><span class="n">u</span><span class="n">e</span><span class="n">_</span><span class="n">p</span><span class="n">t</span><span class="n">r</span><span class="o">&lt;</span><span class="n">R</span><span class="n">L</span><span class="n">M</span><span class="n">e</span><span class="n">t</span><span class="n">a</span><span class="n">O</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="o">&gt;</span><span class="o">&gt;</span><span class=""> </span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="n">P</span><span class="n">o</span><span class="n">i</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">r</span><span class="n">s</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="n">P</span><span class="n">o</span><span class="n">i</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">r</span><span class="n">s</span><span class="p">.</span><span class="n">p</span><span class="n">u</span><span class="n">s</span><span class="n">h</span><span class="n">_</span><span class="n">b</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="p">(</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">d</span><span class="o">:</span><span class="o">:</span><span class="n">m</span><span class="n">a</span><span class="n">k</span><span class="n">e</span><span class="n">_</span><span class="n">u</span><span class="n">n</span><span class="n">i</span><span class="n">q</span><span class="n">u</span><span class="n">e</span><span class="o">&lt;</span><span class="n">R</span><span class="n">L</span><span class="n">M</span><span class="n">e</span><span class="n">t</span><span class="n">a</span><span class="n">I</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">g</span><span class="n">e</span><span class="n">r</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="p">)</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="n">P</span><span class="n">o</span><span class="n">i</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">r</span><span class="n">s</span><span class="p">.</span><span class="n">p</span><span class="n">u</span><span class="n">s</span><span class="n">h</span><span class="n">_</span><span class="n">b</span><span class="n">a</span><span class="n">c</span><span class="n">k</span><span class="p">(</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">d</span><span class="o">:</span><span class="o">:</span><span class="n">m</span><span class="n">a</span><span class="n">k</span><span class="n">e</span><span class="n">_</span><span class="n">u</span><span class="n">n</span><span class="n">i</span><span class="n">q</span><span class="n">u</span><span class="n">e</span><span class="o">&lt;</span><span class="n">R</span><span class="n">L</span><span class="n">M</span><span class="n">e</span><span class="n">t</span><span class="n">a</span><span class="n">S</span><span class="n">t</span><span class="n">r</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"</span><span class="s">w</span><span class="s">o</span><span class="s">r</span><span class="s">l</span><span class="s">d</span><span class="s">"</span><span class="p">)</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="p">)</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="mi">0</span><span class="p">;</span><span class="">
</span><span class="p">}</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="n">D</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">u</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class=""> </span><span class="n">i</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">g</span><span class="n">e</span><span class="n">r</span><span class=""> </span><span class="mi">5</span><span class="">
</span><span class="n">D</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">u</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class=""> </span><span class="n">h</span><span class="n">e</span><span class="n">l</span><span class="n">l</span><span class="n">o</span><span class="">
</span><span class="n">D</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">u</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class=""> </span><span class="n">i</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">g</span><span class="n">e</span><span class="n">r</span><span class=""> </span><span class="mi">6</span><span class="">
</span><span class="n">D</span><span class="n">e</span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">u</span><span class="n">c</span><span class="n">t</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">r</span><span class="n">i</span><span class="n">n</span><span class="n">g</span><span class=""> </span><span class="n">w</span><span class="n">o</span><span class="n">r</span><span class="n">l</span><span class="n">d</span><span class="">
</span></pre></div>

</div>

<p>Since C++ containers can not store objects of arbitrary type, I introduce a base class. I also experiment with smart pointers. I find out that a virtual destructor is needed to make proper destruction. That really confused me.</p>

<p>Dynamic cast can work as <code>isinstance</code> in Python.</p>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="cp">#</span><span class="cp">i</span><span class="cp">n</span><span class="cp">c</span><span class="cp">l</span><span class="cp">u</span><span class="cp">d</span><span class="cp">e</span><span class=""> </span><span class="cpf">&lt;</span><span class="cpf">i</span><span class="cpf">o</span><span class="cpf">s</span><span class="cpf">t</span><span class="cpf">r</span><span class="cpf">e</span><span class="cpf">a</span><span class="cpf">m</span><span class="cpf">&gt;</span><span class="cp">
</span><span class="cp">#</span><span class="cp">i</span><span class="cp">n</span><span class="cp">c</span><span class="cp">l</span><span class="cp">u</span><span class="cp">d</span><span class="cp">e</span><span class=""> </span><span class="cpf">&lt;</span><span class="cpf">l</span><span class="cpf">i</span><span class="cpf">s</span><span class="cpf">t</span><span class="cpf">&gt;</span><span class="cp">
</span><span class="cp">#</span><span class="cp">i</span><span class="cp">n</span><span class="cp">c</span><span class="cp">l</span><span class="cp">u</span><span class="cp">d</span><span class="cp">e</span><span class=""> </span><span class="cpf">&lt;</span><span class="cpf">m</span><span class="cpf">e</span><span class="cpf">m</span><span class="cpf">o</span><span class="cpf">r</span><span class="cpf">y</span><span class="cpf">&gt;</span><span class="cp">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">R</span><span class="nc">L</span><span class="nc">M</span><span class="nc">e</span><span class="nc">t</span><span class="nc">a</span><span class="nc">O</span><span class="nc">b</span><span class="nc">j</span><span class="nc">e</span><span class="nc">c</span><span class="nc">t</span><span class=""> </span><span class="p">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">v</span><span class="k">i</span><span class="k">r</span><span class="k">t</span><span class="k">u</span><span class="k">a</span><span class="k">l</span><span class=""> </span><span class="kt">b</span><span class="kt">o</span><span class="kt">o</span><span class="kt">l</span><span class=""> </span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">e</span><span class="n">s</span><span class="p">(</span><span class="k">c</span><span class="k">o</span><span class="k">n</span><span class="k">s</span><span class="k">t</span><span class=""> </span><span class="n">R</span><span class="n">L</span><span class="n">M</span><span class="n">e</span><span class="n">t</span><span class="n">a</span><span class="n">O</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class=""> </span><span class="o">&amp;</span><span class="n">o</span><span class="n">t</span><span class="n">h</span><span class="n">e</span><span class="n">r</span><span class="p">)</span><span class=""> </span><span class="p">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="nb">f</span><span class="nb">a</span><span class="nb">l</span><span class="nb">s</span><span class="nb">e</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="p">}</span><span class="">
</span><span class="p">}</span><span class="p">;</span><span class="">
</span><span class="">
</span><span class="k">c</span><span class="k">l</span><span class="k">a</span><span class="k">s</span><span class="k">s</span><span class=""> </span><span class="nc">R</span><span class="nc">L</span><span class="nc">M</span><span class="nc">e</span><span class="nc">t</span><span class="nc">a</span><span class="nc">I</span><span class="nc">n</span><span class="nc">t</span><span class="nc">e</span><span class="nc">g</span><span class="nc">e</span><span class="nc">r</span><span class=""> </span><span class="o">:</span><span class=""> </span><span class="k">p</span><span class="k">u</span><span class="k">b</span><span class="k">l</span><span class="k">i</span><span class="k">c</span><span class=""> </span><span class="n">R</span><span class="n">L</span><span class="n">M</span><span class="n">e</span><span class="n">t</span><span class="n">a</span><span class="n">O</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class=""> </span><span class="p">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">r</span><span class="k">i</span><span class="k">v</span><span class="k">a</span><span class="k">t</span><span class="k">e</span><span class="o">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="kt">i</span><span class="kt">n</span><span class="kt">t</span><span class=""> </span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">p</span><span class="k">u</span><span class="k">b</span><span class="k">l</span><span class="k">i</span><span class="k">c</span><span class="o">:</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">R</span><span class="n">L</span><span class="n">M</span><span class="n">e</span><span class="n">t</span><span class="n">a</span><span class="n">I</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">g</span><span class="n">e</span><span class="n">r</span><span class="p">(</span><span class="kt">i</span><span class="kt">n</span><span class="kt">t</span><span class=""> </span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="p">)</span><span class=""> </span><span class="o">:</span><span class=""> </span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="p">(</span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="p">)</span><span class=""> </span><span class="p">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="p">}</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="kt">b</span><span class="kt">o</span><span class="kt">o</span><span class="kt">l</span><span class=""> </span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">e</span><span class="n">s</span><span class="p">(</span><span class="k">c</span><span class="k">o</span><span class="k">n</span><span class="k">s</span><span class="k">t</span><span class=""> </span><span class="n">R</span><span class="n">L</span><span class="n">M</span><span class="n">e</span><span class="n">t</span><span class="n">a</span><span class="n">O</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class=""> </span><span class="o">&amp;</span><span class="n">o</span><span class="n">t</span><span class="n">h</span><span class="n">e</span><span class="n">r</span><span class="p">)</span><span class=""> </span><span class="p">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">t</span><span class="k">r</span><span class="k">y</span><span class=""> </span><span class="p">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">c</span><span class="k">o</span><span class="k">n</span><span class="k">s</span><span class="k">t</span><span class=""> </span><span class="n">R</span><span class="n">L</span><span class="n">M</span><span class="n">e</span><span class="n">t</span><span class="n">a</span><span class="n">I</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">g</span><span class="n">e</span><span class="n">r</span><span class=""> </span><span class="o">&amp;</span><span class="n">o</span><span class="n">t</span><span class="n">h</span><span class="n">e</span><span class="n">r</span><span class="n">I</span><span class="n">n</span><span class="n">t</span><span class=""> </span><span class="o">=</span><span class=""> </span><span class="k">d</span><span class="k">y</span><span class="k">n</span><span class="k">a</span><span class="k">m</span><span class="k">i</span><span class="k">c</span><span class="k">_</span><span class="k">c</span><span class="k">a</span><span class="k">s</span><span class="k">t</span><span class="o">&lt;</span><span class="k">c</span><span class="k">o</span><span class="k">n</span><span class="k">s</span><span class="k">t</span><span class=""> </span><span class="n">R</span><span class="n">L</span><span class="n">M</span><span class="n">e</span><span class="n">t</span><span class="n">a</span><span class="n">I</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">g</span><span class="n">e</span><span class="n">r</span><span class="o">&amp;</span><span class="o">&gt;</span><span class="p">(</span><span class="n">o</span><span class="n">t</span><span class="n">h</span><span class="n">e</span><span class="n">r</span><span class="p">)</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="n">o</span><span class="n">t</span><span class="n">h</span><span class="n">e</span><span class="n">r</span><span class="n">I</span><span class="n">n</span><span class="n">t</span><span class="p">.</span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class=""> </span><span class="o">=</span><span class="o">=</span><span class=""> </span><span class="n">v</span><span class="n">a</span><span class="n">l</span><span class="n">u</span><span class="n">e</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="p">}</span><span class=""> </span><span class="k">c</span><span class="k">a</span><span class="k">t</span><span class="k">c</span><span class="k">h</span><span class=""> </span><span class="p">(</span><span class="n">s</span><span class="n">t</span><span class="n">d</span><span class="o">:</span><span class="o">:</span><span class="n">b</span><span class="n">a</span><span class="n">d</span><span class="n">_</span><span class="n">c</span><span class="n">a</span><span class="n">s</span><span class="n">t</span><span class="p">)</span><span class=""> </span><span class="p">{</span><span class="p">}</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="nb">f</span><span class="nb">a</span><span class="nb">l</span><span class="nb">s</span><span class="nb">e</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="p">}</span><span class="">
</span><span class="p">}</span><span class="p">;</span><span class="">
</span><span class="">
</span><span class="kt">i</span><span class="kt">n</span><span class="kt">t</span><span class=""> </span><span class="nf">m</span><span class="nf">a</span><span class="nf">i</span><span class="nf">n</span><span class="p">(</span><span class="p">)</span><span class=""> </span><span class="p">{</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">R</span><span class="n">L</span><span class="n">M</span><span class="n">e</span><span class="n">t</span><span class="n">a</span><span class="n">O</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class=""> </span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">R</span><span class="n">L</span><span class="n">M</span><span class="n">e</span><span class="n">t</span><span class="n">a</span><span class="n">I</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">g</span><span class="n">e</span><span class="n">r</span><span class=""> </span><span class="n">i</span><span class="n">n</span><span class="n">t</span><span class="n">5</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">R</span><span class="n">L</span><span class="n">M</span><span class="n">e</span><span class="n">t</span><span class="n">a</span><span class="n">I</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">g</span><span class="n">e</span><span class="n">r</span><span class=""> </span><span class="n">i</span><span class="n">n</span><span class="n">t</span><span class="n">6</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">d</span><span class="o">:</span><span class="o">:</span><span class="n">c</span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="s">"</span><span class="s">I</span><span class="s">n</span><span class="s">t</span><span class="s">e</span><span class="s">g</span><span class="s">e</span><span class="s">r</span><span class="s">(</span><span class="s">5</span><span class="s">)</span><span class="s"> </span><span class="s">m</span><span class="s">a</span><span class="s">t</span><span class="s">c</span><span class="s">h</span><span class="s">e</span><span class="s">s</span><span class="s"> </span><span class="s">O</span><span class="s">b</span><span class="s">j</span><span class="s">e</span><span class="s">c</span><span class="s">t</span><span class="s">?</span><span class="s"> </span><span class="s"> </span><span class="s"> </span><span class="s"> </span><span class="s"> </span><span class="s">"</span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="n">i</span><span class="n">n</span><span class="n">t</span><span class="n">5</span><span class="p">.</span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">e</span><span class="n">s</span><span class="p">(</span><span class="n">o</span><span class="n">b</span><span class="n">j</span><span class="p">)</span><span class=""> </span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="s">"</span><span class="se">\</span><span class="se">n</span><span class="s">"</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">d</span><span class="o">:</span><span class="o">:</span><span class="n">c</span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="s">"</span><span class="s">I</span><span class="s">n</span><span class="s">t</span><span class="s">e</span><span class="s">g</span><span class="s">e</span><span class="s">r</span><span class="s">(</span><span class="s">5</span><span class="s">)</span><span class="s"> </span><span class="s">m</span><span class="s">a</span><span class="s">t</span><span class="s">c</span><span class="s">h</span><span class="s">e</span><span class="s">s</span><span class="s"> </span><span class="s">I</span><span class="s">n</span><span class="s">t</span><span class="s">e</span><span class="s">g</span><span class="s">e</span><span class="s">r</span><span class="s">(</span><span class="s">6</span><span class="s">)</span><span class="s">?</span><span class="s"> </span><span class="s">"</span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="n">i</span><span class="n">n</span><span class="n">t</span><span class="n">5</span><span class="p">.</span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">e</span><span class="n">s</span><span class="p">(</span><span class="n">i</span><span class="n">n</span><span class="n">t</span><span class="n">6</span><span class="p">)</span><span class=""> </span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="s">"</span><span class="se">\</span><span class="se">n</span><span class="s">"</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="n">s</span><span class="n">t</span><span class="n">d</span><span class="o">:</span><span class="o">:</span><span class="n">c</span><span class="n">o</span><span class="n">u</span><span class="n">t</span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="s">"</span><span class="s">I</span><span class="s">n</span><span class="s">t</span><span class="s">e</span><span class="s">g</span><span class="s">e</span><span class="s">r</span><span class="s">(</span><span class="s">6</span><span class="s">)</span><span class="s"> </span><span class="s">m</span><span class="s">a</span><span class="s">t</span><span class="s">c</span><span class="s">h</span><span class="s">e</span><span class="s">s</span><span class="s"> </span><span class="s">I</span><span class="s">n</span><span class="s">t</span><span class="s">e</span><span class="s">g</span><span class="s">e</span><span class="s">r</span><span class="s">(</span><span class="s">6</span><span class="s">)</span><span class="s">?</span><span class="s"> </span><span class="s">"</span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="n">i</span><span class="n">n</span><span class="n">t</span><span class="n">6</span><span class="p">.</span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">e</span><span class="n">s</span><span class="p">(</span><span class="n">i</span><span class="n">n</span><span class="n">t</span><span class="n">6</span><span class="p">)</span><span class=""> </span><span class=""> </span><span class="o">&lt;</span><span class="o">&lt;</span><span class=""> </span><span class="s">"</span><span class="se">\</span><span class="se">n</span><span class="s">"</span><span class="p">;</span><span class="">
</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="k">r</span><span class="k">e</span><span class="k">t</span><span class="k">u</span><span class="k">r</span><span class="k">n</span><span class=""> </span><span class="mi">0</span><span class="p">;</span><span class="">
</span><span class="p">}</span><span class="">
</span></pre></div>

</div>

<div class="rliterate-code"><div class="rliterate-code-body"><pre><span class="n">I</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">g</span><span class="n">e</span><span class="n">r</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class=""> </span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">e</span><span class="n">s</span><span class=""> </span><span class="n">O</span><span class="n">b</span><span class="n">j</span><span class="n">e</span><span class="n">c</span><span class="n">t</span><span class="o">?</span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class=""> </span><span class="mi">0</span><span class="">
</span><span class="n">I</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">g</span><span class="n">e</span><span class="n">r</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class=""> </span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">e</span><span class="n">s</span><span class=""> </span><span class="n">I</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">g</span><span class="n">e</span><span class="n">r</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">?</span><span class=""> </span><span class="mi">0</span><span class="">
</span><span class="n">I</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">g</span><span class="n">e</span><span class="n">r</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class=""> </span><span class="n">m</span><span class="n">a</span><span class="n">t</span><span class="n">c</span><span class="n">h</span><span class="n">e</span><span class="n">s</span><span class=""> </span><span class="n">I</span><span class="n">n</span><span class="n">t</span><span class="n">e</span><span class="n">g</span><span class="n">e</span><span class="n">r</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">?</span><span class=""> </span><span class="mi">1</span><span class="">
</span></pre></div>

</div>

<p>For this to work, there has to be some virtual member in the base class.</p>

<h2><a name="8fe0f8cbf13f49c0a4d9aa4f92fa2540"></a>Misc</h2>

<div class="rliterate-code"><div class="rliterate-code-header"><ol class="rliterate-code-path"><li>runcpp.sh</li></ol>

</div>

<div class="rliterate-code-body"><pre><span class="">c</span><span class="">a</span><span class="">t</span><span class=""> </span><span class="">&gt;</span><span class=""> </span><span class="">t</span><span class="">m</span><span class="">p</span><span class="">.</span><span class="">c</span><span class="">p</span><span class="">p</span><span class=""> </span><span class="o">&amp;</span><span class="o">&amp;</span><span class=""> </span><span class="">g</span><span class="">+</span><span class="">+</span><span class=""> </span><span class="">t</span><span class="">m</span><span class="">p</span><span class="">.</span><span class="">c</span><span class="">p</span><span class="">p</span><span class=""> </span><span class="">-</span><span class="">o</span><span class=""> </span><span class="">t</span><span class="">m</span><span class="">p</span><span class=""> </span><span class="o">&amp;</span><span class="o">&amp;</span><span class=""> </span><span class="">.</span><span class="">/</span><span class="">t</span><span class="">m</span><span class="">p</span><span class=""> </span><span class="o">&amp;</span><span class="o">&amp;</span><span class=""> </span><span class="">r</span><span class="">m</span><span class=""> </span><span class="">t</span><span class="">m</span><span class="">p</span><span class="">.</span><span class="">c</span><span class="">p</span><span class="">p</span><span class=""> </span><span class="">t</span><span class="">m</span><span class="">p</span><span class="">
</span></pre></div>

</div>

]]></summary>
</entry>
<entry>
    <title>DRAFT: Parsing off-side rule languages with RLMeta</title>
    <link href="http://rickardlindberg.me/writing/draft-rlmeta-offside/" />
    <id>http://rickardlindberg.me/writing/draft-rlmeta-offside/</id>
    <published>2019-06-27T00:00:00Z</published>
    <updated>2019-06-27T00:00:00Z</updated>
    <summary type="html"><![CDATA[<h1>DRAFT: Parsing off-side rule languages with RLMeta</h1>

<p><em>Published on 2019-06-27.</em></p>

<strong>This is a work in progress that will change. Like to see it finished? Let me know by sending me an email.</strong>

<p>In this article I describe how to parse <a href="https://en.wikipedia.org/wiki/Off-side_rule">off-side rule</a> languages using RLMeta.</p>

<ul><li><a href="#d44bd1779e9f4cdab7ac14e0b23ad3bf">Markdown</a>

</li>

<li><a href="#c2cd13666c264ac2bcfde34ec81f77b5">Python</a>

</li>

<li><a href="#5cca99df2e2c4c78ab4bfe4cb946d89a">Notes</a>

</li>

</ul><h2><a name="d44bd1779e9f4cdab7ac14e0b23ad3bf"></a>Markdown</h2>

<h2><a name="c2cd13666c264ac2bcfde34ec81f77b5"></a>Python</h2>

<h2><a name="5cca99df2e2c4c78ab4bfe4cb946d89a"></a>Notes</h2>

<p>Got the idea from <a href="https://github.com/jgm/peg-markdown/">A PEG Markdown parser</a>.</p>

<p>Failure messages will have wrong location.</p>

]]></summary>
</entry>

</feed>
